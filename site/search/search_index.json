{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u6b22\u8fce","text":"<p>\u672c\u7b14\u8bb0\u662f\u5bf9\u8d75\u4e16\u94b0\u8001\u5e08\u6240\u8457\u300a\u5f3a\u5316\u5b66\u4e60\u4e2d\u7684\u6570\u5b66\u539f\u7406\u300b\u7684\u4e2a\u4eba\u601d\u8003\u4e0e\u603b\u7ed3\uff0c\u7b14\u8005\u5c06\u5176\u505a\u6210\u4e86\u7f51\u9875\u6a21\u5f0f\uff0c\u65b9\u4fbf\u5927\u5bb6\u968f\u65f6\u968f\u5730\u5728\u638c\u4e0a\u8bbe\u5907\u9605\u8bfb\u3002\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u6211\u8fd8\u8865\u5145\u4e86\u5bf9\u4e66\u4e2d\u6838\u5fc3\u7b97\u6cd5\u7684\u5b9e\u73b0\uff0c\u4ee5\u4fbf\u8bfb\u8005\u80fd\u83b7\u5f97\u66f4\u76f4\u89c2\u7684\u7406\u89e3\u3002\u4e66\u4e2d\u9996\u5148\u4ece\u57fa\u7840\u6982\u5ff5\u5165\u624b\uff0c\u8bb2\u89e3Bellman\u516c\u5f0f\u548cBellman\u6700\u4f18\u516c\u5f0f\uff0c\u63a5\u7740\u6269\u5c55\u5230\u57fa\u4e8e\u6a21\u578b\uff08model-based\uff09\u548c\u65e0\u6a21\u578b\uff08model-free\uff09\u7684\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\uff0c\u6700\u7ec8\u63a8\u5e7f\u5230\u57fa\u4e8e\u51fd\u6570\u903c\u8fd1\u7684\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u3002\u82e5\u8bfb\u8005\u5728\u5f3a\u5316\u5b66\u4e60\u65b9\u9762\u6ca1\u6709\u80cc\u666f\u77e5\u8bc6\uff0c\u53ea\u9700\u5177\u5907\u4e00\u5b9a\u7684\u7ebf\u6027\u4ee3\u6570\u548c\u6982\u7387\u8bba\u57fa\u7840\u5373\u53ef\u9605\u8bfb\u672c\u4e66\u3002\u800c\u5bf9\u4e8e\u5df2\u6709\u4e00\u4e9b\u5f3a\u5316\u5b66\u4e60\u77e5\u8bc6\u7684\u8bfb\u8005\uff0c\u672c\u7b14\u8bb0\u5219\u53ef\u4ee5\u5e2e\u52a9\u4ed6\u4eec\u6df1\u5165\u7406\u89e3\u76f8\u5173\u95ee\u9898\u3002</p>"},{"location":"Preface1/","title":"\u5f15\u8a00","text":"<p>\u5386\u7ecf\u4e09\u4e2a\u661f\u671f\u5de6\u53f3\u7684\u65f6\u95f4\uff0c\u7ec8\u4e8e\u628a\u8fd9\u672c\u300a\u5f3a\u5316\u5b66\u4e60\u4e2d\u7684\u6570\u5b66\u539f\u7406\u300b\u8bfe\u7a0b\u7b14\u8bb0\u5199\u5b8c\uff0c\u7531\u4e8e\u5728github\u7684\u7248\u672c\u53ea\u6709\u82f1\u6587\u7248\uff0c\u6240\u4ee5\u6211\u5728\u5b66\u4e60\u7684\u8fc7\u7a0b\u4e2d\u4e5f\u662f\u4e00\u8fb9\u7ffb\u8bd1\u4e00\u8fb9\u505a\u7b14\u8bb0\uff0c\u5f53\u7136\u8fd9\u5957\u7b14\u8bb0\u8fd8\u5b58\u5728\u7740\u4e00\u4e9b\u95ee\u9898\uff0c\u9700\u8981\u6211\u5728\u672a\u6765\u7684\u65f6\u95f4\u91cc\u6162\u6162\u4fee\u8ba2\u6253\u78e8\u3002</p> <p>\u5f3a\u5316\u5b66\u4e60\u662f\u4e00\u95e8\u517c\u987e\u6570\u5b66\u539f\u7406\u548c\u52a8\u624b\u5b9e\u8df5\u7684\u5b66\u79d1\uff0c\u5728\u8fd9\u672c\u4e66\u4e2d\u5c06\u4e13\u6ce8\u4e8e\u524d\u8005\uff0c\u5355\u667a\u80fd\u4f53\u5728\u7f51\u683c\u4e16\u754c\u4e2d\u79fb\u52a8\u7684\u786e\u5b9a\u6027\u573a\u666f\u8d2f\u7a7f\u5168\u4e66\uff0c\u4e3a\u8bfb\u8005\u7406\u89e3\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5f88\u597d\u7684\u4f8b\u5b50\u3002\u4f46\u662f\u4f5c\u4e3a\u4e00\u672c\u91cd\u7406\u8bba\u63a8\u5bfc\uff0c\u8f7b\u4ee3\u7801\u5b9e\u8df5\u7684\u4e66\u7c4d\uff0c\u6211\u5efa\u8bae\u5c06\u8981\u5b66\u4e60\u5f3a\u5316\u5b66\u4e60\u7684\u8bfb\u8005\u53ef\u4ee5\u628a\u8fd9\u672c\u4e66\u4f5c\u4e3a\u7b2c\u4e8c\u672c\u8bfb\u7269(\u81f3\u4e8e\u7b2c\u4e00\u672c\u5e94\u8be5\u662f\u4ec0\u4e48\u6211\u4e5f\u4e0d\u786e\u5b9a)\uff0c\u5bf9\u4e8e\u5927\u90e8\u5206\u4eba\u6765\u8bf4\uff0c\u5f3a\u5316\u5b66\u4e60\u5e94\u8be5\u662f\u4e00\u95e8\u5de5\u79d1\u800c\u975e\u7406\u79d1\uff0c\u5148\u5b66\u4f1a\u53bb\u5199\u4ee3\u7801\u638c\u63e1\u5927\u5c40\uff0c\u518d\u53bb\u4e86\u89e3\u5e95\u5c42\u539f\u7406\u5f80\u5f80\u4f1a\u8d77\u5230\u66f4\u6df1\u5165\u7684\u6548\u679c\u3002</p> <p>\u5f3a\u5316\u5b66\u4e60\u4e2d\u4e00\u4e2a\u975e\u5e38\u57fa\u7840\u7684\u6982\u5ff5\u5c31\u662f\u63a2\u7d22\u4e0e\u5229\u7528\u95ee\u9898\uff0c\u5982\u4f55\u627e\u5230\u4e00\u4e2a\u5e73\u8861\u70b9\u4ee5\u4fbf\u5728\u73af\u5883\u4e2d\u627e\u5230\u6700\u4f73\u7b56\u7565\u6211\uff0c\u6ca1\u6709\u5145\u5206\u63a2\u7d22\u5c31\u76f2\u76ee\u9009\u62e9\u53ef\u80fd\u4f1a\u4f7f\u6a21\u578b\u9677\u5165\u5c40\u90e8\u6700\u4f18\u6216\u5b8c\u5168\u4e0d\u6536\u655b\u3002\u6240\u4ee5\u6211\u4e5f\u5e0c\u671b\u8bfb\u8005\u53ef\u4ee5\u628a\u76ee\u5149\u653e\u5e7f\uff0c\u4e0d\u4ec5\u4ec5\u5c40\u9650\u4e8e\u672c\u4e66\uff0c\u5f3a\u5316\u5b66\u4e60\u7684\u53d8\u5316\u65e5\u65b0\u6708\u5f02\uff0c\u5e94\u8be5\u591a\u53bb\u63a2\u7d22\u524d\u6cbf\u9886\u57df\u7684\u7814\u7a76\uff0c\u627e\u5230\u81ea\u5df1\u7684\u7814\u7a76\u5174\u8da3\u3002</p> <p>\u672c\u7b14\u8bb0\u7684\u5f00\u6e90\u7248\u672c\u6258\u7ba1\u4e8eGitHub\uff0c\u4ed3\u5e93\u540d\u4e3a\"Mathematical-Foundations-of-Reinforcement-Learning-Notes\"\u3002</p>"},{"location":"Box/Box-2-1/","title":"2.1:\u8fed\u4ee3\u89e3\u6cd5\u7684\u6536\u655b\u6027\u8bc1\u660e","text":"<p>\u5c06\u8bef\u5dee\u5b9a\u4e49\u4e3a\\(\\delta_k = v_k - v_\\pi\\)\u3002\u6211\u4eec\u53ea\u9700\u8bc1\u660e\\(\\delta_k \\rightarrow 0\\)\u3002\\(v_{k+1} = \\delta_{k+1} + v_\\pi\\) \u548c \\(v_k = \\delta_k + v_\\pi\\) \u4ee3\u5165 \\(v_{k+1} = r_\\pi + \\gamma P_\\pi v_k\\) \u53ef\u5f97</p> \\[\\delta_{k+1}+v_\\pi=r_\\pi+\\gamma P_\\pi(\\delta_k+v_\\pi),\\] <p>\u53ef\u4ee5\u88ab\u5199\u4e3a</p> \\[\\begin{aligned}\\delta_{k+1}&amp;=-v_{\\pi}+r_{\\pi}+\\gamma P_{\\pi}\\delta_{k}+\\gamma P_{\\pi}v_{\\pi},\\\\&amp;=\\gamma P_{\\pi}\\delta_{k}-v_{\\pi}+(r_{\\pi}+\\gamma P_{\\pi}v_{\\pi}),\\\\&amp;=\\gamma P_{\\pi}\\delta_{k}.\\end{aligned}\\] <p>\u56e0\u6b64</p> \\[\\delta_{k+1}=\\gamma P_{\\pi}\\delta_{k}=\\gamma^{2}P_{\\pi}^{2}\\delta_{k-1}=\\cdots=\\gamma^{k+1}P_{\\pi}^{k+1}\\delta_{0}.\\] <p>\u7531\u4e8e\\(P_\\pi\\)\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u975e\u8d1f\u4e14\u4e0d\u5927\u4e8e\\(1\\)\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\\(0\\leq P_\\pi^k \\leq 1\\)\uff0c\u5bf9\u4e8e\u4efb\u610f\\(k\\)\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\\(P_\\pi^k\\)\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u4e0d\u5927\u4e8e\\(1\\)\uff0c\u53e6\u4e00\u65b9\u9762\uff0c\u7531\u4e8e\\(\\gamma&lt; 1\\)\uff0c\u6211\u4eec\u77e5\u9053\\(\\gamma^k\\rightarrow 0\\)\uff0c\u56e0\u6b64\\(\\delta_{k+1}=\\gamma^{k+1}P_\\pi^{k+1}\\delta_0\\rightarrow 0\\)\u5f53\\(k\\rightarrow\\infty\\)\u65f6\u3002</p>"},{"location":"Box/Box-7-1/","title":"7.1:TD\u7b97\u6cd5\u7684\u63a8\u5bfc","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u8bc1\u660e\uff0c\\((7.1)\\)\u4e2d\u7684TD\u7b97\u6cd5\u53ef\u901a\u8fc7\u5e94\u7528RM\u7b97\u6cd5\u6c42\u89e3\\((7.4)\\)\u83b7\u5f97\u3002</p> <p>\u5bf9\u4e8e\u72b6\u6001\\(s_t\\)\uff0c\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u4e3a</p> <p>\\(g(v_\\pi(s_t))= v_\\pi(s_t)-\\mathbb{E}\\left[R_{t+1}+\\gamma v_\\pi(S_{t+1})|S_t=s_t\\right].\\)</p> <p>\u90a3\u4e48\uff0c\\((7.4)\\)\u5f0f\u7b49\u4ef7\u4e8e</p> \\[g(v_\\pi(s_t))=0.\\] <p>\u6211\u4eec\u7684\u76ee\u6807\u662f\u901a\u8fc7RM\u7b97\u6cd5\u6c42\u89e3\u4e0a\u8ff0\u65b9\u7a0b\u4ee5\u83b7\u5f97\\(v_\\pi(s_t)\\)\u3002\u7531\u4e8e\u53ef\u4ee5\u83b7\u5f97\\(r_{t+1}\\)\u548c\\(s_{t+1}\\)\uff08\u5b83\u4eec\u5206\u522b\u662f\\(R_{t+1}\\)\u548c\\(S_{t+1}\\)\u7684\u6837\u672c\uff09\uff0c\u56e0\u6b64\u53ef\u83b7\u5f97\u7684\\(g(v_\\pi(s_t))\\)\u566a\u58f0\u89c2\u6d4b\u503c\u4e3a</p> \\[\\begin{aligned}\\tilde{g}(v_{\\pi}(s_{t}))&amp;=v_{\\pi}(s_{t})-\\begin{bmatrix}r_{t+1}+\\gamma v_{\\pi}(s_{t+1})\\end{bmatrix}\\\\&amp;=\\underbrace{\\left(v_{\\pi}(s_{t})-\\mathbb{E}\\left[R_{t+1}+\\gamma v_{\\pi}(S_{t+1})|S_{t}=s_{t}\\right]\\right)}_{g(v_{\\pi}(s_{t}))}\\\\&amp;+\\underbrace{\\left(\\mathbb{E}\\left[R_{t+1}+\\gamma v_{\\pi}(S_{t+1})|S_{t}=s_{t}\\right]-\\left[r_{t+1}+\\gamma v_{\\pi}(s_{t+1})\\right]\\right).}_{\\eta}\\end{aligned}\\] <p>\u56e0\u6b64\uff0c\u7528\u4e8e\u6c42\u89e3\\(g(v_\\pi(s_t)) =0\\)\u7684 RM\u7b97\u6cd5(\u7b2c\\(6.2\\)\u8282)</p> \\[\\begin{aligned}v_{t+1}(s_{t})&amp;=v_{t}(s_{t})-\\alpha_{t}(s_{t})\\tilde{g}(v_{t}(s_{t}))\\\\&amp;=v_{t}(s_{t})-\\alpha_{t}(s_{t})\\left(v_{t}(s_{t})-\\left[r_{t+1}+\\gamma v_{\\pi}(s_{t+1})\\right]\\right)\\end{aligned},\\tag{7.5}\\] <p>\u5176\u4e2d\\(v_t(s_t)\\)\u8868\u793a\u65f6\u523b\\(t\\)\u65f6\\(v_\\pi(s_t)\\)\u7684\u4f30\u8ba1\u503c\uff0c\\(\\alpha_t(s_t)\\)\u4e3a\u5b66\u4e60\u7387\u3002</p> <p>Note</p> <p>7.1\u4e2d\u7684\u5f0f\u5b50\u4e3a\\(v_{t+1}(s_t) = v_t(s_t) - \\alpha_t(s_t) \\left[ v_t(s_t) - \\left( r_{t+1} + \\gamma v_t(s_{t+1}) \\right) \\right]\\)</p> <p>\\((7.5)\\)\u5f0f\u4e2d\u7684\u7b97\u6cd5\u4e0e\\((7.1)\\)\u5f0fTD\u7b97\u6cd5\u5177\u6709\u76f8\u4f3c\u7684\u8868\u8fbe\u5f0f\uff0c\u552f\u4e00\u533a\u522b\u5728\u4e8e\\((7.5)\\)\u5f0f\u53f3\u4fa7\u5305\u542b\\(v_\\pi(s_{t+1})\\)\uff0c\u800c\\((7.1)\\)\u5f0f\u5305\u542b\\(v_t(s_{t+1})\\)\u3002\u8fd9\u662f\u56e0\u4e3a\\((7.5)\\)\u5f0f\u5728\u8bbe\u8ba1\u65f6\u4ec5\u9700\u4f30\u8ba1\u72b6\u6001\\(s_t\\)\u7684\u4ef7\u503c\uff0c\u5e76\u5047\u8bbe\u5176\u4ed6\u72b6\u6001\u4ef7\u503c\u5df2\u77e5\u3002\u82e5\u9700\u4f30\u8ba1\u6240\u6709\u72b6\u6001\u7684\u4ef7\u503c\uff0c\u5219\u5e94\u5c06\u53f3\u4fa7\u7684\\(v_\\pi(s_{t+1})\\)\u66ff\u6362\u4e3a\\(v_t(s_{t+1})\\)\u3002\u6b64\u65f6\uff0c\\((7.5)\\)\u5f0f\u5c06\u4e0e\\((7.1)\\)\u5f0f\u5b8c\u5168\u7b49\u540c\u3002\u4f46\u8fd9\u6837\u7684\u66ff\u6362\u662f\u5426\u4ecd\u80fd\u4fdd\u8bc1\u6536\u655b\u6027\uff1f\u7b54\u6848\u662f\u80af\u5b9a\u7684\uff0c\u8fd9\u5c06\u5728\u5b9a\u7406\\(7.1\\)\u4e2d\u4e88\u4ee5\u8bc1\u660e\u3002</p>"},{"location":"Box/Box-7-4/","title":"7.4:\u671f\u671bSarsa\u7b97\u6cd5","text":"<p>\u7ed9\u5b9a\u7b56\u7565 \\(\\pi\\)\uff0c\u5176\u884c\u52a8\u503c\u53ef\u901a\u8fc7Expected Sarsa\u7b97\u6cd5\u8fdb\u884c\u8bc4\u4f30\uff0c\u8be5\u7b97\u6cd5\u662fSarsa\u7684\u4e00\u79cd\u53d8\u4f53\u3002Expected Sarsa\u7b97\u6cd5\u7684\u8868\u8fbe\u5f0f\u4e3a</p>"},{"location":"Box/intro/","title":"\u4ecb\u7ecd","text":"<p>\u8fd9\u4e00\u7ae0\u4e3b\u8981\u662f\u8bb2\u89e3\u4e66\u4e2d\u6d89\u53ca\u7684\u5bf9\u5b9a\u7406\u8bc1\u660e\u7684\u90e8\u5206\uff0c\u6211\u5728\u5b66\u4e60\u7684\u8fc7\u7a0b\u4e2d\u5e76\u6ca1\u6709\u5c06\u5176\u653e\u5728\u7b14\u8bb0\u90e8\u5206\uff0c\u662f\u56e0\u4e3a\u6211\u8ba4\u4e3a\uff0c\u5728\u7b2c\u4e00\u904d\u5b66\u4e60\u7684\u8fc7\u7a0b\u4e2d\u8fc7\u4e8e\u6ce8\u91cd\u7ec6\u8282\u4f1a\u4f7f\u6574\u4f53\u5185\u5bb9\u5931\u53bb\u987a\u7545\u6027\uff0c\u4e2a\u4eba\u8ba4\u4e3a\u7b2c\u4e00\u904d\u7684\u5b66\u4e60\u53ef\u4ee5\u5148\u5ffd\u7565\u5bf9\u4e8e\u5b9a\u7406\u7684\u4e25\u683c\u8bc1\u660e\uff0c\u800c\u662f\u5bf9\u6240\u5b66\u7684\u4e1c\u897f\u6709\u4e00\u4e2a\u5b8f\u89c2\u7684\u628a\u63e1\uff0c\u5728\u4e4b\u540e\u82e5\u5e72\u904d\u7684\u5b66\u4e60\u4e2d\uff0c\u9010\u6e10\u638c\u63e1\u5bf9\u4e8e\u5b9a\u7406\u7684\u4e25\u683c\u5316\u8bc1\u660e\u3002</p> <p>\u672c\u4e66\u4e2d\u6240\u6709Box\u4e2d\u7684\u8bc1\u660e\u6211\u90fd\u6c47\u603b\u4e8e\u8fd9\u4e00\u7ae0\u8282\u4e2d\uff0c\u5e76\u9644\u4e0a\u4e86\u6211\u4e2a\u4eba\u7684\u8865\u5145\u4e0e\u7406\u89e3\u3002</p>"},{"location":"Chapter-1/1-1/","title":"1.1-\u7f51\u683c\u4e16\u754c","text":""},{"location":"Chapter-1/1-1/#11","title":"1.1 \u4e00\u4e2a\u7f51\u683c\u4e16\u754c\u4f8b\u5b50","text":"<p>\u56fe\\(1.2\\)\u5c55\u793a\u4e86\u4e00\u4e2a\u667a\u80fd\u4f53(agent)\u5728\u7f51\u683c\u4e16\u754c\u4e2d\u79fb\u52a8\u7684\u4f8b\u5b50\uff0c\u5176\u5c06\u4f1a\u5728\u6574\u672c\u4e66\u4e2d\u88ab\u5e7f\u6cdb\u4f7f\u7528\u3002\u5728\u6bcf\u4e2a\u65f6\u523b\uff0c\u667a\u80fd\u4f53\u53ea\u80fd\u5360\u636e\u4e00\u4e2a\u5355\u5143\u683c\u3002\u767d\u8272\u5355\u5143\u683c\u4ee3\u8868\u667a\u80fd\u4f53\u53ef\u4ee5\u8fdb\u5165\u7684\u533a\u57df\uff0c\u84dd\u8272\u5355\u5143\u683c\u4ee3\u8868\u76ee\u6807\u533a\u57df\uff0c\u6a59\u8272\u5355\u5143\u683c\u4ee3\u8868\u667a\u80fd\u4f53\u4e0d\u53ef\u4ee5\u8fdb\u5165\u7684\u7981\u533a\u3002\u667a\u80fd\u4f53\u7684\u4efb\u52a1\u5373\u4e3a\u4ece\u521d\u59cb\u533a\u57df\u51fa\u53d1\uff0c\u6700\u7ec8\u5230\u8fbe\u76ee\u6807\u533a\u57df\u3002</p> <p></p> <p>\u56fe 1.2: \u5728\u5168\u4e66\u4e2d\u4f7f\u7528\u7684\u73b0\u5b9e\u7f51\u683c\u4e16\u754c\u4f8b\u5b50</p> <p>\u5982\u679c\u667a\u80fd\u4f53\u4e8b\u5148\u77e5\u9053\u7f51\u683c\u4e16\u754c\u7684\u5730\u56fe\uff0c\u90a3\u4e48\u89c4\u5212\u4e00\u6761\u5230\u8fbe\u7ec8\u70b9\u7684\u8def\u5f84\u5176\u5b9e\u4e0d\u96be\u3002\u4f46\u73b0\u5b9e\u4e16\u754c\u4e2d\u60c5\u51b5\u5f80\u5f80\u4f1a\u5f88\u590d\u6742\uff0c\u667a\u80fd\u4f53\u5f88\u96be\u4e86\u89e3\u6709\u5173\u73af\u5883\u7684\u4efb\u4f55\u4fe1\u606f\u3002\u6b64\u65f6\u4fbf\u9700\u8981\u901a\u8fc7\u4e0e\u73af\u5883\u4ea4\u4e92\u83b7\u53d6\u7ecf\u9a8c\uff0c\u4ece\u800c\u627e\u5230\u4e00\u4e2a\u597d\u7684\u7b56\u7565\u3002\u56e0\u6b64\u5728\u672c\u7ae0\u4e2d\uff0c\u6211\u4eec\u5c06\u8981\u5b66\u4e60\u4e00\u7cfb\u5217\u57fa\u672c\u6982\u5ff5\u6765\u63cf\u8ff0\u8fd9\u6837\u4e00\u4e2a\u8fc7\u7a0b\u3002</p>"},{"location":"Chapter-1/1-2/","title":"1.2-\u72b6\u6001\u548c\u884c\u52a8","text":""},{"location":"Chapter-1/1-2/#12","title":"1.2 \u72b6\u6001\u548c\u884c\u52a8","text":"<p>\u672c\u4e66\u4e2d\u9996\u5148\u4ecb\u7ecd\u7684\u6982\u5ff5\u662f\u72b6\u6001 (state)\uff0c\u5b83\u63cf\u8ff0\u4e86\u667a\u80fd\u4f53\u76f8\u5bf9\u4e8e\u73af\u5883\u7684\u72b6\u51b5\u3002\u5728\u7f51\u683c\u4e16\u754c\u7684\u4f8b\u5b50\u4e2d\uff0c\u72b6\u6001\u5bf9\u5e94\u4e8e\u667a\u80fd\u4f53\u6240\u5728\u5355\u5143\u683c\u7684\u4f4d\u7f6e\u3002\u5982\u56fe\\(1.3\\)\u6240\u793a\uff0c\u8fd9\u4e2a\u7f51\u683c\u5177\u67099\u4e2a\u5355\u5143\u683c\uff0c\u56e0\u6b64\u4e5f\u5bf9\u5e94\u4e869\u4e2a\u72b6\u6001\uff0c\u5b83\u4eec\u5206\u522b\u8868\u793a\u4e3a\\(s_1,s_2,...,s_9\\)\uff0c\u6240\u6709\u72b6\u6001\u7684\u96c6\u5408\u88ab\u53eb\u505a\u72b6\u6001\u7a7a\u95f4 (state space)\uff0c\u8868\u793a\u4e3a\\(\\mathcal{S}=\\{s_{1},\\ldots,s_{9}\\}\u3002\\)</p> <p>\u6211\u4eec\u5c06\u8981\u4ecb\u7ecd\u7684\u7b2c\u4e8c\u4e2a\u6982\u5ff5\u662f\u884c\u52a8 (action)\u3002\u5177\u4f53\u5230\u7f51\u683c\u4e16\u754c\u4e2d\uff0c\u667a\u80fd\u4f53\u5728\u6bcf\u4e2a\u72b6\u6001\u4e0b\u4f1a\u91c7\u53d6\u4e94\u4e2a\u53ef\u80fd\u7684\u884c\u52a8\uff1a\u5411\u4e0a\u79fb\u52a8\uff0c\u5411\u53f3\u79fb\u52a8\uff0c\u5411\u4e0b\u79fb\u52a8\uff0c\u5411\u5de6\u79fb\u52a8\u548c\u9759\u6b62\u4e0d\u52a8\u3002\u8fd9\u4e94\u4e2a\u884c\u52a8\u5206\u522b\u88ab\u8868\u793a\u4e3a\\(a_1,a_2,...,a_5\\)(\u5982\u56fe\\(1.3(b)\\)\u4e2d\u6240\u793a)\u3002\u6240\u6709\u52a8\u4f5c\u7684\u96c6\u5408\u88ab\u79f0\u4e3a\u884c\u52a8\u7a7a\u95f4 (action space)\uff0c\u8868\u793a\u4e3a\\(\\mathcal{A}=\\{a_{1},\\ldots,a_{5}\\}\\)\u3002</p> <p>\u4e0d\u540c\u7684\u72b6\u6001\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u884c\u52a8\u7a7a\u95f4\uff0c\u4f8b\u5982\uff0c\u5728\\(s_1\\)\u7684\u72b6\u6001\u4e0b\u91c7\u53d6\\(a_1\\)\u6216\\(a_4\\)\u4f1a\u5bfc\u81f4\u667a\u80fd\u4f53\u4e0e\u8fb9\u754c\u53d1\u751f\u78b0\u649e\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e\\(s_1\\)\u7684\u884c\u52a8\u7a7a\u95f4\u4e3a\\(\\mathcal{A}(s_1)=\\{a_{2},a_3,a_{5}\\}\\)\u3002\u5728\u8fd9\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u8003\u8651\u6700\u4e00\u822c\u7684\u60c5\u51b5\uff0c\u5373\u4f7f\u5176\u4e2d\u6709\u6211\u4eec\u8ba4\u4e3a\u4e0d\u5408\u7406\u7684\u884c\u52a8\uff0c\u6211\u4eec\u4e5f\u5e76\u4e0d\u662f\u4eba\u4e3a\u53bb\u9664\uff0c\u800c\u662f\u901a\u8fc7\u7b97\u6cd5\u6765\u5b66\u4e60\u9009\u62e9\u3002\u5373\uff0c\u5bf9\u4efb\u610f\u72b6\u6001\\(s\\in\\mathcal{S}\\)\uff0c\u6709\\(\\mathcal{A}=\\{a_1,a_2,\\ldots,a_5\\}\\)</p> <p></p> <p>\u56fe1.3 \u72b6\u6001\u548c\u884c\u52a8\u7684\u56fe\u89e3\uff0c\u8fd9\u91cc\u6709\u4e5d\u4e2a\u72b6\u6001\\({s_1,...,s_9}\\)\uff0c\u6bcf\u4e2a\u72b6\u6001\u6709\u4e94\u4e2a\u53ef\u80fd\u7684\u884c\u52a8\\({a_1,a_2,a_3,a_4,a_5}\\)\u3002</p>"},{"location":"Chapter-1/1-3/","title":"1.3-\u72b6\u6001\u8f6c\u79fb","text":""},{"location":"Chapter-1/1-3/#13","title":"1.3 \u72b6\u6001\u8f6c\u79fb","text":"<p>\u5f53\u6267\u884c\u4e00\u6b21\u884c\u52a8\u65f6\uff0c\u667a\u80fd\u4f53\u53ef\u80fd\u4f1a\u4ece\u4e00\u4e2a\u72b6\u6001\u8f6c\u79fb\u5230\u53e6\u5916\u4e00\u4e2a\u72b6\u6001\u3002\u8fd9\u6837\u4e00\u4e2a\u8fc7\u7a0b\u88ab\u79f0\u4e3a\u72b6\u6001\u8f6c\u79fb (state transition)\u3002\u4f8b\u5982\uff0c\u5982\u679c\u667a\u80fd\u4f53\u5728\u72b6\u6001\\(s_1\\)\u5904\u6267\u884c\u4e86\u884c\u52a8\\(a_2\\)(\u4e5f\u5c31\u662f\u5411\u53f3\u79fb\u52a8)\uff0c\u90a3\u4e48\u6b64\u65f6\u667a\u80fd\u4f53\u5c06\u4f1a\u79fb\u52a8\u5230\u72b6\u6001\\(s_2\\)\uff0c\u8fd9\u6837\u4e00\u4e2a\u8fc7\u7a0b\u53ef\u4ee5\u8868\u793a\u4e3a:</p> \\[s_1\\xrightarrow{a_2}s_2\\] <p>\u4e0b\u9762\u6211\u4eec\u8003\u8651\u4e24\u4e2a\u91cd\u8981\u4e14\u7279\u6b8a\u7684\u60c5\u51b5\u3002</p> <ul> <li> <p>\u5f53\u667a\u80fd\u4f53\u5c1d\u8bd5\u8dc3\u51fa\u8fb9\u754c\u65f6\uff0c\u5b83\u4e0b\u4e00\u6b65\u7684\u72b6\u6001\u5e94\u8be5\u662f\u4ec0\u4e48\u5462\uff1f\u4f8b\u5982\uff0c\u5728\\(s_1\\)\u65f6\u91c7\u53d6\u884c\u52a8\\(a_1\\)(\u4e5f\u5c31\u662f\u5411\u4e0a\u79fb\u52a8)\u65f6\u3002\u56e0\u4e3a\u667a\u80fd\u4f53\u4e0d\u53ef\u80fd\u6311\u51fa\u72b6\u6001\u7a7a\u95f4\uff0c\u6240\u4ee5\u667a\u80fd\u4f53\u5c06\u4f1a\u5f39\u56de\u5230\u67d0\u4e00\u72b6\u6001\uff0c\u5728\u672c\u4e66\u4e2d\u8bbe\u7f6e\u4e3a\u5f39\u56de\u539f\u6765\u7684\u72b6\u6001\uff0c\u8fd9\u6837\u4e00\u4e2a\u72b6\u6001\u8f6c\u79fb\u8fc7\u7a0b\u8868\u793a\u4e3a\\(s_1\\xrightarrow{a_1}s_1\\)\u3002</p> </li> <li> <p>\u5f53\u667a\u80fd\u4f53\u8bd5\u56fe\u8fdb\u5165\u7981\u533a\u65f6\uff0c\u5b83\u4e0b\u4e00\u6b65\u7684\u72b6\u6001\u5e94\u8be5\u662f\u4ec0\u4e48\u5462\uff1f\u4f8b\u5982\u5728\\(s_5\\)\u65f6\u91c7\u53d6\u884c\u52a8\\(a_2\\)(\u4e5f\u5c31\u662f\u5411\u53f3\u79fb\u52a8)\u3002\u5206\u6790\u4e24\u79cd\u4e0d\u540c\u7684\u60c5\u51b5\u3002\u5728\u7b2c\u4e00\u79cd\u60c5\u51b5\u4e0b\uff0c\u5c3d\u7ba1\\(s_6\\)\u662f\u7981\u533a\uff0c\u4f46\u662f\u4ed6\u4ecd\u7136\u662f\u53ef\u8bbf\u95ee\u7684\uff0c\u53ea\u4e0d\u8fc7\u8fdb\u5165\u7684\u65f6\u5019\u6709\u60e9\u7f5a\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e0b\u4e00\u4e2a\u72b6\u6001\u5c31\u662f\\(s_6\\)\u3002\u56e0\u6b64\u72b6\u6001\u8f6c\u79fb\u5c31\u662f\\(s_5\\xrightarrow{a_2}s_6\\)\u3002\u5728\u7b2c\u4e8c\u79cd\u60c5\u51b5\u4e0b\uff0c\\(s_6\\)\u662f\u4e0d\u53ef\u8bbf\u95ee\u7684\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u667a\u80fd\u4f53\u5728\u5c1d\u8bd5\u91c7\u53d6\u884c\u52a8\\(a_2\\)\u65f6\u5c06\u4f1a\u5f39\u56de\u56de\u5230\\(s_5\\)\uff0c\u56e0\u6b64\u8fd9\u65f6\u5019\u7684\u72b6\u6001\u8f6c\u79fb\u8fc7\u7a0b\u5c31\u662f\\(s_5\\xrightarrow{a_2}s_5\\)\u3002</p> <p>\u6211\u4eec\u7a76\u7adf\u5e94\u8be5\u8003\u8651\u54ea\u79cd\u60c5\u51b5\u5462\uff1f\u5728\u4e0d\u540c\u7684\u573a\u666f\u4e0b\u6709\u4e0d\u540c\u7684\u9009\u62e9\u3002\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u8003\u8651\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u5373\u7981\u533a\u662f\u53ef\u4ee5\u88ab\u8bbf\u95ee\u7684\uff0c\u53ea\u662f\u667a\u80fd\u4f53\u8fdb\u5165\u7981\u533a\u4f1a\u53d7\u5230\u60e9\u7f5a\u3002\u8fd9\u79cd\u60c5\u666f\u66f4\u52a0\u4e00\u822c\u5316\u5e76\u4e14\u6709\u8da3\u3002\u6211\u4eec\u5728\u540e\u9762\u7684\u90e8\u5206\u4f8b\u5b50\u4e2d\u53ef\u4ee5\u770b\u5230\u667a\u80fd\u4f53\u53ef\u80fd\u201c\u5192\u9669\u201d\u7a7f\u8fc7\u7981\u533a\uff0c\u4ece\u800c\u66f4\u5feb\u5730\u5230\u8fbe\u76ee\u6807\u533a\u57df\u3002</p> </li> </ul> <p>\u6bcf\u4e2a\u72b6\u6001\u7684\u6bcf\u4e00\u4e2a\u884c\u52a8\u90fd\u4f1a\u5bf9\u5e94\u4e00\u4e2a\u72b6\u6001\u8f6c\u79fb\u8fc7\u7a0b\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u5728\u8868\\(1.1\\)\u4e2d\u6709\u6240\u63cf\u8ff0\u3002\u5728\u8fd9\u4e2a\u8868\u4e2d\uff0c\u6bcf\u4e00\u884c\u5bf9\u5e94\u4e00\u4e2a\u72b6\u6001\uff0c\u6bcf\u4e00\u5217\u4ee3\u8868\u4e00\u4e2a\u884c\u52a8\u3002\u6bcf\u4e00\u4e2a\u5355\u5143\u683c\u7ed9\u51fa\u4e86\u5f53\u667a\u80fd\u4f53\u5728\u5bf9\u5e94\u7684\u72b6\u6001\u91c7\u53d6\u4e86\u5bf9\u5e94\u884c\u52a8\u540e\uff0c\u5c06\u4f1a\u8f6c\u79fb\u5230\u7684\u4e0b\u4e00\u4e2a\u72b6\u6001\u3002</p> <p></p> <p>\u88681.1 \u72b6\u6001\u8fc7\u7a0b\u7684\u8868\u683c\u8868\u793a\u3002\u6bcf\u4e2a\u5355\u5143\u683c\u8868\u793a\u667a\u80fd\u4f53\u5728\u67d0\u4e00\u72b6\u6001\u4e0b\u91c7\u53d6\u884c\u52a8\u540e\u8981\u8fc7\u6e21\u5230\u7684\u4e0b\u4e00\u4e2a\u72b6\u6001\u3002</p> <p>\u5728\u6570\u5b66\u4e0a\uff0c\u72b6\u6001\u8f6c\u79fb\u8fc7\u7a0b\u53ef\u4ee5\u7528\u6761\u4ef6\u6982\u7387\u6765\u63cf\u8ff0\uff0c\u4f8b\u5982\uff0c\u5bf9\u4e8e\u72b6\u6001\\(s_1\\)\u548c\u884c\u52a8\\(a_2\\)\u7684\u72b6\u6001\u8f6c\u79fb\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a </p> \\[\\begin{cases}&amp;p(s_1|s_1,a_2)=0,\\\\&amp;p(s_2|s_1,a_2)=1,\\\\&amp;p(s_3|s_1,a_2)=0,\\\\&amp;p(s_4|s_1,a_2)=0,\\\\&amp;p(s_5|s_1,a_2)=0,\\end{cases}\\] <p>\u8be5\u6761\u4ef6\u6982\u7387\u8868\u660e\uff0c\u5728\u72b6\u6001\\(s_1\\)\u65f6\u91c7\u53d6\u884c\u52a8\\(a_2\\)\u65f6\uff0c\u667a\u80fd\u4f53\u79fb\u52a8\u5230\u72b6\u6001\\(s_2\\)\u7684\u6982\u7387\u4e3a\\(1\\)\uff0c\u79fb\u52a8\u5230\u5176\u4ed6\u72b6\u6001\u7684\u6982\u7387\u4e3a\\(0\\)\u3002\u56e0\u6b64\u5728\u72b6\u6001\\(s_1\\)\u5904\u91c7\u53d6\u884c\u52a8\\(a_2\\)\u4e00\u5b9a\u4f1a\u5bfc\u81f4\u667a\u80fd\u4f53\u8f6c\u79fb\u5230\\(s_2\\)\uff0c\u5173\u4e8e\u6761\u4ef6\u6982\u7387\u7684\u9884\u5907\u77e5\u8bc6\u5728\u9644\u5f55A\u4e2d\u7ed9\u51fa\uff0c\u4f9b\u8bfb\u8005\u53c2\u8003\u3002</p> <p>Note</p> <p>\u5f3a\u70c8\u5efa\u8bae\u8bfb\u8005\u719f\u7ec3\u638c\u63e1\u6982\u7387\u8bba\u3002</p> <p>\u8868\u683c\u8868\u793a\u6cd5\u867d\u7136\u76f4\u89c2\uff0c\u4f46\u53ea\u80fd\u63cf\u8ff0\u786e\u5b9a\u6027(deterministic)\u7684\u72b6\u6001\u8f6c\u79fb\u8fc7\u7a0b\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u72b6\u6001\u8f6c\u79fb\u4e5f\u53ef\u80fd\u662f\u968f\u673a\u7684(stochastic)\uff0c\u6b64\u65f6\u9700\u8981\u7528\u6761\u4ef6\u6982\u7387\u5206\u5e03\u6765\u63cf\u8ff0\u3002\u4f8b\u5982\uff0c\u5f53\u4e00\u9635\u968f\u673a\u7684\u98ce\u5439\u8fc7\u7f51\u683c\u4e16\u754c\u65f6\uff0c\u5982\u679c\u5728\u72b6\u6001\\(s_1\\)\u5904\u91c7\u53d6\u884c\u52a8\\(a_2\\)\uff0c\u667a\u80fd\u4f53\u6709\u53ef\u80fd\u4f1a\u88ab\u5439\u5230\u72b6\u6001\\(s_5\\)\uff0c\u800c\u4e0d\u662f\u72b6\u6001\\(s_2\\)\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6709\\(p(s_5|s_1,a_2)&gt;0\\)\u3002\u4e0d\u8fc7\u4e3a\u4e86\u7b80\u5355\u8d77\u89c1\uff0c\u6211\u4eec\u5728\u4e66\u4e2d\u4ec5\u8003\u8651\u7f51\u683c\u4e16\u754c\u4e2d\u7684\u786e\u5b9a\u6027\u72b6\u6001\u8f6c\u79fb\u8fc7\u7a0b\u3002</p>"},{"location":"Chapter-1/1-4/","title":"1.4-\u7b56\u7565","text":""},{"location":"Chapter-1/1-4/#policy","title":"\u7b56\u7565(Policy)","text":"<p>\u7b56\u7565(policy)\u4f1a\u544a\u8bc9\u667a\u80fd\u4f53\u5728\u6bcf\u4e00\u4e2a\u72b6\u6001\u4e0b\u5e94\u8be5\u91c7\u53d6\u4ec0\u4e48\u884c\u52a8\u3002\u76f4\u89c2\u4e0a\uff0c\u7b56\u7565\u53ef\u4ee5\u88ab\u63cf\u8ff0\u4e3a\u56fe\\(1.4(a)\\)\u4e2d\u7684\u7bad\u5934\u3002\u5982\u679c\u667a\u80fd\u4f53\u6267\u884c\u67d0\u4e00\u4e2a\u7b56\u7565\uff0c\u90a3\u4e48\u5b83\u5c06\u4f1a\u4ece\u521d\u59cb\u72b6\u6001\u751f\u6210\u4e00\u6761\u8f68\u8ff9\u3002</p> <p></p> <p>\u56fe1.4 \u4e00\u4e2a\u786e\u5b9a\u6027\u7b56\u7565\u548c\u5bf9\u5e94\u7684\u8f68\u8ff9</p> <p>\u5728\u6570\u5b66\u4e0a\uff0c\u7b56\u7565\u53ef\u4ee5\u7528\u6761\u4ef6\u6982\u7387\u6765\u63cf\u8ff0\u3002\u5c06\u56fe\\(1.4\\)\u4e2d\u7684\u7b56\u7565\u63cf\u8ff0\u4e3a\\(\\pi(a|s)\\)\uff0c\u8868\u793a\u5728\u72b6\u6001\\(s\\)\u91c7\u53d6\u884c\u52a8\\(a\\)\u7684\u6982\u7387\u3002\u6bcf\u4e00\u4e2a\u72b6\u6001\u548c\u6bcf\u4e00\u4e2a\u884c\u52a8\u90fd\u6709\u8fd9\u6837\u7684\u5b9a\u4e49\u3002\u4f8b\u5982\uff0c\u5728\u56fe\\(1.4\\)\u6240\u793a\u7684\u4f8b\u5b50\u4e2d\uff0c\u72b6\u6001\\(s_1\\)\u5bf9\u5e94\u7684\u7b56\u7565\u662f:</p> \\[\\begin{gathered}\\pi(a_1|s_1)=0,\\\\\\pi(a_{2}|s_{1})=1,\\\\\\pi(a_3|s_1)=0,\\\\\\pi(a_4|s_1)=0,\\\\\\pi(a_{5}|s_{1})=0,\\end{gathered}\\] <p>\u8be5\u6761\u4ef6\u6982\u7387\u8868\u793a\u5728\u72b6\u6001\\(s_1\\)\u4e0b\u91c7\u53d6\u884c\u52a8\\(a_2\\)\u7684\u6982\u7387\u662f\\(1\\)\uff0c\u800c\u91c7\u53d6\u5176\u4ed6\u52a8\u4f5c\u7684\u6982\u7387\u4e3a\\(0\\)\u3002</p> <p>\u4e0a\u9762\u4f8b\u5b50\u4e2d\u7684\u7b56\u7565\u662f\u786e\u5b9a\u6027\u7684\u3002\u4f46\u662f\u7b56\u7565\u4e5f\u53ef\u80fd\u662f\u968f\u673a\u7684\u3002\u4f8b\u5982\uff0c\u5728\u56fe\\(1.5\\)\u7ed9\u51fa\u4e86\u4e00\u79cd\u968f\u673a\u7b56\u7565: \u5728\u72b6\u6001\\(s_1\\)\u4e0b\uff0c\u667a\u80fd\u4f53\u67090.5\u7684\u6982\u7387\u91c7\u53d6\u5411\u53f3\u79fb\u52a8\uff0c\u67090.5\u7684\u6982\u7387\u91c7\u53d6\u5411\u4e0b\u79fb\u52a8\uff0c\u6b64\u65f6\u5728\u72b6\u6001\\(s_1\\)\u7684\u7b56\u7565\u662f\uff1a</p> \\[\\begin{gathered}\\pi(a_1|s_1)=0,\\\\\\pi(a_{2}|s_{1})=0.5,\\\\\\pi(a_3|s_1)=0.5,\\\\\\pi(a_4|s_1)=0,\\\\\\pi(a_{5}|s_{1})=0,\\end{gathered}\\] <p></p> <p>\u56fe1.5 \u4e00\u4e2a\u968f\u673a\u7b56\u7565\u3002\u5728\u72b6\u6001\\(s_1\\)\u4e2d\uff0c\u667a\u80fd\u4f53\u53ef\u80fd\u5411\u53f3\u79fb\u52a8\uff0c\u4e5f\u53ef\u80fd\u5411\u4e0b\u79fb\u52a8\uff0c\u6982\u7387\u5747\u4e3a\\(0.5\\)\u3002</p> <p>\u9664\u4e86\u7528\u6761\u4ef6\u6982\u7387\u6765\u8868\u793a\u7b56\u7565\uff0c\u5176\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8868\u683c\u5f62\u5f0f\u6765\u63cf\u8ff0\u3002\u4f8b\u5982\uff0c\u8868\\(1.2\\)\u5c55\u793a\u4e86\u56fe\\(1.5\\)\u6240\u793a\u7684\u968f\u673a\u7b56\u7565\u3002\u5176\u4e2d\u7b2c\\(i\\)\u884c\u548c\u7b2c\\(j\\)\u5217\u7684\u5143\u7d20\u5bf9\u5e94\u4e86\u5728\u7b2c\\(i\\)\u4e2a\u72b6\u6001\u4e0b\u91c7\u53d6\u7b2c\\(j\\)\u4e2a\u884c\u52a8\u7684\u6982\u7387\u3002\u8fd9\u79cd\u8868\u793a\u6cd5\u79f0\u4e3a\u8868\u683c\u8868\u793a\u6cd5(tabular representation)\u3002\u8fd9\u79cd\u8868\u683c\u8868\u793a\u6cd5\u5341\u5206\u57fa\u7840\uff0c\u662f\u540e\u7eed\u5b66\u4e60\u6982\u5ff5\u548c\u7b97\u6cd5\u7684\u5173\u952e\u3002\u6b64\u5916\uff0c\u6211\u4eec\u5c06\u5728\u7b2c8\u7ae0\u4e2d\u4ecb\u7ecd\u53e6\u4e00\u79cd\u8868\u793a\u65b9\u6cd5\uff0c\u5373\u5c06\u7b56\u7565\u8868\u793a\u4e3a\u53c2\u6570\u5316\u51fd\u6570\u3002</p> <p></p> <p>\u88681.2 \u4e00\u4e2a\u7b56\u7565\u7684\u8868\u683c\u8868\u793a\u6cd5\u3002</p>"},{"location":"Chapter-1/1-5/","title":"1.5-\u5956\u52b1","text":""},{"location":"Chapter-1/1-5/#reward","title":"\u5956\u52b1(Reward)","text":"<p>\u5956\u52b1 (Reward)\u662f\u5f3a\u5316\u5b66\u4e60\u4e2d\u6700\u91cd\u8981\u7684\u6982\u5ff5\u4e4b\u4e00\u3002</p> <p>\u5728\u4e00\u4e2a\u72b6\u6001\u4e0b\u6267\u884c\u4e00\u4e2a\u884c\u52a8\u540e\uff0c\u667a\u80fd\u4f53\u4f1a\u4ece\u73af\u5883\u53cd\u9988\u4e2d\u83b7\u5f97\u5956\u52b1\\(r\\)\uff0c\u5176\u662f\u72b6\u6001\\(s\\)\u548c\u884c\u52a8\\(a\\)\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u8868\u793a\u4e3a\\(r(s,a)\\)\uff0c\u5176\u6570\u503c\u53ef\u4ee5\u4e3a\u6b63\u6570\u3001\u8d1f\u6570\u6216\u96f6\u3002\u4e0d\u540c\u7684\u5956\u52b1\u503c\u5bf9\u4e8e\u667a\u80fd\u4f53\u6700\u7ec8\u5b66\u4e60\u5230\u7684\u7b56\u7565\u5177\u6709\u4e0d\u540c\u7684\u5f71\u54cd\u3002\u901a\u5e38\u6765\u8bf4\uff0c\u6b63\u5956\u52b1\u8868\u793a\u9f13\u52b1\u667a\u80fd\u4f53\u91c7\u53d6\u76f8\u5e94\u884c\u52a8\uff1b\u8d1f\u5956\u52b1\u4e0d\u9f13\u52b1\u667a\u80fd\u4f53\u91c7\u53d6\u8be5\u884c\u52a8\u3002</p> <p>\u5728\u6240\u7528\u7684\u7f51\u683c\u4e16\u754c\u4f8b\u5b50\u4e2d\uff0c\u5956\u52b1\u53ef\u4ee5\u8bbe\u8ba1\u5982\u4e0b:</p> <ul> <li> <p>\u5982\u679c\u667a\u80fd\u4f53\u5c1d\u8bd5\u8dc3\u51fa\u56db\u5468\u8fb9\u754c\uff0c\u5219\\(r_\\text{boundary}=-1\\)</p> </li> <li> <p>\u5982\u679c\u667a\u80fd\u4f53\u5c1d\u8bd5\u8fdb\u5165\u7981\u533a\uff0c\u5219\\(r_\\text{forbidden}=-1\\)</p> </li> <li> <p>\u5982\u679c\u667a\u80fd\u4f53\u5230\u8fbe\u76ee\u6807\u533a\u57df\uff0c\u5219\\(r_\\text{target}=+1\\)</p> </li> <li> <p>\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u667a\u80fd\u4f53\u83b7\u5f97\u7684\u5956\u52b1\u4e3a\\(r_\\text{other}=0\\)</p> </li> </ul> <p>\u8bfb\u8005\u5e94\u8be5\u6ce8\u610f\u76ee\u6807\u72b6\u6001\\(s_9\\)\uff0c\u5f53\u5230\u8fbe\u8be5\u72b6\u6001\u4e4b\u540e\uff0c\u5b83\u4e5f\u8bb8\u4f1a\u6301\u7eed\u6267\u884c\u7b56\u7565\uff0c\u8fdb\u800c\u7ee7\u7eed\u83b7\u5f97\u76f8\u5e94\u5956\u52b1\u3002\u4f8b\u5982\uff0c\u5982\u679c\u667a\u80fd\u4f53\u5728\u72b6\u6001\\(s_9\\)\u91c7\u53d6\u884c\u52a8\\(a_5\\) (\u9759\u6b62\u4e0d\u52a8)\uff0c\u4e0b\u4e00\u4e2a\u72b6\u6001\u8fd8\u662f\\(s_9\\)\uff0c\u6b64\u65f6\u4f1a\u83b7\u5f97\u5956\u52b1\\(r_\\text{target}=+1\\)\u3002\u5982\u679c\u667a\u80fd\u4f53\u5728\u72b6\u6001\\(s_9\\)\u6267\u884c\u884c\u52a8\\(a_2\\)\uff0c\u4e0b\u4e00\u4e2a\u72b6\u6001\u4e5f\u662f\\(s_9\\)\uff0c\u4f46\u5956\u52b1\u662f\\(r_\\text{boundary}=+1\\)\u3002</p> <p>\u5956\u52b1\u53ef\u4ee5\u88ab\u7406\u89e3\u4e3a\u4e00\u79cd\u4eba\u673a\u4ea4\u4e92 (human-machine interface)\u7684\u91cd\u8981\u624b\u6bb5\uff0c\u6211\u4eec\u7528\u5b83\u6765\u5f15\u5bfc\u667a\u80fd\u4f53\u6309\u7167\u6211\u4eec\u7684\u671f\u671b\u884c\u4e8b\u3002\u4f8b\u5982\uff0c\u901a\u8fc7\u4e0a\u9762\u5956\u52b1\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u8ba9\u667a\u80fd\u4f53\u907f\u514d\u8d8a\u51fa\u8fb9\u754c\u6216\u8e0f\u5165\u7981\u533a\uff0c\u529b\u4e89\u8fdb\u5165\u76ee\u6807\u533a\u57df\u3002\u8bbe\u8ba1\u5408\u9002\u7684\u5956\u52b1\u662f\u5f3a\u5316\u5b66\u4e60\u7684\u91cd\u8981\u4e00\u6b65\u3002\u4e0d\u8fc7\u5bf9\u4e8e\u590d\u6742\u7684\u4efb\u52a1\u6765\u8bf4\uff0c\u8fd9\u4e00\u73af\u8282\u5e76\u4e0d\u7b80\u5355\uff0c\u56e0\u4e3a\u5b83\u603b\u662f\u9700\u8981\u7528\u6237\u5bf9\u7ed9\u5b9a\u95ee\u9898\u6709\u5f88\u597d\u7684\u7406\u89e3\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u8bbe\u8ba1\u5956\u52b1\u53ef\u80fd\u4ecd\u7136\u6bd4\u4f7f\u7528\u5176\u4ed6\u4e13\u4e1a\u5de5\u5177\u6765\u8bbe\u8ba1\u7b56\u7565\u5bb9\u6613\u5f97\u591a\uff0c\u8fd9\u4e5f\u53ef\u80fd\u662f\u4e3a\u4ec0\u4e48\u5f3a\u5316\u5b66\u4e60\u53d7\u4f17\u5e7f\u7684\u539f\u56e0\u3002</p> <p>\u5956\u52b1\u7684\u8fc7\u7a0b\u53ef\u4ee5\u76f4\u89c2\u5730\u8868\u793a\u4e3a\u4e00\u4e2a\u8868\u683c\uff0c\u5982\\(1.3\\)\u6240\u793a\u3002\u8868\u683c\u7684\u6bcf\u4e00\u884c\u5bf9\u5e94\u4e00\u4e2a\u72b6\u6001\uff0c\u6bcf\u5217\u5bf9\u5e94\u4e00\u4e2a\u884c\u52a8\u3002\u8868\u4e2d\u6bcf\u4e2a\u5355\u5143\u683c\u4e2d\u7684\u503c\u8868\u793a\u5728\u8be5\u72b6\u6001\u4e0b\u91c7\u53d6\u8be5\u884c\u52a8\u6240\u80fd\u83b7\u5f97\u7684\u5956\u52b1\u3002\u521d\u5b66\u8005\u53ef\u80fd\u4f1a\u6709\u8fd9\u6837\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u679c\u7ed9\u5b9a\u4e86\u5956\u52b1\u8868\u683c\uff0c\u6211\u4eec\u662f\u5426\u80fd\u901a\u8fc7\u7b80\u5355\u5730\u9009\u62e9\u5956\u52b1\u6700\u5927\u7684\u884c\u52a8\u6765\u627e\u5230\u597d\u7684\u7b56\u7565\u5417\uff1f\u7b54\u6848\u662f\u5426\u5b9a\u7684\u3002\u8fd9\u662f\u56e0\u4e3a\u8fd9\u4e9b\u5956\u52b1\u90fd\u662f\u5373\u65f6\u5956\u52b1 (immediate reward)\uff0c\u5373\u5728\u91c7\u53d6\u4e00\u4e2a\u884c\u52a8\u540e\u7acb\u5373\u83b7\u5f97\u7684\u5956\u52b1\u3002\u5982\u679c\u8981\u786e\u5b9a\u4e00\u4e2a\u597d\u7684\u653f\u7b56\uff0c\u90a3\u4e48\u5fc5\u987b\u8003\u8651\u66f4\u957f\u8fdc\u7684\u603b\u5956\u52b1 (total reward)(\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1\u7b2c\\(1.6\\)\u8282)\u3002\u5177\u6709\u6700\u5927\u5373\u65f6\u5956\u52b1\u7684\u884c\u52a8\u4e0d\u4e00\u5b9a\u4f1a\u5e26\u6765\u6700\u5927\u7684\u603b\u5956\u52b1\u3002</p> <p>\u8868\u683c\u8868\u793a\u6cd5\u867d\u7136\u76f4\u89c2\uff0c\u4f46\u53ea\u80fd\u63cf\u8ff0\u786e\u5b9a\u6027\u7684\u5956\u52b1\u8fc7\u7a0b\u3002\u4e3a\u4e86\u63cf\u8ff0\u66f4\u52a0\u4e00\u822c\u5316\u7684\u5956\u52b1\u8fc7\u7a0b\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u6761\u4ef6\u6982\u7387\\(p(r|s,a)\\)\u6765\u63cf\u8ff0\u5728\u72b6\u6001\\(s\\)\u91c7\u53d6\u884c\u52a8\\(a\\)\u5f97\u5230\u5956\u52b1\\(r\\)\u7684\u6982\u7387\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u72b6\u6001\\(s_1\\)\uff0c\u6709:</p> \\[p(r=-1|s_{1},a_{1})=1,\\quad p(r\\neq-1|s_{1},a_{1})=0.\\] <p></p> <p>\u88681.3: \u5956\u52b1\u7684\u8868\u683c\u8868\u793a\u6cd5\u3002</p> <p>\u8fd9\u610f\u5473\u7740\uff0c\u5f53\u5728\u72b6\u6001\\(s_1\\)\u5904\u91c7\u53d6\u884c\u52a8\\(a_1\\)\uff0c\u667a\u80fd\u4f53\u80af\u5b9a\u4f1a\u83b7\u5f97\\(r=-1\\)\uff0c\u800c\u5f97\u5230\u5176\u4ed6\u5956\u52b1\u503c\u7684\u6982\u7387\u4e3a\\(0\\)\u3002\u8fd9\u4e2a\u5956\u52b1\u662f\u786e\u5b9a\u6027\u7684\uff0c\u56e0\u6b64\u65e2\u53ef\u4ee5\u7528\u8868\u683c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u6761\u4ef6\u6982\u7387\u6765\u63cf\u8ff0\u3002\u7136\u800c\u5982\u679c\u5956\u52b1\u8fc7\u7a0b\u662f\u968f\u673a\u7684\uff0c\u90a3\u4e48\u8868\u683c\u8868\u793a\u6cd5\u4e5f\u5c06\u4e0d\u518d\u9002\u7528\u3002\u4f8b\u5982\\(p(r=-1\\mid s_1,a_1)=0.5,p(r=-2\\mid s_1,a_1)=0.5\\)\uff0c\u5373\u5404\u6709\\(0.5\\)\u7684\u6982\u7387\u83b7\u5f97\\(-1\\)\u6216\\(-2\\)\u7684\u5956\u52b1\u3002\u503c\u5f97\u5f3a\u8c03\u7684\u662f\uff0c\u672c\u4e66\u4e2d\u7684\u7f51\u683c\u4e16\u754c\u8003\u8651\u7684\u53ea\u662f\u786e\u5b9a\u6027\u7684\u5956\u52b1\u8fc7\u7a0b\u3002\u7ed9\u51fa\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u5e2e\u52a9\u8bfb\u8005\u7406\u89e3\u5956\u52b1\u4e3a\u4ec0\u4e48\u53ef\u80fd\u662f\u968f\u673a\u7684\uff0c\u4f8b\u5982\uff0c\u4e00\u4e2a\u5b66\u4e60\u52aa\u529b\u7684\u5b66\u751f\uff0c\u4ed6/\u5979\u4f1a\u6536\u5230\u4e00\u4e2a\u6b63\u5411\u7684\u5956\u52b1(\u4f8b\u5982\u5728\u8003\u8bd5\u4e2d\u53d6\u5f97\u66f4\u9ad8\u7684\u6210\u7ee9)\uff0c\u4f46\u662f\u5956\u52b1\u7684\u503c\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u53ef\u80fd\u662f100\u5206\uff0c\u4e5f\u53ef\u80fd\u662f90\u5206\u3002</p>"},{"location":"Chapter-1/1-6/","title":"1.6-\u8f68\u8ff9\u3001\u56de\u62a5\u3001\u56de\u5408","text":""},{"location":"Chapter-1/1-6/#trajectories-returns-episodes","title":"\u8f68\u8ff9\u3001\u56de\u62a5\u3001\u56de\u5408(Trajectories, returns, episodes)","text":"<p>\u8f68\u8ff9 (trajectory)\u6307\u7684\u662f\u4e00\u4e2a\u201c\u72b6\u6001-\u884c\u52a8-\u5956\u52b1\u201d\u7684\u94fe\u6761\u3002\u4f8b\u5982\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u56fe\\(1.6 (a)\\)\u6240\u793a\u7684\u7b56\u7565\uff0c\u667a\u80fd\u4f53\u5c06\u4f1a\u4ece\\(s_1\\)\u51fa\u53d1\u5f97\u5230\u5982\u4e0b\u8f68\u8ff9: </p> \\[s_1 \\xrightarrow[r=0]{a_2} s_2 \\xrightarrow[r=0]{a_3} s_5 \\xrightarrow[r=0]{a_3} s_8 \\xrightarrow[r=1]{a_2} s_9.\\] <p>\u6cbf\u7740\u4e00\u6761\u8f68\u8ff9\uff0c\u667a\u80fd\u4f53\u5c06\u4f1a\u83b7\u5f97\u4e00\u7cfb\u5217\u7684\u5373\u65f6\u5956\u52b1\uff0c\u8fd9\u4e9b\u5373\u65f6\u5956\u52b1\u4e4b\u548c\u88ab\u79f0\u4e3a\u56de\u62a5 (return)\u3002\u4f8b\u5982\uff0c\u4e0a\u8ff0\u8f68\u8ff9\u5bf9\u5e94\u7684\u56de\u62a5\u4e3a\uff1a</p> \\[\\mathrm{return}_1=0+0+0+1=1.\\tag{1.1}\\] <p>\u56de\u62a5\u7531\u5373\u65f6\u5956\u52b1 (immediate reward)\u548c\u672a\u6765\u5956\u52b1 (future reward)\u7ec4\u6210\u3002\u8fd9\u91cc\uff0c\u5373\u65f6\u5956\u52b1\u662f\u5728\u521d\u59cb\u72b6\u6001\u6267\u884c\u52a8\u4f5c\u540e\u7acb\u523b\u83b7\u5f97\u7684\u5956\u52b1\uff1a\u672a\u6765\u5956\u52b1\u6307\u7684\u662f\u79bb\u5f00\u521d\u59cb\u72b6\u6001\u540e\u83b7\u5f97\u7684\u5956\u52b1\u4e4b\u548c\u3002\u4f8b\u5982\u4e0a\u8ff0\u8f68\u8ff9\u5bf9\u5e94\u7684\u5373\u65f6\u5956\u52b1\u4e3a\\(0\\)\uff0c\u4f46\u672a\u6765\u5956\u52b1\u4e3a\\(1\\)\uff0c\u56e0\u6b64\u603b\u5956\u52b1\u662f\\(1\\)\u3002\u56de\u62a5\u4e5f\u79f0\u4e3a\u603b\u5956\u52b1 (total rewards)\u6216\u7d2f\u8ba1\u5956\u52b1 (cumulative rewards)\u3002</p> <p>\u56de\u62a5\u53ef\u4ee5\u88ab\u7528\u6765\u8bc4\u4f30\u7b56\u7565\u7684\u4f18\u52a3\u3002\u4f8b\u5982\uff0c\u6bd4\u8f83\u56fe\\(1.6\\)\u4e24\u4e2a\u7b56\u7565\u7684\u56de\u62a5\uff0c\u6211\u4eec\u53ef\u4ee5\u5206\u522b\u8ba1\u7b97\u4e24\u6761\u8f68\u8ff9\u5bf9\u5e94\u7684\u56de\u62a5\u3002\u8fdb\u800c\u5224\u65ad\u54ea\u4e2a\u7b56\u7565\u66f4\u597d\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5982\u679c\u6309\u7167\u56fe\\(1.6\\)\u5de6\u8fb9\u7684\u7b56\u7565\uff0c\u4ece\\(s_1\\)\u5f00\u59cb\u83b7\u5f97\u7684\u56de\u62a5\u4e3a\\(1\\)\u3002\u5bf9\u4e8e\u53f3\u8fb9\u7684\u7b56\u7565\uff0c\u4ece\\(s_1\\)\u5f00\u59cb\uff0c\u5bf9\u5e94\u7684\u8f68\u8ff9\u5982\u4e0b: </p> \\[s_1 \\xrightarrow[r=0]{a_3}s_4 \\xrightarrow[r=-1]{a_3} s_7 \\xrightarrow[r=0]{a_2} s_8 \\xrightarrow[r=+1]{a_2} s_9\\] <p>\u76f8\u5e94\u7684\u56de\u62a5\u4e3a:</p> \\[\\mathrm{return}_2=0-1+0+1=0.\\tag{1.2}\\] <p>\\(\\mathrm{return}_1\\)\u548c\\(\\mathrm{return}_2\\)\u8868\u660e\uff0c\u5de6\u8fb9\u7684\u7b56\u7565\u6bd4\u53f3\u8fb9\u7b56\u7565\u66f4\u597d\u3002\u8fd9\u4e00\u6570\u5b66\u7ed3\u8bba\u4e0e\u6211\u4eec\u7684\u76f4\u89c9\u662f\u4e00\u81f4\u7684\uff0c\u5373\u53f3\u8fb9\u7684\u7b56\u7565\u66f4\u7cdf\u7cd5\uff0c\u56e0\u4e3a\u5b83\u7a7f\u8fc7\u4e86\u4e00\u4e2a\u7981\u533a\u3002</p> <p></p> <p>\u56fe1.6: \u6839\u636e\u4e24\u79cd\u7b56\u7565\u6240\u83b7\u5f97\u8f68\u8ff9\uff0c\u8f68\u8ff9\u5728\u56fe\u4e2d\u7528\u7ea2\u8272\u865a\u7ebf\u6807\u51fa\u3002</p> <p>\u521a\u521a\u63d0\u5230\u7684\u8f68\u8ff9\u90fd\u662f\u9488\u5bf9\u6709\u9650\u957f\u8f68\u8ff9\u7684\uff0c\u800c\u8f68\u8ff9\u5f80\u5f80\u4e5f\u53ef\u4ee5\u65e0\u9650\u957f\u3002\u4f8b\u5982\uff0c\u56fe\\(1.6\\)\u4e2d\u7684\u8f68\u8ff9\u5728\u5230\u8fbe\\(s_9\\)\u540e\u53ef\u80fd\u4e0d\u4f1a\u505c\u6b62\uff0c\u800c\u662f\u7ee7\u7eed\u6267\u884c\u7b56\u7565\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u8fd9\u91cc\u7684\u7b56\u7565\u662f\u5728\u5230\u8fbe\\(s_9\\)\u540e\u4fdd\u6301\u4e0d\u52a8\uff0c\u4f7f\u5f97\u667a\u80fd\u4f53\u5728\u72b6\u6001\\(s_9\\)\u4f1a\u4e0d\u65ad\u5f97\u5230\\(+1\\)\u7684\u5956\u52b1\u3002\u5c06\u4f1a\u4ea7\u751f\u4ee5\u4e0b\u65e0\u9650\u957f\u7684\u8f68\u8ff9\uff1a</p> \\[s_1 \\xrightarrow[r=0]{a_2} s_2 \\xrightarrow[r=0]{a_3} s_5 \\xrightarrow[r=0]{a_3} s_8 \\xrightarrow[r=1]{a_2} s_9 \\xrightarrow[r=1]{a_5} s_9 \\xrightarrow[r=1]{a_5} s_9...\\] <p>\u6b64\u65f6\uff0c\u6211\u4eec\u5c06\u8fd9\u6761\u8f68\u8ff9\u7684\u5956\u52b1\u6c42\u548c\u6765\u8ba1\u7b97\u56de\u62a5:</p> \\[\\mathrm{return}=0+0+0+1+1+1+\\cdots=\\infty,\\] <p>\u7531\u4e8e\u8fd9\u6761\u8f68\u8ff9\u65e0\u9650\u957f\uff0c\u6240\u8ba1\u7b97\u7684\u56de\u62a5\u4f1a\u53d1\u6563\u5230\u65e0\u7a77\u7684\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5fc5\u987b\u5f15\u5165\u65e0\u9650\u957f\u8f68\u8ff9\u7684\u6298\u6263\u56de\u62a5 (discounted return)\u7684\u6982\u5ff5\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u6298\u6263\u56de\u62a5\u662f\u6240\u6709\u6298\u6263\u5956\u52b1\u7684\u603b\u548c\uff0c\u5373\u5728\u4e0d\u540c\u65f6\u523b\u5f97\u5230\u7684\u5956\u52b1\u6dfb\u52a0\u5bf9\u5e94\u7684\u6298\u6263\u56e0\u5b50\u518d\u6c42\u548c\uff1a</p> \\[\\text{discounted return}=0+\\gamma0+\\gamma^20+\\gamma^31+\\gamma^41+\\gamma^51+\\ldots,\\tag{1.3}\\] <p>\u5728\u8fd9\u91cc\\(\\gamma \\in (0,1)\\)\u88ab\u53eb\u505a\u6298\u6263\u56e0\u5b50 (discount rate)\u3002\u5f53\\(\\gamma \\in (0,1)\\)\uff0c\u5f0f\\((1.3)\\)\u53ef\u4ee5\u88ab\u8ba1\u7b97\u4e3a:</p> \\[\\text{discounted return}=\\gamma^3(1+\\gamma+\\gamma^2+\\ldots)=\\gamma^3\\frac{1}{1-\\gamma}.\\] <p>\u6298\u6263\u56e0\u5b50\u7684\u5f15\u5165\u6709\u4ee5\u4e0b\u7528\u9014\u3002\u7b2c\u4e00\uff0c\u5b83\u5141\u8bb8\u65e0\u9650\u957f\u7684\u8f68\u8ff9\u51fa\u73b0\uff0c\u800c\u4e0d\u7528\u62c5\u5fc3\u56de\u62a5\u4f1a\u53d1\u6563\u5230\u65e0\u7a77\u3002\u7b2c\u4e8c\uff0c\u6298\u6263\u56e0\u5b50\u53ef\u4ee5\u7528\u6765\u8c03\u6574\u5bf9\u8fd1\u671f\u6216\u8fdc\u671f\u56de\u62a5\u7684\u91cd\u89c6\u7a0b\u5ea6\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5982\u679c\\(\\gamma\\)\u63a5\u8fd1\\(0\\)\uff0c\u90a3\u4e48\u667a\u80fd\u4f53\u5c31\u4f1a\u66f4\u91cd\u89c6\u5728\u8fd1\u671f\u83b7\u5f97\u7684\u56de\u62a5\u3002\u7531\u6b64\u4ea7\u751f\u7684\u653f\u7b56\u5c06\u662f\u77ed\u89c6\u7684\u3002\u5982\u679c\\(\\gamma\\)\u63a5\u8fd1\\(1\\)\uff0c\u90a3\u4e48\u667a\u80fd\u4f53\u4f1a\u66f4\u91cd\u89c6\u8fdc\u671f\u7684\u56de\u62a5\uff0c\u7531\u6b64\u4ea7\u751f\u7684\u653f\u7b56\u66f4\u5177\u6709\u8fdc\u89c1\uff0c\u4f8b\u5982\u6562\u4e8e\u627f\u62c5\u8fd1\u671f\u5185\u83b7\u5f97\u8d1f\u9762\u56de\u62a5\u7684\u98ce\u9669\u6765\u83b7\u5f97\u66f4\u5927\u7684\u672a\u6765\u5956\u52b1\u3002\u8fd9\u4e9b\u7ed3\u8bba\u5c06\u5728\u7b2c\\(3.5\\)\u8282\u4e2d\u52a0\u4ee5\u8bba\u8bc1\u3002</p> <p>\u5f53\u6267\u884c\u4e00\u4e2a\u7b56\u7565\u4e0e\u73af\u5883\u8fdb\u884c\u4ea4\u4e92\u65f6\uff0c\u667a\u80fd\u4f53\u4ece\u521d\u59cb\u72b6\u6001\u5f00\u59cb\u5230\u7ec8\u6b62\u72b6\u6001 (terminal state)\u505c\u6b62\u7684\u8fc7\u7a0b\u79f0\u4e3a\u4e00\u4e2a\u56de\u5408 (episode)\u3002</p> <p>\u56de\u5408\u548c\u8f68\u8ff9\u5728\u6982\u5ff5\u4e0a\u975e\u5e38\u76f8\u4f3c\uff0c\u56de\u5408\u901a\u5e38\u88ab\u8ba4\u4e3a\u662f\u4e00\u6761\u6709\u9650\u7684\u957f\u7684\u8f68\u8ff9\u3002\u5982\u679c\u4e00\u4e2a\u4efb\u52a1\u6700\u591a\u6709\u6709\u9650\u6b65\uff0c\u90a3\u4e48\u8fd9\u6837\u7684\u4efb\u52a1\u79f0\u4e3a\u56de\u5408\u5236\u4efb\u52a1 (episodic task)\u3002\u5982\u679c\u4e00\u4e2a\u4efb\u52a1\u6ca1\u6709\u7ec8\u6b62\u72b6\u6001\uff0c\u5219\u610f\u5473\u7740\u667a\u80fd\u4f53\u4e0e\u73af\u5883\u7684\u4ea4\u4e92\u4e0d\u4f1a\u505c\u6b62\uff0c\u8fd9\u7c7b\u4efb\u52a1\u79f0\u4e3a\u6301\u7eed\u6027\u4efb\u52a1 (continuing tasks)\u3002\u4e3a\u4e86\u5728\u6570\u5b66\u4e0a\u5c06\u4e24\u7c7b\u4efb\u52a1\u7edf\u4e00\u8d77\u6765\uff0c\u6211\u4eec\u9700\u8981\u5408\u7406\u5b9a\u4e49\u667a\u80fd\u4f53\u5230\u8fbe\u7ec8\u6b62\u72b6\u6001\u540e\u7684\u72b6\u6001\u548c\u884c\u52a8\u7b49\u5143\u7d20\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u6709\u4ee5\u4e0b\u4e24\u79cd\u65b9\u6cd5\uff0c\u5c06\u56de\u5408\u5236\u4efb\u52a1\u8f6c\u5316\u4e3a\u6301\u7eed\u6027\u4efb\u52a1\u3002</p> <ul> <li> <p>\u7b2c\u4e00\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u7ec8\u7aef\u72b6\u6001\u89c6\u4e3a\u4e00\u79cd\u7279\u6b8a\u72b6\u6001\uff0c\u5373\u53ef\u4ee5\u4e13\u95e8\u8bbe\u8ba1\u5176\u884c\u52a8\u7a7a\u95f4\u6216\u72b6\u6001\u8f6c\u79fb\uff0c\u4ece\u800c\u4f7f\u667a\u80fd\u4f53\u6c38\u8fdc\u505c\u7559\u5728\u6b64\u72b6\u6001\u3002\u8fd9\u79cd\u72b6\u6001\u88ab\u79f0\u4e3a\u5438\u6536\u72b6\u6001 (absorbing state)\uff0c\u8fd9\u610f\u5473\u7740\u667a\u80fd\u4f53\u53ea\u8981\u8fbe\u5230\u8fd9\u79cd\u72b6\u6001\u4fbf\u6c38\u4f1a\u4e00\u76f4\u505c\u7559\u5728\u8be5\u72b6\u6001\u3002\u4f8b\u5982\uff0c\u5bf9\u4e8e\u76ee\u6807\u72b6\u6001 \\(s_9\\)\uff0c\u6211\u4eec\u53ef\u4ee5\u6307\u5b9a\\(\\mathcal{A}(s_{9})=\\{a_{5}\\}\\)\u6216\u8bbe\u7f6e\\(\\mathcal{A}(s_9)=\\{a_1,\\ldots,a_5\\}\\)\uff0c\u5bf9\u4e8e\u6240\u6709 \\(i=1,\\cdots,5\\)\uff0c\u6709\\(p(s9|s9,a_i)= 1\\)\u3002</p> </li> <li> <p>\u7b2c\u4e8c\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u7ec8\u6b62\u72b6\u6001\u89c6\u4e3a\u4e00\u79cd\u666e\u901a\u72b6\u6001\uff0c\u5c06\u5176\u884c\u52a8\u7a7a\u95f4\u8bbe\u7f6e\u4e3a\u4e0e\u5176\u4ed6\u72b6\u6001\u76f8\u540c\uff0c\u6b64\u65f6\u667a\u80fd\u4f53\u53ef\u80fd\u4f1a\u79bb\u5f00\u8be5\u72b6\u6001\u5e76\u518d\u6b21\u56de\u6765\u3002\u7531\u4e8e\u6bcf\u6b21\u5230\u8fbe\\(s_9\\)\u90fd\u80fd\u83b7\u5f97\\(r=1\\)\u7684\u6b63\u5956\u52b1\uff0c\u667a\u80fd\u4f53\u6700\u7ec8\u4f1a\u5b66\u4f1a\u6c38\u8fdc\u505c\u7559\u5728\\(s_9\\)\u4ee5\u83b7\u5f97\u66f4\u591a\u7684\u5956\u52b1\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5c06\u56de\u5408\u5236\u4efb\u52a1\u8f6c\u6362\u4e3a\u6301\u7eed\u6027\u4efb\u52a1\u9700\u8981\u4f7f\u7528\u6298\u6263\u56e0\u5b50\uff0c\u4ee5\u907f\u514d\u56de\u62a5\u8d8b\u4e8e\u65e0\u7a77\u3002</p> </li> </ul> <p>\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u5c06\u8003\u8651\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u5373\u76ee\u6807\u72b6\u6001\u88ab\u89c6\u4e3a\u6b63\u5e38\u7684\u72b6\u6001\uff0c\u5176\u884c\u52a8\u7a7a\u95f4\u4e3a\\(\\mathcal{A}(s_9)=\\{a_1,\\cdots,a_5\\}\\)\u3002\u56e0\u4e3a\u8fd9\u662f\u4e00\u79cd\u66f4\u52a0\u4e00\u822c\u5316\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u9700\u8981\u8ba9\u667a\u80fd\u4f53\u5b66\u4e60\u5230\u5728\u5230\u8fbe\u8fd9\u4e2a\u72b6\u6001\u4e4b\u540e\u80fd\u591f\u4fdd\u6301\u539f\u5730\u4e0d\u52a8\u3002</p>"},{"location":"Chapter-1/1-7/","title":"1.7-\u9a6c\u5c14\u79d1\u592b\u51b3\u7b56\u8fc7\u7a0b","text":""},{"location":"Chapter-1/1-7/#markov-decision-processes","title":"\u9a6c\u5c14\u79d1\u592b\u51b3\u7b56\u8fc7\u7a0b(Markov decision processes)","text":"<p>\u672c\u7ae0\u524d\u51e0\u8282\u901a\u8fc7\u4f8b\u5b50\u76f4\u89c2\u4ecb\u7ecd\u4e86\u5f3a\u5316\u5b66\u4e60\u7684\u4e00\u4e9b\u57fa\u672c\u6982\u5ff5\u3002\u672c\u8282\u5c06\u5728\u9a6c\u5c14\u53ef\u592b\u51b3\u7b56\u8fc7\u7a0b (MDP)\u7684\u6846\u67b6\u4e0b\uff0c\u4ee5\u66f4\u52a0\u6b63\u5f0f\u7684\u65b9\u5f0f\u4ecb\u7ecd\u8fd9\u4e9b\u6982\u5ff5\u3002</p> <p>\u9a6c\u5c14\u53ef\u592b\u51b3\u7b56\u8fc7\u7a0b\u662f\u63cf\u8ff0\u968f\u673a\u52a8\u6001\u7cfb\u7edf\u7684\u4e00\u822c\u6846\u67b6\uff0c\u5176\u5e76\u4e0d\u4ec5\u4ec5\u5c40\u9650\u4e8e\u5f3a\u5316\u5b66\u4e60\u3002\u9a6c\u5c14\u53ef\u592b\u51b3\u7b56\u8fc7\u7a0b\u7684\u6d89\u53ca\u4ee5\u4e0b\u5173\u952e\u8981\u7d20\uff1a</p> <ol> <li>\u96c6\u5408:<ul> <li>\u72b6\u6001\u7a7a\u95f4:\u72b6\u6001\u7684\u7ed3\u5408\uff0c\u8bb0\u4e3a\\(\\mathcal{S}\\)\u3002</li> <li>\u884c\u52a8\u7a7a\u95f4:\u884c\u52a8\u7684\u96c6\u5408\uff0c\u8bb0\u4e3a\\(\\mathcal{A}(s)\\)\uff0c\u5176\u4e2d\\(s \\in \\mathcal{S}\\)\u3002</li> <li>\u5956\u52b1\u96c6\u5408:\u4e0e\u6bcf\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\\((s,a)\\)\u76f8\u5173\u8054\u7684\u5956\u52b1\u96c6\u5408\uff0c\u7528\\(\\mathcal{R}(s\uff0ca)\\)\u8868\u793a\u3002</li> </ul> </li> <li>\u6a21\u578b:<ul> <li>\u72b6\u6001\u8f6c\u79fb\u6982\u7387: \u5728\u72b6\u6001\\(s\\)\u91c7\u53d6\u884c\u52a8\\(a\\)\u65f6\uff0c\u667a\u80fd\u4f53\u8f6c\u53d8\u4e3a\u72b6\u6001\\(s'\\)\u7684\u6982\u7387\u4e3a\\(p(s'|s,a)\\)\u3002\u5bf9\u4e8e\u4efb\u610f\\((s,a)\\)\u6709\\(\\sum_{s^{\\prime}\\in\\mathcal{S}}p(s^{\\prime}\\mid s,a)=1\\)\u3002</li> <li>\u5956\u52b1\u6982\u7387: \u5728\u72b6\u6001\\(s\\)\u4e0b\uff0c\u5f53\u91c7\u53d6\u884c\u52a8\\(a\\)\u65f6\uff0c\u667a\u80fd\u4f53\u83b7\u5f97\u5956\u52b1\\(r\\)\u7684\u6982\u7387\u4e3a\\(p(r|s,a)\\)\u3002\u5bf9\u4e8e\u4efb\u610f\\((s,a)\\)\u6709\\(\\sum_{r\\in\\mathcal{R}(s,a)}p(r|s,a)=1\\)</li> </ul> </li> <li>\u7b56\u7565: \u5728\u72b6\u6001\\(s\\)\uff0c\u667a\u80fd\u4f53\u91c7\u53d6\u884c\u52a8\\(a\\)\u7684\u6982\u7387\u4e3a\\(\\pi(a|s).\\)\u5bf9\u4e8e\u4efb\u610f\\(s \\in \\mathcal{S}\\)\u6709\\(\\sum_{a\\in\\mathcal{A}(s)}p(a\\mid s)=1\\)\u3002</li> <li>\u9a6c\u5c14\u53ef\u592b\u6027\u8d28: \u9a6c\u5c14\u53ef\u592b\u6027\u8d28 (Markov property)\u662f\u6307\u968f\u673a\u8fc7\u7a0b\u7684\u65e0\u8bb0\u5fc6\u6027\u8d28\u3002\u5728\u6570\u5b66\u4e0a\u8868\u793a\u4e3a\uff1a</li> </ol> \\[p(s_{t+1}|s_t,a_t,s_{t-1},a_{t-1},\\ldots,s_0,a_0)=p(s_{t+1}|s_t,a_t),\\] \\[p(r_{t+1}|s_t,a_t,s_{t-1},a_{t-1},\\ldots,s_0,a_0)=p(r_{t+1}|s_t,a_t),\\tag{1.4}\\] <p>\u5176\u4e2d\\(t\\)\u4ee3\u8868\u5f53\u524d\u65f6\u523b\uff0c\\(t+1\\)\u4ee3\u8868\u4e0b\u4e00\u4e2a\u65f6\u523b\u3002\u5f0f\u5b50(1.4)\u8868\u660e\u4e0b\u4e00\u4e2a\u72b6\u6001\u548c\u5956\u52b1\u4ec5\u4f9d\u8d56\u4e8e\u5f53\u524d\u65f6\u523b\u7684\u72b6\u6001\u548c\u884c\u52a8\uff0c\u800c\u4e0e\u4e4b\u524d\u7684\u72b6\u6001\u548c\u884c\u52a8\u65e0\u5173\u3002\u9a6c\u5c14\u53ef\u592b\u7279\u6027\u5bf9\u4e8e\u63a8\u5bfcMDP\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u975e\u5e38\u91cd\u8981\uff0c\u5728\u4e0b\u7ae0\u6211\u4eec\u4f1a\u8be6\u7ec6\u8ba8\u8bba\u3002</p> <p>\u5728\u9a6c\u5c14\u79d1\u592b\u51b3\u7b56\u8fc7\u7a0b\u4e2d\uff0c\\(p(s'|s,a)\\)\u548c\\(p(r|s,a)\\)\u88ab\u79f0\u4e3a\u6a21\u578b (model)\u6216\u52a8\u6001 (dynamics)\u3002\u6a21\u578b\u53ef\u4ee5\u662f\u5e73\u7a33\u7684 (stationary)\uff0c\u4e5f\u53ef\u4ee5\u662f\u975e\u5e73\u7a33\u7684 (nonstationary)\uff1a\u5e73\u7a33\u6a21\u578b\u4e0d\u4f1a\u968f\u65f6\u95f4\u53d8\u5316\uff1b\u800c\u975e\u5e73\u7a33\u6a21\u578b\u4f1a\u968f\u65f6\u95f4\u53d8\u5316\u3002\u4f8b\u5982\uff0c\u5728\u7f51\u683c\u4e16\u754c\u7684\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u4e00\u4e2a\u7981\u533a\u65f6\u800c\u51fa\u73b0\u65f6\u800c\u6d88\u5931\uff0c\u90a3\u4e48\u6240\u5bf9\u5e94\u7684\u72b6\u6001\u8f6c\u79fb\u6216\u8005\u5956\u52b1\u5c31\u4f1a\u968f\u65f6\u95f4\u800c\u53d8\u5316\uff0c\u6b64\u65f6\u7cfb\u7edf\u662f\u975e\u5e73\u7a33\u7684\uff0c\u672c\u4e66\u53ea\u8003\u8651\u5e73\u7a33\u7684\u60c5\u51b5\u3002</p> <p>\u8bfb\u8005\u53ef\u80fd\u542c\u8bf4\u8fc7\u9a6c\u5c14\u53ef\u592b\u8fc7\u7a0b(Markov process, MP)\u3002\u201c\u9a6c\u5c14\u53ef\u592b\u51b3\u7b56\u8fc7\u7a0b\u201d\u548c\u201c\u9a6c\u5c14\u53ef\u592b\u8fc7\u7a0b\u201d\u6709\u4ec0\u4e48\u533a\u522b\u5462\uff1f\u7b54\u6848\u662f\uff1a\u4e00\u65e6\u5728\u9a6c\u5c14\u53ef\u592b\u51b3\u7b56\u8fc7\u7a0b\u4e2d\u7684\u7b56\u7565\u88ab\u786e\u5b9a\u4e0b\u6765\u4e86\uff0c\u9a6c\u5c14\u53ef\u592b\u51b3\u7b56\u8fc7\u7a0b\u5c31\u9000\u5316\u6210\u4e86\u4e00\u4e2a\u9a6c\u5c14\u53ef\u592b\u8fc7\u7a0b\u3002\u4f8b\u5982\uff0c\u56fe\\(1.7\\)\u4e2d\u7684\u7f51\u683c\u4e16\u754c\u793a\u4f8b\u53ef\u4ee5\u88ab\u62bd\u8c61\u6210\u4e00\u4e2a\u9a6c\u5c14\u53ef\u592b\u8fc7\u7a0b\u3002\u5728\u672c\u4e66\u4e2d\u4e3b\u8981\u8003\u8651\u6709\u9650\u7684\u9a6c\u5c14\u79d1\u592b\u51b3\u7b56\u8fc7\u7a0b\uff0c\u5373\u72b6\u6001\u548c\u884c\u52a8\u7684\u6570\u91cf\u90fd\u662f\u6709\u9650\u7684\u3002\u201c\u9a6c\u5c14\u53ef\u592b\u8fc7\u7a0b \u201d\u548c \u201c\u9a6c\u5c14\u53ef\u592b\u94fe \u201d\u8fd9\u4e24\u4e2a\u672f\u8bed\u53ef\u4ee5\u4e92\u6362\u4f7f\u7528\u3002</p> <p></p> <p>\u56fe1.7: \u5c06\u7f51\u683c\u4e16\u754c\u793a\u4f8b\u62bd\u8c61\u4e3a\u9a6c\u5c14\u53ef\u592b\u8fc7\u7a0b\u3002\u5728\u8fd9\u91cc\uff0c\u5706\u5708\u4ee3\u8868\u72b6\u6001\uff0c\u5e26\u7bad\u5934\u7684\u94fe\u63a5\u4ee3\u8868\u72b6\u6001\u8f6c\u79fb\u3002</p> <p>\u5f3a\u5316\u5b66\u4e60\u6d89\u53ca\u667a\u80fd\u4f53\u4e0e\u73af\u5883\u7684\u4ea4\u4e92\u3002\u667a\u80fd\u4f53\u4e4b\u5916\u7684\u4e00\u5207\u90fd\u88ab\u89c6\u4e3a\u73af\u5883\u3002\u7b2c\u4e00\uff0c\u667a\u80fd\u4f53\u53ef\u4ee5\u7406\u89e3\u5e76\u611f\u77e5\u5f53\u524d\u7684\u72b6\u6001\u3002\u7b2c\u4e8c\uff0c\u667a\u80fd\u4f53\u53ef\u4ee5\u4e86\u89e3\u5728\u4ec0\u4e48\u72b6\u6001\u5e94\u8be5\u91c7\u53d6\u4ec0\u4e48\u884c\u52a8\u3002\u7b2c\u4e09\uff0c\u667a\u80fd\u4f53\u80fd\u591f\u6267\u884c\u7b56\u7565\u6240\u6307\u793a\u7684\u52a8\u4f5c\uff0c\u4ece\u800c\u6539\u53d8\u72b6\u6001\u83b7\u5f97\u5956\u52b1\u3002</p>"},{"location":"Chapter-1/1-8/","title":"1.8-\u603b\u7ed3","text":"<p>\u672c\u7ae0\u4ecb\u7ecd\u4e86\u5f3a\u5316\u5b66\u4e60\u4e2d\u7684\u57fa\u672c\u6982\u5ff5\uff0c\u8fd9\u4e9b\u6982\u5ff5\u5728\u672c\u4e66\u540e\u5c06\u4f1a\u88ab\u5e7f\u6cdb\u4f7f\u7528\u3002\u6211\u4eec\u4f7f\u7528\u76f4\u89c2\u7684\u7f51\u683c\u4e16\u754c\u7684\u4f8b\u5b50\u6765\u4ecb\u7ecd\u8fd9\u4e9b\u6982\u5ff5\uff0c\u8fdb\u800c\u5728\u9a6c\u5c14\u79d1\u592b\u51b3\u7b56\u8fc7\u7a0b\u7684\u6846\u67b6\u4e2d\u5bf9\u5b83\u4eec\u8fdb\u884c\u4e86\u6b63\u5f0f\u7684\u4ecb\u7ecd\u3002\u6709\u5173\u9a6c\u5c14\u79d1\u592b\u51b3\u7b56\u8fc7\u7a0b\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bfb\u8005\u53ef\u4ee5\u53c2\u9605\u6587\u732e[1,2]\u3002</p> <p>[1] M. Pinsky and S. Karlin, An introduction to stochastic modeling (3<sup>rd</sup> Edition). Academic Press, 1998.</p> <p>[2] M. L. Puterman, Markov decision processes: Discrete stochastic dynamic programming. John Wiley &amp; Sons, 2014.</p>"},{"location":"Chapter-1/intro/","title":"\u4ecb\u7ecd","text":"<p>\u672c\u7ae0\u4ecb\u7ecd\u4e86\u5f3a\u5316\u5b66\u4e60\u7684\u57fa\u672c\u6982\u5ff5\u3002\u8fd9\u4e9b\u6982\u5ff5\u5728\u672c\u4e66\u4e2d\u88ab\u5e7f\u6cdb\u4f7f\u7528\u3002\u6211\u4eec\u9996\u5148\u901a\u8fc7\u7f51\u683c\u4e16\u754c\u4ecb\u7ecd\u8fd9\u4e9b\u6982\u5ff5\uff0c\u7136\u540e\u5728\u9a6c\u5c14\u53ef\u592b\u51b3\u7b56\u8fc7\u7a0b\u7684\u6846\u67b6\u4e0b\u5bf9\u5b83\u4eec\u8fdb\u884c\u66f4\u52a0\u5177\u4f53\u4ecb\u7ecd\u3002</p> <p></p> <p>\u56fe\\(1.1\\): \u672c\u7ae0\u5728\u5168\u4e66\u4e2d\u7684\u4f4d\u7f6e\u3002</p>"},{"location":"Chapter-10/10-1/","title":"10.1-\u6700\u7b80\u5355\u7684\u6f14\u5458-\u8bc4\u8bba\u6027\u65b9\u6cd5","text":""},{"location":"Chapter-10/10-1/#101-","title":"10.1 \u6700\u7b80\u5355\u7684\u6f14\u5458-\u8bc4\u8bba\u5bb6\u65b9\u6cd5","text":"<p>\u672c\u8282\u4ecb\u7ecd\u6700\u7b80\u5355\u7684\u6f14\u5458-\u8bc4\u8bba\u5bb6\u65b9\u6cd5\u3002\u8be5\u7b97\u6cd5\u53ef\u901a\u8fc7\u6269\u5c55\u5f0f\\((9.32)\\)\u7684\u7b56\u7565\u68af\u5ea6\u7b97\u6cd5\u76f4\u63a5\u83b7\u5f97\u3002</p> <p>\u56de\u987e\u7b56\u7565\u68af\u5ea6\u6cd5\u7684\u6838\u5fc3\u601d\u60f3\u662f\u901a\u8fc7\u6700\u5927\u5316\u6807\u91cf\u6307\u6807\\(J(\\theta)\\)\u6765\u641c\u7d22\u6700\u4f18\u7b56\u7565\u3002\u7528\u4e8e\u6700\u5927\u5316\\(J(\\theta)\\)\u7684\u68af\u5ea6\u4e0a\u5347\u7b97\u6cd5\u53ef\u8868\u793a\u4e3a</p> \\[\\begin{aligned}\\theta_{t+1}&amp;=\\theta_t+\\alpha\\nabla_\\theta J(\\theta_t)\\\\&amp;=\\theta_{t}+\\alpha\\mathbb{E}_{S\\sim\\eta,A\\sim\\pi}\\left[\\nabla_{\\theta}\\ln\\pi(A|S,\\theta_{t})q_{\\pi}(S,A)\\right],\\end{aligned}\\tag{10.1}\\] <p>\u5176\u4e2d\\(\\eta\\)\u8868\u793a\u72b6\u6001\u5206\u5e03(\u8be6\u89c1\u5b9a\u7406\\(9.1\\))\u3002\u7531\u4e8e\u771f\u5b9e\u68af\u5ea6\u672a\u77e5\uff0c\u53ef\u91c7\u7528\u968f\u673a\u68af\u5ea6\u8fdb\u884c\u8fd1\u4f3c:</p> \\[\\theta_{t+1}=\\theta_t+\\alpha\\nabla_\\theta\\ln\\pi(a_t|s_t,\\theta_t)q_t(s_t,a_t).\\tag{10.2}\\] <p>Note</p> <p>\u628a\u4e00\u4e2a\u542b\u6709\u671f\u671b\u7684\u7b97\u6cd5\uff0c\u53d8\u4e3a\u4e00\u4e2a\u91c7\u6837\u7684\u4e0d\u542b\u671f\u671b\u7684\u7b97\u6cd5</p> <p>\u8be5\u7b97\u6cd5\u7531\u5f0f\\((9.32)\\)\u7ed9\u51fa\u3002</p> <p>\u65b9\u7a0b\\((10.2)\\)\u5177\u6709\u91cd\u8981\u610f\u4e49\uff0c\u56e0\u4e3a\u5b83\u6e05\u6670\u5730\u5c55\u793a\u4e86\u5982\u4f55\u5c06\u57fa\u4e8e\u7b56\u7565\u7684\u65b9\u6cd5\u4e0e\u57fa\u4e8e\u4ef7\u503c\u7684\u65b9\u6cd5\u76f8\u7ed3\u5408\u3002\u4e00\u65b9\u9762\uff0c\u8fd9\u662f\u4e00\u4e2a\u57fa\u4e8e\u7b56\u7565\u7684\u7b97\u6cd5\uff0c\u56e0\u4e3a\u5b83\u76f4\u63a5\u66f4\u65b0\u7b56\u7565\u53c2\u6570\\(\\theta\\)\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u8be5\u65b9\u7a0b\u9700\u8981\u5df2\u77e5 \\(q_t(s_t, a_t)\\)\u2014\u2014\u5373\u5bf9\u884c\u52a8\u503c \\(q_\\pi(s_t, a_t)\\)\u7684\u4f30\u8ba1\u503c\u3002\u56e0\u6b64\uff0c\u9700\u8981\u53e6\u4e00\u4e2a\u57fa\u4e8e\u4ef7\u503c\u7684\u7b97\u6cd5\u6765\u751f\u6210 \\(q_t(s_t, a_t)\\)\u3002\u622a\u81f3\u76ee\u524d\uff0c\u672c\u4e66\u5df2\u63a2\u8ba8\u4e86\u4e24\u79cd\u4f30\u8ba1\u52a8\u4f5c\u503c\u7684\u65b9\u6cd5\uff1a\u7b2c\u4e00\u79cd\u57fa\u4e8e\u8499\u7279\u5361\u6d1b\u5b66\u4e60\uff0c\u7b2c\u4e8c\u79cd\u5219\u662f\u65f6\u5e8f\u5dee\u5206(TD)\u5b66\u4e60\u3002</p> <ul> <li> <p>\u82e5\u901a\u8fc7\u8499\u7279\u5361\u6d1b\u5b66\u4e60\u4f30\u8ba1\\(q_\\pi(s_t, a_t)\\)\uff0c\u5219\u5bf9\u5e94\u7b97\u6cd5\u79f0\u4e3aREINFORCE\u6216\u8499\u7279\u5361\u6d1b\u7b56\u7565\u68af\u5ea6\uff0c\u8be5\u7b97\u6cd5\u5df2\u5728\u7b2c\\(9\\)\u7ae0\u8fdb\u884c\u8fc7\u4ecb\u7ecd\u3002</p> </li> <li> <p>\u82e5\u901a\u8fc7\u65f6\u5e8f\u5dee\u5206(TD)\u5b66\u4e60\u4f30\u8ba1\\(q_t(s_t, a_t)\\)\uff0c\u76f8\u5e94\u7b97\u6cd5\u901a\u5e38\u79f0\u4e3a\u6f14\u5458-\u8bc4\u8bba\u6027\u65b9\u6cd5\u3002\u56e0\u6b64\uff0c\u5c06\u57fa\u4e8eTD\u7684\u4ef7\u503c\u4f30\u8ba1\u878d\u5165\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\uff0c\u5373\u53ef\u5f97\u5230\u6f14\u5458-\u8bc4\u8bba\u6027\u7b97\u6cd5\u3002</p> </li> </ul> <p>\u6700\u7b80\u5355\u7684\u6f14\u5458-\u8bc4\u8bba\u6027\u7b97\u6cd5\u6d41\u7a0b\u5982\u7b97\u6cd5\\(10.1\\)\u6240\u793a\u3002\u5176\u4e2d\u8bc4\u8bba\u6027\u90e8\u5206\u5bf9\u5e94\u57fa\u4e8e\\((8.35)\\)\u5f0fSarsa\u7b97\u6cd5\u7684\u4ef7\u503c\u66f4\u65b0\u6b65\u9aa4\uff0c\u5176\u52a8\u4f5c\u4ef7\u503c\u901a\u8fc7\u53c2\u6570\u5316\u51fd\u6570\\(q(s,a,\\mathbf{w})\\)\u8868\u793a\uff1b\u6f14\u5458\u90e8\u5206\u5219\u5bf9\u5e94\\((10.2)\\)\u5f0f\u7684\u7b56\u7565\u66f4\u65b0\u6b65\u9aa4\u3002\u8be5\u7b97\u6cd5\u6709\u65f6\u88ab\u79f0\u4e3aQ \u6f14\u5458-\u8bc4\u8bba\u6027(QAC)\u7b97\u6cd5\u3002\u867d\u7136\u7ed3\u6784\u7b80\u5355\uff0c\u4f46QAC\u63ed\u793a\u4e86\u6f14\u5458-\u8bc4\u8bba\u6027\u65b9\u6cd5\u7684\u6838\u5fc3\u601d\u60f3\uff0c\u540e\u7eed\u7ae0\u8282\u5c06\u5c55\u793a\u5176\u5982\u4f55\u6269\u5c55\u5f62\u6210\u591a\u79cd\u8fdb\u9636\u7b97\u6cd5\u3002</p> <p></p> <p>\u7b97\u6cd5\\(10.1\\)\uff1a\u6700\u7b80\u5355\u7684\u6f14\u5458-\u8bc4\u8bba\u6027\u7b97\u6cd5(QAC)</p>"},{"location":"Chapter-10/10-2/","title":"10.2-\u4f18\u52bf\u6f14\u5458-\u8bc4\u8bba\u6027\u65b9\u6cd5","text":""},{"location":"Chapter-10/10-2/#102-","title":"10.2 \u4f18\u52bf\u6f14\u5458-\u8bc4\u8bba\u5bb6\u65b9\u6cd5","text":"<p>\u73b0\u5728\u6211\u4eec\u4ecb\u7ecd\u4f18\u52bf\u6f14\u5458-\u8bc4\u8bba\u5bb6\u7b97\u6cd5\u3002\u8be5\u7b97\u6cd5\u7684\u6838\u5fc3\u601d\u60f3\u662f\u901a\u8fc7\u5f15\u5165\u57fa\u7ebf\u6765\u964d\u4f4e\u4f30\u8ba1\u65b9\u5dee\u3002</p>"},{"location":"Chapter-10/10-2/#1021","title":"10.2.1 \u57fa\u51c6\u4e0d\u53d8\u6027","text":"<p>\u7b56\u7565\u68af\u5ea6\u7684\u4e00\u4e2a\u6709\u8da3\u6027\u8d28\u662f\u5b83\u5bf9\u9644\u52a0\u57fa\u7ebf\u7684\u53d8\u5316\u5177\u6709\u4e0d\u53d8\u6027\u3002\u5373</p> \\[\\mathbb{E}_{S\\sim\\eta,A\\sim\\pi}\\left[\\nabla_{\\theta}\\ln\\pi(A|S,\\theta_{t})q_{\\pi}(S,A)\\right]=\\mathbb{E}_{S\\sim\\eta,A\\sim\\pi}\\left[\\nabla_{\\theta}\\ln\\pi(A|S,\\theta_{t})(q_{\\pi}(S,A)-b(S))\\right],\\tag{10.3}\\] <p>\u5176\u4e2d\u9644\u52a0\u57fa\u7ebf\\(b(S)\\)\u662f\u72b6\u6001\\(S\\)\u7684\u6807\u91cf\u51fd\u6570\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u9488\u5bf9\u8be5\u57fa\u7ebf\u56de\u7b54\u4e24\u4e2a\u95ee\u9898\u3002</p> <ul> <li> <p>\u9996\u5148\uff0c\u4e3a\u4ec0\u4e48\u5f0f\\((10.3)\\)\u6210\u7acb\uff1f</p> <p>\u5f53\u4e14\u4ec5\u5f53\u4e0b\u5f0f\u6210\u7acb\u65f6\uff0c\u65b9\u7a0b\\((10.3)\\)\u6210\u7acb\uff1a</p> \\[\\mathbb{E}_{S\\sim\\eta,A\\sim\\pi}\\left[\\nabla_\\theta\\ln\\pi(A|S,\\theta_t)b(S)\\right]=0.\\] <p>\u8be5\u65b9\u7a0b\u6210\u7acb\u7684\u6761\u4ef6\u662f</p> \\[\\begin{aligned}\\mathbb{E}_{S\\sim\\eta,A\\sim\\pi}\\left[\\nabla_{\\theta}\\ln\\pi(A|S,\\theta_{t})b(S)\\right]&amp;=\\sum_{s\\in\\mathcal{S}}\\eta(s)\\sum_{a\\in\\mathcal{A}}\\pi(a|s,\\theta_{t})\\nabla_{\\theta}\\ln\\pi(a|s,\\theta_{t})b(s)\\\\&amp;=\\sum_{s\\in\\mathcal{S}}\\eta(s)\\sum_{a\\in\\mathcal{A}}\\nabla_{\\theta}\\pi(a|s,\\theta_{t})b(s)\\\\&amp;=\\sum_{s\\in\\mathcal{S}}\\eta(s)b(s)\\sum_{a\\in\\mathcal{A}}\\nabla_{\\theta}\\pi(a|s,\\theta_{t})\\\\&amp;=\\sum_{s\\in\\mathcal{S}}\\eta(s)b(s)\\nabla_\\theta\\sum_{a\\in\\mathcal{A}}\\pi(a|s,\\theta_t)\\\\&amp;=\\sum_{s\\in\\mathcal{S}}\\eta(s)b(s)\\nabla_{\\theta}1=0.\\end{aligned}\\] </li> <li> <p>\u5176\u6b21\uff0c\u57fa\u7ebf\u4e3a\u4f55\u6709\u7528\uff1f</p> <p>\u57fa\u7ebf(baseline)\u7684\u4f5c\u7528\u5728\u4e8e\u80fd\u591f\u964d\u4f4e\u4f7f\u7528\u6837\u672c\u8fd1\u4f3c\u771f\u5b9e\u68af\u5ea6\u65f6\u7684\u8fd1\u4f3c\u65b9\u5dee\u3002\u5177\u4f53\u800c\u8a00\uff0c\u8bbe</p> \\[X(S,A)\\doteq\\nabla_\\theta\\ln\\pi(A|S,\\theta_t)[q_\\pi(S,A)-b(S)].\\tag{10.4}\\] <p>\u90a3\u4e48\uff0c\u771f\u5b9e\u7684\u68af\u5ea6\u4e3a\\(\\mathbb{E}[X(S, A)]\\)\u3002\u7531\u4e8e\u6211\u4eec\u9700\u8981\u4f7f\u7528\u968f\u673a\u6837\u672c\\(x\\)\u6765\u8fd1\u4f3c\\(\\mathbb{E}[X]\\)\uff0c\u56e0\u6b64\u82e5\u65b9\u5dee\\(\\operatorname{var}(X)\\)\u8f83\u5c0f\u5219\u66f4\u4e3a\u6709\u5229\u3002\u4f8b\u5982\uff0c\u5f53\\(\\operatorname{var}(X)\\)\u63a5\u8fd1\u4e8e\u96f6\u65f6\uff0c\u4efb\u4f55\u6837\u672c\\(x\\)\u90fd\u80fd\u51c6\u786e\u903c\u8fd1\\(\\mathbb{E}[X]\\)\uff1b\u53cd\u4e4b\uff0c\u82e5\\(\\operatorname{var}(X)\\)\u8f83\u5927\uff0c\u5219\u6837\u672c\u503c\u53ef\u80fd\u4e0e\\(\\mathbb{E}[X]\\)\u5b58\u5728\u663e\u8457\u504f\u5dee\u3002</p> <p>\u5c3d\u7ba1\u671f\u671b\u503c\\(\\mathbb{E}[X]\\)\u5bf9\u57fa\u7ebf\u4e0d\u654f\u611f\uff0c\u4f46\u65b9\u5dee\\(\\text{var}(X)\\)\u5e76\u975e\u5982\u6b64\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\u8bbe\u8ba1\u4e00\u4e2a\u4f18\u826f\u7684\u57fa\u7ebf\u4ee5\u6700\u5c0f\u5316\\(\\text{var}(X)\\)\u3002\u5728REINFORCE\u548cQAC\u7b97\u6cd5\u4e2d\uff0c\u6211\u4eec\u8bbe\u5b9a\\(b =0\\)\uff0c\u4f46\u8fd9\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u662f\u6700\u4f18\u57fa\u7ebf\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u4f7f\\(\\text{var}(X)\\)\u6700\u5c0f\u5316\u7684\u6700\u4f18\u57fa\u7ebf\u4e3a</p> \\[b^*(s)=\\frac{\\mathbb{E}_{A\\sim\\pi}\\left[\\|\\nabla_\\theta\\ln\\pi(A|s,\\theta_t)\\|^2q_\\pi(s,A)\\right]}{\\mathbb{E}_{A\\sim\\pi}\\left[\\|\\nabla_\\theta\\ln\\pi(A|s,\\theta_t)\\|^2\\right]},\\quad s\\in\\mathcal{S}.\\tag{10.5}\\] <p>\u8bc1\u660e\u8fc7\u7a0b\u89c1Box 10.1\u3002</p> <p>\u5c3d\u7ba1\\((10.5)\\)\u4e2d\u7684\u57fa\u7ebf\u662f\u6700\u4f18\u7684\uff0c\u4f46\u5176\u590d\u6742\u5ea6\u8fc7\u9ad8\u800c\u96be\u4ee5\u5b9e\u9645\u5e94\u7528\u3002\u82e5\u4ece\\((10.5)\\)\u4e2d\u79fb\u9664\u6743\u91cd\\(\\|\\nabla_\\theta \\ln \\pi(A|s, \\theta_t)\\|^2\\)\uff0c\u5219\u53ef\u5f97\u5230\u4e00\u4e2a\u5177\u6709\u7b80\u6d01\u8868\u8fbe\u5f0f\u7684\u6b21\u4f18\u57fa\u7ebf\uff1a</p> \\[b^\\dagger(s)=\\mathbb{E}_{A\\sim\\pi}[q_\\pi(s,A)]=v_\\pi(s),\\quad s\\in\\mathcal{S}.\\] <p>\u6709\u8da3\u7684\u662f\uff0c\u8fd9\u4e00\u975e\u6700\u4f18\u57fa\u7ebf\u6b63\u662f\u72b6\u6001\u503c\u3002</p> </li> </ul>"},{"location":"Chapter-10/10-2/#1022","title":"10.2.2 \u7b97\u6cd5\u63cf\u8ff0","text":"<p>\u5f53\\(b(s) = v_\\pi(s)\\)\u65f6\uff0c\\((10.1)\\)\u4e2d\u7684\u68af\u5ea6\u4e0a\u5347\u7b97\u6cd5\u53d8\u4e3a</p> \\[\\begin{gathered}\\theta_{t+1}=\\theta_{t}+\\alpha\\mathbb{E}\\left[\\nabla_{\\theta}\\ln\\pi(A|S,\\theta_{t})[q_{\\pi}(S,A)-v_{\\pi}(S)]\\right]\\\\\\doteq\\theta_t+\\alpha\\mathbb{E}\\left[\\nabla_\\theta\\ln\\pi(A|S,\\theta_t)\\delta_\\pi(S,A)\\right].\\end{gathered}\\tag{10.7}\\] <p>\u5728\u8fd9\u91cc</p> \\[\\delta_\\pi(S,A)\\doteq q_\\pi(S,A)-v_\\pi(S)\\] <p>\u8be5\u51fd\u6570\u88ab\u79f0\u4e3a\u4f18\u52bf\u51fd\u6570\uff0c\u7528\u4e8e\u8861\u91cf\u67d0\u4e00\u884c\u52a8\u76f8\u5bf9\u4e8e\u5176\u4ed6\u884c\u52a8\u7684\u4f18\u52bf\u3002\u5177\u4f53\u800c\u8a00\uff0c\u6ce8\u610f\u5230\\(v_\\pi(s) = \\sum_{a\\in\\mathcal{A}} \\pi(a|s)q_\\pi(s, a)\\)\u8868\u793a\u884c\u52a8\u503c\u7684\u5747\u503c\u3002\u82e5\\(\\delta_\\pi(s, a) &gt;0\\)\uff0c\u5219\u8868\u660e\u5bf9\u5e94\u884c\u52a8\u503c\u9ad8\u4e8e\u5747\u503c\u3002</p> <p>\\((10.7)\\)\u5f0f\u7684\u968f\u673a\u7248\u672c\u4e3a</p> \\[\\begin{aligned}\\theta_{t+1}&amp;=\\theta_t+\\alpha\\nabla_\\theta\\ln\\pi(a_t|s_t,\\theta_t)[q_t(s_t,a_t)-v_t(s_t)]\\\\&amp;=\\theta_t+\\alpha\\nabla_\\theta\\ln\\pi(a_t|s_t,\\theta_t)\\delta_t(s_t,a_t),\\\\&amp;=\\theta_t+\\alpha\\underbrace{\\left(\\frac{\\delta_t(s_t,a_t)}{\\pi(a_t|s_t,\\theta_t)}\\right)}_{\\mathrm{step~size}}\\nabla_\\theta\\pi(a_t|s_t,\\theta_t)\\end{aligned}\\tag{10.8}\\] <p>Note</p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u79cdstochastic gradient\u7684\u65b9\u6cd5\u53ef\u4ee5\u5f88\u597d\u7684\u5e73\u8861\u63a2\u7d22\u548c\u5229\u7528</p> <p>\u6b65\u957f\u4e0e\\(\\delta_t\\)\u6210\u6bd4\u4f8b\uff0c\u800c\u4e0d\u662f\u4e0e\u7edd\u5bf9\u503c\\(q_t\\)\u6210\u6bd4\u4f8b\uff0c\u5f53\\(\\delta_t\\)\u8f83\u5927\u65f6\uff0c\u6b65\u957f\u4e5f\u4f1a\u53d8\u5927\uff0c\u90a3\u4e48\u671d\u7740\u90a3\u4e2a\u65b9\u5411\u8d70\u7684\u4e5f\u4f1a\u53d8\u591a\uff0c\u56e0\u6b64\\(\\pi(a_t|s_t)\\)\u4e5f\u4f1a\u53d8\u5927\u3002\u901a\u4fd7\u6765\u8bf4\u5c31\u662f\uff0c\u6211\u77e5\u9053\u5f53\u524d\u8fd9\u4e2a\u52a8\u4f5c\u4f1a\u6709\u6bd4\u8f83\u5927\u7684\u52a8\u4f5c\u503c\uff0c\u90a3\u4e48\u4e0b\u4e2a\u65f6\u523b\u5c31\u8981\u7ed9\u66f4\u5927\u7684\u6982\u7387\u53bb\u9009\u62e9\u5b83\uff0c\u8fd9\u5c31\u662f\u5145\u5206\u5229\u7528\u3002</p> <p>\u5982\u679c\u5206\u6bcd\u5bf9\u5e94\u7684\u7b56\u7565\u8f83\u5c0f\uff0c\u90a3\u4e48\u6b65\u957f\u4e5f\u4f1a\u53d8\u5927\uff0c\u6240\u5f97\u5230\u4e0b\u4e00\u65f6\u523b\u7684\\(\\pi\\)\u7684\u6982\u7387\u4e5f\u4f1a\u6bd4\u8f83\u5927\uff0c\u901a\u4fd7\u6765\u8bf4\uff0c\u4e0a\u4e00\u65f6\u523b\u6211\u9009\u62e9\u8fd9\u4e2a\u884c\u52a8\u7684\u6982\u7387\u8f83\u5c0f\uff0c\u4f46\u4e0b\u4e00\u65f6\u523b\u6211\u4f1a\u7ed9\u9009\u62e9\u8fd9\u4e2a\u884c\u52a8\u66f4\u5927\u7684\u6982\u7387\uff0c\u4ece\u800c\u589e\u52a0\u63a2\u7d22\u3002</p> <p>\u5176\u4e2d\\(s_t\\),\\(a_t\\)\u5206\u522b\u4e3a\u65f6\u523b\\(t\\)\u65f6\u72b6\u6001\u7a7a\u95f4\\(\\mathcal{S}\\)\u4e0e\u52a8\u4f5c\u7a7a\u95f4\\(\\mathcal{A}\\)\u7684\u91c7\u6837\u503c\u3002\u6b64\u5904\\(q_t(s_t,a_t)\\)\u548c \\(v_t(s_t)\\)\u5206\u522b\u662f\u5bf9\\(q_{\\pi(\\theta_t)}(s_t,a_t)\\)\u548c\\(v_{\\pi(\\theta_t)}(s_t)\\)\u7684\u8fd1\u4f3c\u4f30\u8ba1\u3002\u5f0f\\((10.8)\\)\u4e2d\u7684\u7b97\u6cd5\u57fa\u4e8e\\(q_t\\)\u76f8\u5bf9\u4e8e\\(v_t\\)\u7684\u76f8\u5bf9\u503c(\u800c\u975e\\(q_t\\)\u7684\u7edd\u5bf9\u503c)\u8fdb\u884c\u7b56\u7565\u66f4\u65b0\u3002\u8fd9\u79cd\u8bbe\u8ba1\u5177\u6709\u76f4\u89c2\u5408\u7406\u6027\u2014\u2014\u56e0\u4e3a\u5728\u7ed9\u5b9a\u72b6\u6001\u4e0b\u9009\u62e9\u52a8\u4f5c\u65f6\uff0c\u6211\u4eec\u4ec5\u9700\u5173\u6ce8\u54ea\u4e2a\u52a8\u4f5c\u5177\u6709\u76f8\u5bf9\u4e8e\u5176\u4ed6\u52a8\u4f5c\u7684\u6700\u5927\u4ef7\u503c\u3002</p> <p>\u82e5\u901a\u8fc7\u8499\u7279\u5361\u6d1b\u5b66\u4e60\u4f30\u8ba1\\(q_t(s_t, a_t)\\)\u548c\\(v_t(s_t)\\)\uff0c\u5219\u5f0f\\((10.8)\\)\u4e2d\u7684\u7b97\u6cd5\u79f0\u4e3a\u5e26\u57fa\u7ebf\u7684REINFORCE\u3002\u82e5\u901a\u8fc7\u65f6\u5e8f\u5dee\u5206(TD)\u5b66\u4e60\u4f30\u8ba1\\(q_t(s_t, a_t)\\)\u548c\\(v_t(s_t)\\)\uff0c\u8be5\u7b97\u6cd5\u901a\u5e38\u79f0\u4e3a\u4f18\u52bf\u6f14\u5458-\u8bc4\u8bba\u5bb6(A2C)\u3002A2C\u7684\u5b9e\u73b0\u6d41\u7a0b\u5982\u7b97\u6cd5\\(10.2\\)\u6240\u793a\uff0c\u9700\u6ce8\u610f\u6b64\u5b9e\u73b0\u4e2d\u4f18\u52bf\u51fd\u6570\u901a\u8fc7TD\u8bef\u5dee\u8fd1\u4f3c\uff1a</p> \\[q_t(s_t,a_t)-v_t(s_t)\\approx r_{t+1}+\\gamma v_t(s_{t+1})-v_t(s_t).\\] <p>\u8be5\u8fd1\u4f3c\u662f\u5408\u7406\u7684\uff0c\u56e0\u4e3a</p> \\[q_\\pi(s_t,a_t)-v_\\pi(s_t)=\\mathbb{E}\\left[R_{t+1}+\\gamma v_\\pi(S_{t+1})-v_\\pi(S_t)|S_t=s_t,A_t=a_t\\right],\\] <p>\u6839\u636e \\(q_\\pi(s_t, a_t)\\)\u7684\u5b9a\u4e49\uff0c\u8be5\u5f0f\u6210\u7acb\u3002\u91c7\u7528\u65f6\u5e8f\u5dee\u5206\uff08TD\uff09\u8bef\u5dee\u7684\u4e00\u4e2a\u4f18\u52bf\u5728\u4e8e\uff0c\u6211\u4eec\u4ec5\u9700\u4f7f\u7528\u5355\u4e00\u795e\u7ecf\u7f51\u7edc\u6765\u8868\u793a \\(v_\\pi(s)\\)\u3002\u53cd\u4e4b\uff0c\u82e5\u8bbe \\(\\delta_t = q_t(s_t, a_t) - v_t(s_t)\\)\uff0c\u5219\u9700\u8981\u7ef4\u62a4\u4e24\u4e2a\u7f51\u7edc\u5206\u522b\u8868\u5f81 \\(v_\\pi(s)\\)\u548c \\(q_\\pi(s, a)\\)\u3002\u5f53\u91c7\u7528TD\u8bef\u5dee\u65f6\uff0c\u8be5\u7b97\u6cd5\u4e5f\u53ef\u79f0\u4e3aTD Actor-Critic\u3002\u6b64\u5916\u9700\u6ce8\u610f\uff0c\u7b56\u7565 \\(\\pi(\\theta_t)\\)\u5177\u6709\u968f\u673a\u6027\u56e0\u800c\u5177\u5907\u63a2\u7d22\u7279\u6027\uff0c\u56e0\u6b64\u65e0\u9700\u4f9d\u8d56\u5916\u90e8\u673a\u5236(\u5982\\(\\varepsilon\\)-\u8d2a\u5a6a)\u5373\u53ef\u76f4\u63a5\u7528\u4e8e\u751f\u6210\u7ecf\u9a8c\u6837\u672c\u3002A2C\u5b58\u5728\u82e5\u5e72\u53d8\u4f53\uff0c\u4f8b\u5982\u5f02\u6b65\u4f18\u52bf\u6f14\u5458-\u8bc4\u8bba\u5bb6(A3C)\u3002\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u53c2\u9605[71,72]\u3002</p> <p></p> <p>\u7b97\u6cd5\\(10.2\\)\uff1a\u4f18\u52bf\u6f14\u5458-\u8bc4\u8bba\u5bb6(A2C)\u6216\u65f6\u5e8f\u5dee\u5206\u6f14\u5458-\u8bc4\u8bba\u5bb6</p>"},{"location":"Chapter-10/10-3/","title":"10.3-\u5f02\u7b56\u7565\u6f14\u5458-\u8bc4\u8bba\u6027\u65b9\u6cd5","text":""},{"location":"Chapter-10/10-3/#103-","title":"10.3 \u5f02\u7b56\u7565\u6f14\u5458-\u8bc4\u8bba\u5bb6\u7b97\u6cd5","text":"<p>\u6211\u4eec\u8fc4\u4eca\u6240\u7814\u7a76\u7684\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\uff0c\u5305\u62ecREINFORCE\u3001QAC\u548cA2C\uff0c\u90fd\u5c5e\u4e8e\u540c\u7b56\u7565(on-policy)\u65b9\u6cd5\u3002\u8fd9\u4e00\u7279\u70b9\u53ef\u4ece\u771f\u5b9e\u68af\u5ea6\u7684\u8868\u8fbe\u5f0f\u4e2d\u770b\u51fa:</p> \\[\\nabla_\\theta J(\\theta)=\\mathbb{E}_{S\\sim\\eta,A\\sim\\pi}\\left[\\nabla_\\theta\\ln\\pi(A|S,\\theta_t)(q_\\pi(S,A)-v_\\pi(S))\\right].\\] <p>\u4e3a\u4e86\u5229\u7528\u6837\u672c\u6765\u8fd1\u4f3c\u8fd9\u4e00\u771f\u5b9e\u68af\u5ea6\uff0c\u6211\u4eec\u5fc5\u987b\u901a\u8fc7\u9075\u5faa\u7b56\u7565 \\(\\pi(\\theta)\\)\u6765\u751f\u6210\u52a8\u4f5c\u6837\u672c\u3002\u56e0\u6b64\uff0c\\(\\pi(\\theta)\\)\u5373\u4e3a\u884c\u4e3a\u7b56\u7565\u3002\u7531\u4e8e \\(\\pi(\\theta)\\)\u540c\u65f6\u4e5f\u662f\u6211\u4eec\u5e0c\u671b\u6539\u8fdb\u7684\u76ee\u6807\u7b56\u7565\uff0c\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\u5c5e\u4e8e\u540c\u7b56\u7565(on-policy)\u65b9\u6cd5\u3002</p> <p>\u5728\u5df2\u6709\u7531\u7ed9\u5b9a\u884c\u4e3a\u7b56\u7565\u751f\u6210\u7684\u6837\u672c\u7684\u60c5\u51b5\u4e0b\uff0c\u4ecd\u53ef\u5e94\u7528\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\u6765\u5229\u7528\u8fd9\u4e9b\u6837\u672c\u3002\u4e3a\u6b64\uff0c\u53ef\u91c7\u7528\u79f0\u4e3a\u91cd\u8981\u6027\u91c7\u6837(importance sampling)\u7684\u6280\u672f\u3002\u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u91cd\u8981\u6027\u91c7\u6837\u6280\u672f\u5e76\u4e0d\u5c40\u9650\u4e8e\u5f3a\u5316\u5b66\u4e60\u9886\u57df\uff0c\u800c\u662f\u4e00\u79cd\u901a\u7528\u6280\u672f\u2014\u2014\u5176\u6838\u5fc3\u5728\u4e8e\u5229\u7528\u4ece\u67d0\u4e00\u5206\u5e03\u62bd\u53d6\u7684\u6837\u672c\u6765\u4f30\u8ba1\u5b9a\u4e49\u5728\u53e6\u4e00\u6982\u7387\u5206\u5e03\u4e0a\u7684\u671f\u671b\u503c\u3002</p>"},{"location":"Chapter-10/10-3/#1031","title":"10.3.1 \u91cd\u8981\u6027\u91c7\u6837","text":"<p>Note</p> <p>\u91cd\u8981\u6027\u91c7\u6837\u91cd\u70b9\u770b\u4e00\u4e0b</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u4ecb\u7ecd\u91cd\u8981\u6027\u91c7\u6837\u6280\u672f\u3002\u8003\u8651\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\\(X \\in \\mathcal{X}\\)\uff0c\u8bbe\\(p_0(X)\\)\u4e3a\u6982\u7387\u5206\u5e03\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\u4f30\u8ba1\\(\\mathbb{E}_{X\\sim p_0}[X]\\)\u3002\u5047\u8bbe\u5df2\u6709\u72ec\u7acb\u540c\u5206\u5e03\u6837\u672c\\(\\{x_i\\}_{i=1}^n\\)\u3002</p> <ul> <li> <p>\u9996\u5148\uff0c\u82e5\u6837\u672c\\(\\{x_i\\}_{i=1}^n\\)\u670d\u4ece\\(p_0\\)\u5206\u5e03\u751f\u6210\uff0c\u5219\u5176\u5747\u503c\\(\\bar{x} = \\frac{1}{n}\\sum_{i=1}^n x_i\\)\u53ef\u7528\u4e8e\u8fd1\u4f3c\\(\\mathbb{E}_{X\\sim p_0}[X]\\)\u3002\u8fd9\u662f\u56e0\u4e3a\\(\\bar{x}\\)\u662f\\(\\mathbb{E}_{X\\sim p_0}[X]\\)\u7684\u65e0\u504f\u4f30\u8ba1\u91cf\uff0c\u4e14\u5f53\\(n \\to \\infty\\)\u65f6\u4f30\u8ba1\u65b9\u5dee\u6536\u655b\u4e8e\u96f6(\u8be6\u89c1Box 5.1\u4e2d\u7684\u5927\u6570\u5b9a\u5f8b)\u3002</p> </li> <li> <p>\u5176\u6b21\uff0c\u8003\u8651\u4e00\u4e2a\u65b0\u573a\u666f\uff1a\u6837\u672c\\(\\{x_i\\}_{i=1}^n\\)\u5e76\u975e\u7531\\(p_0\\)\u751f\u6210\uff0c\u800c\u662f\u7531\u53e6\u4e00\u4e2a\u5206\u5e03\\(p_1\\)\u751f\u6210\u3002\u6211\u4eec\u662f\u5426\u4ecd\u80fd\u7528\u8fd9\u4e9b\u6837\u672c\u6765\u8fd1\u4f3c\\(\\mathbb{E}_{X\\sim p_0}[X]\\)\uff1f\u7b54\u6848\u662f\u80af\u5b9a\u7684\u3002\u7136\u800c\uff0c\u6b64\u65f6\u65e0\u6cd5\u7ee7\u7eed\u4f7f\u7528\\(\\bar{x} = \\frac{1}{n}\\sum_{i=1}^n x_i\\)\u6765\u8fd1\u4f3c\\(\\mathbb{E}_{X\\sim p_0}[X]\\)\uff0c\u56e0\u4e3a\\(\\bar{x} \\approx \\mathbb{E}_{X\\sim p_1}[X]\\)\u800c\u975e\\(\\mathbb{E}_{X\\sim p_0}[X]\\)\u3002</p> </li> </ul> <p>\u5728\u7b2c\u4e8c\u79cd\u60c5\u666f\u4e0b\uff0c\\(E_{X\u223cp_0}[X]\\)\u53ef\u901a\u8fc7\u91cd\u8981\u6027\u91c7\u6837\u6280\u672f\u8fdb\u884c\u8fd1\u4f3c\u4f30\u8ba1\u3002\u5177\u4f53\u800c\u8a00\uff0c\\(E_{X\u223cp_0}[X]\\)\u6ee1\u8db3</p> \\[\\mathbb{E}_{X\\sim p_0}[X]=\\sum_{x\\in X}p_0(x)x=\\sum_{x\\in X}p_1(x)\\underbrace{\\frac{p_0(x)}{p_1(x)}x}_{f(x)}=\\mathbb{E}_{X\\sim p_1}[f(X)].\\tag{10.9}\\] <p>\u56e0\u6b64\uff0c\u4f30\u8ba1\\(\\mathbb{E}_{X\\sim p_0}[X]\\)\u8f6c\u5316\u4e3a\u4f30\u8ba1\\(\\mathbb{E}_{X\\sim p_1}[f(X)]\\)\u7684\u95ee\u9898\u3002\u8bbe</p> \\[\\bar{f}\\doteq\\frac{1}{n}\\sum_{i=1}^nf(x_i).\\] <p>\u7531\u4e8e\\(\\bar{f}\\)\u80fd\u591f\u6709\u6548\u8fd1\u4f3c\\(\\mathbb{E}_{X\\sim p_1}[f(X)]\\)\uff0c\u56e0\u6b64\u7531\u5f0f\\((10.9)\\)\u53ef\u5f97</p> \\[\\mathbb{E}_{X\\sim p_{0}}[X]=\\mathbb{E}_{X\\sim p_{1}}[f(X)]\\approx\\bar{f}=\\frac{1}{n}\\sum_{i=1}^{n}f(x_{i})=\\frac{1}{n}\\sum_{i=1}^{n}\\underbrace{\\frac{p_{0}(x_{i})}{p_{1}(x_{i})}}_{importance \\; weight}x_{i}.\\tag{10.10}\\] <p>\u5f0f\\((10.10)\\)\u8868\u660e\uff0c\\(E_{X\\sim p_0}[X]\\)\u53ef\u901a\u8fc7\\(x_i\\)\u7684\u52a0\u6743\u5e73\u5747\u6765\u8fd1\u4f3c\u3002\u5176\u4e2d\\(\\frac{p_0(x_i)}{p_1(x_i)}\\)\u79f0\u4e3a\u91cd\u8981\u6027\u6743\u91cd\u3002\u5f53\\(p_1 = p_0\\)\u65f6\uff0c\u91cd\u8981\u6027\u6743\u91cd\u4e3a1\uff0c\u6b64\u65f6\\(\\bar{f}\\)\u9000\u5316\u4e3a\\(\\bar{x}\\)\u3002\u82e5\\(p_0(x_i) \u2265 p_1(x_i)\\)\uff0c\u5219\\(x_i\\)\u5728\\(p_0\\)\u4e2d\u7684\u91c7\u6837\u9891\u7387\u9ad8\u4e8e\\(p_1\\)\uff0c\u6b64\u65f6\u5927\u4e8e\\(1\\)\u7684\u91cd\u8981\u6027\u6743\u91cd\u5c06\u5f3a\u5316\u8be5\u6837\u672c\u7684\u91cd\u8981\u6027\u3002</p> <p>\u90e8\u5206\u8bfb\u8005\u53ef\u80fd\u4f1a\u63d0\u51fa\u4ee5\u4e0b\u7591\u95ee\uff1a\u65e2\u7136\\((10.10)\\)\u4e2d\u9700\u8981\\(p_0(x)\\)\uff0c\u4e3a\u4f55\u4e0d\u76f4\u63a5\u901a\u8fc7\u5b9a\u4e49\\(\\mathbb{E}_{X\\sim p_0}[X] = \\sum_{x\\in\\mathcal{X}} p_0(x)x\\)\u6765\u8ba1\u7b97\uff1f\u539f\u56e0\u5982\u4e0b\uff1a\u4f7f\u7528\u8be5\u5b9a\u4e49\u9700\u8981\u5df2\u77e5\\(p_0\\)\u7684\u89e3\u6790\u8868\u8fbe\u5f0f\uff0c\u6216\u8005\u5bf9\u6bcf\u4e2a\\(x \\in \\mathcal{X}\\)\u90fd\u80fd\u83b7\u53d6\\(p_0(x)\\)\u7684\u503c\u3002\u7136\u800c\uff0c\u5f53\u6982\u7387\u5206\u5e03\u7531\u795e\u7ecf\u7f51\u7edc\u7b49\u6a21\u578b\u8868\u793a\u65f6\uff0c\u5f88\u96be\u83b7\u5f97\\(p_0\\)\u7684\u89e3\u6790\u8868\u8fbe\u5f0f\uff1b\u800c\u5f53\\(\\mathcal{X}\\)\u7a7a\u95f4\u8f83\u5927\u65f6\uff0c\u4e5f\u96be\u4ee5\u83b7\u53d6\u6bcf\u4e2a\\(x\\)\u5bf9\u5e94\u7684\\(p_0(x)\\)\u503c\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\\((10.10)\\)\u4ec5\u9700\u90e8\u5206\u6837\u672c\u7684\\(p_0(x_i)\\)\u503c\uff0c\u5b9e\u9645\u5b9e\u73b0\u8d77\u6765\u66f4\u4e3a\u7b80\u4fbf\u3002</p> <p>Note</p> <p>\u9002\u7528\u4e8e\\(p_0\\)\u65e0\u6cd5\u91c7\u6837\u6216\u8005\u8fde\u7eed\u6027\u51fd\u6570\u65f6</p>"},{"location":"Chapter-10/10-3/#_1","title":"\u4f8b\u5b50","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u793a\u4f8b\u8bf4\u660e\u91cd\u8981\u6027\u91c7\u6837\u6280\u672f\u7684\u5e94\u7528\u3002\u8bbe\\(X \\in \\mathcal{X} = \\{+1, -1\\}\\)\uff0c\u5e76\u5047\u8bbe\\(p_0\\)\u4e3a\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u7684\u6982\u7387\u5206\u5e03\uff1a</p> \\[p_0(X=+1)=0.5,\\quad p_0(X=-1)=0.5.\\] <p>\\(X\\)\u5728\\(p_0\\)\u4e0a\u7684\u671f\u671b\u4e3a</p> \\[\\mathbb{E}_{X\\sim p_0}[X]=(+1)\\cdot0.5+(-1)\\cdot0.5=0.\\] <p>\u5047\u8bbe\\(p_1\\)\u662f\u6ee1\u8db3\u6761\u4ef6\u7684\u53e6\u4e00\u4e2a\u5206\u5e03</p> \\[p_1(X=+1)=0.8,\\quad p_1(X=-1)=0.2.\\] <p>\\(X\\)\u5728\\(p_1\\)\u4e0a\u7684\u671f\u671b\u4e3a</p> \\[\\mathbb{E}_{X\\sim p_1}[X]=(+1)\\cdot0.8+(-1)\\cdot0.2=0.6.\\] <p>\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e9b\u4ece\u5206\u5e03 \\(p_1\\)\u4e2d\u62bd\u53d6\u7684\u6837\u672c\\(\\{x_i\\}\\)\uff0c\u76ee\u6807\u662f\u5229\u7528\u8fd9\u4e9b\u6837\u672c\u4f30\u8ba1\\(\\mathbb{E}_{X\\sim p_0}[X]\\)\u3002\u5982\u56fe\\(10.2\\)\u6240\u793a\uff0c\u6837\u672c\u4e2d\\(+1\\)\u7684\u6570\u91cf\u591a\u4e8e\\(-1\\)\uff0c\u8fd9\u662f\u56e0\u4e3a\\(p_1(X=+1)=0.8 &gt; p_1(X=-1)=0.2\\)\u3002\u82e5\u76f4\u63a5\u8ba1\u7b97\u6837\u672c\u5747\u503c\\(\\sum_{i=1}^n x_i/n\\)\uff0c\u8be5\u503c\u4f1a\u6536\u655b\u81f3\\(\\mathbb{E}_{X\\sim p_1}[X]=0.6\\)(\u89c1\u56fe\\(10.2\\)\u865a\u7ebf)\uff1b\u800c\u901a\u8fc7\u5f0f\\((10.10)\\)\u8ba1\u7b97\u52a0\u6743\u5e73\u5747\u503c\u65f6\uff0c\u8be5\u503c\u53ef\u6b63\u786e\u6536\u655b\u81f3\\(\\mathbb{E}_{X\\sim p_0}[X]=0\\)(\u89c1\u56fe\\(10.2\\)\u5b9e\u7ebf)\u3002</p> <p></p> <p>\u56fe\\(10.2\\)\uff1a\u91cd\u8981\u6027\u91c7\u6837\u6280\u672f\u7684\u6f14\u793a\u793a\u4f8b\u3002\u6b64\u5904\u5b9a\u4e49\\(X \\in \\{+1, -1\\}\\)\u4e14\\(p_0(X = +1) = p_0(X = -1) =0.5\\)\u3002\u6837\u672c\u6839\u636e\\(p_1\\)\u5206\u5e03\u751f\u6210\uff0c\u5176\u4e2d\\(p_1(X = +1) =0.8\\)\uff0c\\(p_1(X = -1) =0.2\\)\u3002\u6837\u672c\u5747\u503c\u6536\u655b\u4e8e\\(\\mathbb{E}_{X\\sim p_1}[X] =0.6\\)\uff0c\u4f46\u901a\u8fc7\u5f0f\\((10.10)\\)\u91cd\u8981\u6027\u91c7\u6837\u6280\u672f\u8ba1\u7b97\u7684\u52a0\u6743\u5747\u503c\u6536\u655b\u4e8e\\(\\mathbb{E}_{X\\sim p_0}[X] =0\\)\u3002</p> <p>\u6700\u540e\uff0c\u7528\u4e8e\u751f\u6210\u6837\u672c\u7684\u5206\u5e03\\(p_1\\)\u5fc5\u987b\u6ee1\u8db3\uff1a\u5f53\\(p_0(x) \\neq0\\)\u65f6\uff0c\\(p_1(x) \\neq0\\)\u3002\u82e5\\(p_1(x) =0\\)\u800c\\(p_0(x) \\neq0\\)\uff0c\u5219\u4f30\u8ba1\u7ed3\u679c\u53ef\u80fd\u51fa\u73b0\u95ee\u9898\u3002\u4f8b\u5982\uff0c\u82e5</p> \\[p_1(X=+1)=1,\\quad p_1(X=-1)=0.\\] <p>\u90a3\u4e48\u7531\\(p_1\\)\u751f\u6210\u7684\u6837\u672c\u5747\u4e3a\u6b63\u503c\uff1a\\(\\{x_i\\} = \\{+1, +1, \\ldots, +1\\}\\)\u3002\u8fd9\u4e9b\u6837\u672c\u65e0\u6cd5\u6b63\u786e\u4f30\u8ba1\\(\\mathbb{E}_{X\\sim p_0}[X] =0\\)\uff0c\u56e0\u4e3a</p> \\[\\frac{1}{n}\\sum_{i=1}^n\\frac{p_0(x_i)}{p_1(x_i)}x_i=\\frac{1}{n}\\sum_{i=1}^n\\frac{p_0(+1)}{p_1(+1)}1=\\frac{1}{n}\\sum_{i=1}^n\\frac{0.5}{1}1\\equiv0.5,\\] <p>\u65e0\u8bba\\(n\\)\u53d6\u503c\u591a\u5927\u3002</p>"},{"location":"Chapter-10/10-3/#1032-off-policy","title":"10.3.2 off-policy\u7b56\u7565\u68af\u5ea6\u5b9a\u7406","text":"<p>\u501f\u52a9\u91cd\u8981\u6027\u91c7\u6837\u6280\u672f\uff0c\u6211\u4eec\u5f97\u4ee5\u63d0\u51fa\u5f02\u7b56\u7565\u68af\u5ea6\u5b9a\u7406\u3002\u5047\u8bbe\\(\\beta\\)\u4e3a\u884c\u4e3a\u7b56\u7565\uff0c\u76ee\u6807\u662f\u901a\u8fc7\\(\\beta\\)\u751f\u6210\u7684\u6837\u672c\u6765\u5b66\u4e60\u76ee\u6807\u7b56\u7565\\(\\pi\\)\uff0c\u4f7f\u5176\u80fd\u6700\u5927\u5316\u4ee5\u4e0b\u6307\u6807\uff1a</p> <p>J(\\theta)=\\sum_{s\\in\\mathcal{S}}d_\\beta(s)v_\\pi(s)=\\mathbb{E}{S\\sim d\\beta}[v_\\pi(S)],</p> <p>\u5176\u4e2d\\(d_\\beta\\)\u4e3a\u7b56\u7565\\(\\beta\\)\u4e0b\u7684\u7a33\u6001\u5206\u5e03\uff0c\\(v_\\pi\\)\u4e3a\u7b56\u7565\\(\\pi\\)\u4e0b\u7684\u72b6\u6001\u503c\u3002\u8be5\u6307\u6807\u7684\u68af\u5ea6\u7531\u4ee5\u4e0b\u5b9a\u7406\u7ed9\u51fa\u3002</p> <p>Info</p> <p>\u5b9a\u740610.1 (off-policy\u7b56\u7565\u68af\u5ea6\u5b9a\u7406).\u5728\u6298\u6263\u56e0\u5b50\\(\\gamma\\in(0,1)\\)\u7684\u6298\u6263\u60c5\u5f62\u4e0b\uff0c\u76ee\u6807\u51fd\u6570\\(J(\\theta)\\)\u7684\u68af\u5ea6\u4e3a</p> \\[\\nabla_{\\theta}J(\\theta)=\\mathbb{E}_{S\\sim\\rho,A\\sim\\beta}\\left[\\underbrace{\\frac{\\pi(A|S,\\theta)}{\\beta(A|S)}}_{importance \\; weight}\\nabla_{\\theta}\\ln\\pi(A|S,\\theta)q_{\\pi}(S,A)\\right],\\tag{10.11}\\] <p>\u5176\u4e2d\u72b6\u6001\u5206\u5e03\\(\\rho\\)\u6ee1\u8db3</p> \\[\\rho(s)=\\sum_{s^{\\prime}\\in\\mathcal{S}}d_\\beta(s^{\\prime})\\mathrm{Pr}_\\pi(s|s^{\\prime}),\\quad s\\in\\mathcal{S},\\] <p>\u5176\u4e2d\\(Pr^\\pi(s|s') = \\sum_{k=0}^\\infty \\gamma^k[P^k_\\pi]_{s's} = [(I - \\gamma P_\\pi)^{-1}]_{s's}\\)\u8868\u793a\u5728\u7b56\u7565\\(\\pi\\)\u4e0b\u4ece\u72b6\u6001\\(s'\\)\u8f6c\u79fb\u5230\u72b6\u6001\\(s\\)\u7684\u6298\u6263\u603b\u6982\u7387\u3002</p> <p>(10.11)\u5f0f\u4e2d\u7684\u68af\u5ea6\u4e0e\u5b9a\u74069.1\u7684\u540c\u7b56\u7565\u60c5\u5f62\u76f8\u4f3c\uff0c\u4f46\u5b58\u5728\u4e24\u70b9\u5dee\u5f02\uff1a\u7b2c\u4e00\u5dee\u5f02\u5728\u4e8e\u91cd\u8981\u6027\u6743\u91cd\uff1b\u7b2c\u4e8c\u5dee\u5f02\u5728\u4e8e\\(A \\sim \\beta\\)\u800c\u975e\\(A \\sim \\pi\\)\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u901a\u8fc7\u9075\u5faa\\(\\beta\\)\u6765\u903c\u8fd1\u771f\u5b9e\u68af\u5ea6\u751f\u6210\u7684\u52a8\u4f5c\u6837\u672c\u3002\u8be5\u5b9a\u7406\u7684\u8bc1\u660e\u89c1Box \\(10.2\\)\u3002</p>"},{"location":"Chapter-10/10-3/#1033","title":"10.3.3 \u7b97\u6cd5\u63cf\u8ff0","text":"<p>\u57fa\u4e8eoff-policy\u7b56\u7565\u68af\u5ea6\u5b9a\u7406\uff0c\u6211\u4eec\u73b0\u53ef\u63a8\u5bfcoff-policy\u7b56\u7565\u7684\u6f14\u5458-\u8bc4\u8bba\u5bb6\u7b97\u6cd5\u3002\u7531\u4e8e\u5f02\u7b56\u7565\u4e0e\u540c\u7b56\u7565\u9ad8\u5ea6\u76f8\u4f3c\uff0c\u6b64\u5904\u4ec5\u5c55\u793a\u82e5\u5e72\u5173\u952e\u6b65\u9aa4\u3002</p> <p>\u9996\u5148\uff0coff-policy\u7b56\u7565\u68af\u5ea6\u5bf9\u4e8e\u4efb\u4f55\u9644\u52a0\u57fa\u7ebf\\(b(s)\\)\u90fd\u5177\u6709\u4e0d\u53d8\u6027\u3002\u5177\u4f53\u800c\u8a00\uff0c\u6211\u4eec\u6709</p> \\[\\nabla_{\\theta}J(\\theta)=\\mathbb{E}_{S\\sim\\rho,A\\sim\\beta}\\left[\\frac{\\pi(A|S,\\theta)}{\\beta(A|S)}\\nabla_{\\theta}\\ln\\pi(A|S,\\theta)\\left(q_{\\pi}(S,A)-b(S)\\right)\\right],\\] <p>\u56e0\u4e3a\\(\\mathbb{E}\\left[{\\frac{\\pi(A|S,\\theta)}{\\beta(A|S)}}\\nabla_{\\theta}\\ln\\pi(A|S,\\theta)b(S)\\right]=0.\\)\u3002\u4e3a\u964d\u4f4e\u4f30\u8ba1\u65b9\u5dee\uff0c\u53ef\u5c06\u57fa\u7ebf\u51fd\u6570\u53d6\u4e3a\\(b(S) = v_\\pi(S)\\)\u4ece\u800c\u5f97\u5230</p> \\[\\nabla_{\\theta}J(\\theta)=\\mathbb{E}\\left[{\\frac{\\pi(A|S,\\theta)}{\\beta(A|S)}}\\nabla_{\\theta}\\ln\\pi(A|S,\\theta)\\left(q_{\\pi}(S,A)-v_{\\pi}(S)\\right)\\right].\\] <p>\u5bf9\u5e94\u7684\u968f\u673a\u68af\u5ea6\u4e0a\u5347\u7b97\u6cd5\u4e3a</p> \\[\\theta_{t+1}=\\theta_t+\\alpha_\\theta\\frac{\\pi(a_t|s_t,\\theta_t)}{\\beta(a_t|s_t)}\\nabla_\\theta\\ln\\pi(a_t|s_t,\\theta_t)\\left(q_t(s_t,a_t)-v_t(s_t)\\right),\\] <p>\u5176\u4e2d \\(\\alpha_\\theta &gt;0\\)\u3002\u4e0e\u540c\u7b56\u7565\u60c5\u5f62\u7c7b\u4f3c\uff0c\u4f18\u52bf\u51fd\u6570\\(q_t(s, a) - v_t(s)\\)\u53ef\u66ff\u6362\u4e3a\u65f6\u5e8f\u5dee\u5206\u8bef\u5dee(TD error)\uff0c\u5373</p> \\[q_t(s_t,a_t)-v_t(s_t)\\approx r_{t+1}+\\gamma v_t(s_{t+1})-v_t(s_t)\\doteq\\delta_t(s_t,a_t).\\] <p>\u968f\u540e\uff0c\u8be5\u7b97\u6cd5\u53d8\u4e3a</p> \\[\\theta_{t+1}=\\theta_{t}+\\alpha_{\\theta}\\frac{\\pi(a_{t}|s_{t},\\theta)}{\\beta(a_{t}|s_{t})}\\nabla_{\\theta}\\ln\\pi(a_{t}|s_{t},\\theta)\\delta_{t}(s_{t},a_{t}).\\] <p>\u4ece\u800c\u6709</p> \\[\\theta_{t+1}=\\theta_{t}+\\alpha_{\\theta}\\left(\\frac{\\delta_{t}(s_{t},a_{t})}{\\beta(a_{t}|s_{t})}\\right)\\nabla_{\\theta}\\pi(a_{t}|s_{t},\\theta_{t})\\] <p>Note</p> <p>\u4e0e\u540c\u7b56\u7565\u7684\u516c\u5f0f\\(\\theta_{t+1}=\\theta_t+\\alpha\\underbrace{\\left(\\frac{\\delta_t(s_t,a_t)}{\\pi(a_t|s_t,\\theta_t)}\\right)}_{\\mathrm{step~size}}\\nabla_\\theta\\pi(a_t|s_t,\\theta_t)\\)\u76f8\u6bd4\uff0c\u867d\u7136\u5206\u5b50\u8fd8\u4f1a\u6539\u53d8\u4ece\u800c\u53d1\u751f\u4e0e\u540c\u7b56\u7565\u76f8\u540c\u7684\u53d8\u5316\uff0c\u5373\u5145\u5206\u5229\u7528\uff0c\u4f46\u662f\u53ef\u4ee5\u770b\u5230\u5206\u6bcd\u662f\u4e00\u4e2a\u56fa\u5b9a\u7684\u503c\uff0c\u90a3\u4e48\u6b64\u65f6\u4e5f\u5c31\u4e0d\u5b58\u5728\u4ec0\u4e48\u63a2\u7d22\u3002</p> <p>\u5f02\u7b56\u7565\u6f14\u5458-\u8bc4\u8bba\u5bb6\u7b97\u6cd5\u7684\u5b9e\u73b0\u6d41\u7a0b\u603b\u7ed3\u4e8e\u7b97\u6cd5\\(10.3\\)\u4e2d\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u8be5\u7b97\u6cd5\u4e0e\u4f18\u52bf\u6f14\u5458-\u8bc4\u8bba\u5bb6\u7b97\u6cd5\u57fa\u672c\u76f8\u540c\uff0c\u53ea\u662f\u5728\u8bc4\u8bba\u5bb6\u548c\u6f14\u5458\u90e8\u5206\u90fd\u589e\u52a0\u4e86\u989d\u5916\u7684\u91cd\u8981\u6027\u6743\u91cd\u3002\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f\uff0c\u901a\u8fc7\u91cd\u8981\u6027\u91c7\u6837\u6280\u672f\uff0c\u4e0d\u4ec5\u6f14\u5458\u90e8\u5206\uff0c\u8bc4\u8bba\u5bb6\u90e8\u5206\u4e5f\u4ece\u540c\u7b56\u7565\u8f6c\u6362\u4e3a\u5f02\u7b56\u7565\u3002\u5b9e\u9645\u4e0a\uff0c\u91cd\u8981\u6027\u91c7\u6837\u662f\u4e00\u79cd\u901a\u7528\u6280\u672f\uff0c\u53ef\u540c\u65f6\u5e94\u7528\u4e8e\u57fa\u4e8e\u7b56\u7565\u548c\u57fa\u4e8e\u4ef7\u503c\u7684\u7b97\u6cd5\u3002\u6700\u540e\uff0c\u7b97\u6cd5\\(10.3\\)\u53ef\u901a\u8fc7\u591a\u79cd\u65b9\u5f0f\u8fdb\u884c\u6269\u5c55\uff0c\u4ee5\u6574\u5408\u8d44\u683c\u8ff9(eligibility traces)\u7b49\u66f4\u591a\u6280\u672f[73]\u3002</p> <p></p> <p>\u7b97\u6cd5\\(10.3\\)\uff1a\u57fa\u4e8e\u91cd\u8981\u6027\u91c7\u6837\u7684off-policy\u7b56\u7565\u6f14\u5458-\u8bc4\u8bba\u5bb6\u65b9\u6cd5</p>"},{"location":"Chapter-10/10-4/","title":"10.4-\u786e\u5b9a\u6027\u6f14\u5458-\u8bc4\u8bba\u6027\u65b9\u6cd5","text":""},{"location":"Chapter-10/10-4/#104-","title":"10.4 \u786e\u5b9a\u6027\u6f14\u5458-\u8bc4\u8bba\u6027\u7684\u65b9\u6cd5","text":"<p>\u8fc4\u4eca\u4e3a\u6b62\uff0c\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\u4e2d\u91c7\u7528\u7684\u6240\u6709\u7b56\u7565\u5747\u4e3a\u968f\u673a\u7b56\u7565\uff0c\u56e0\u4e3a\u8981\u6c42\u5bf9\u4e8e\u4efb\u610f\u72b6\u6001-\u884c\u52a8\u5bf9\\((s, a)\\)\u6ee1\u8db3\\(\\pi(a|s, \\theta) &gt;0\\)\u3002\u672c\u8282\u5c06\u8bba\u8bc1\u786e\u5b9a\u6027\u7b56\u7565\u540c\u6837\u9002\u7528\u4e8e\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\u3002\u6b64\u5904\"\u786e\u5b9a\u6027\"\u6307\uff1a\u5bf9\u4e8e\u4efb\u610f\u72b6\u6001\uff0c\u4ec5\u5355\u4e00\u52a8\u4f5c\u88ab\u8d4b\u4e88\u6982\u7387\\(1\\)\uff0c\u5176\u4f59\u52a8\u4f5c\u6982\u7387\u5747\u4e3a\\(0\\)\u3002\u7814\u7a76\u786e\u5b9a\u6027\u7b56\u7565\u5177\u6709\u91cd\u8981\u610f\u4e49\uff0c\u56e0\u5176\u5929\u7136\u5177\u5907\u5f02\u7b56\u7565\u7279\u6027\uff0c\u5e76\u80fd\u6709\u6548\u5904\u7406\u8fde\u7eed\u52a8\u4f5c\u7a7a\u95f4\u3002</p> <p>\u6211\u4eec\u4e00\u76f4\u4f7f\u7528\\(\\pi(a|s, \\theta)\\)\u8868\u793a\u901a\u7528\u7b56\u7565\uff0c\u8be5\u7b56\u7565\u65e2\u53ef\u4ee5\u662f\u968f\u673a\u7b56\u7565\u4e5f\u53ef\u4ee5\u662f\u786e\u5b9a\u6027\u7b56\u7565\u3002\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u91c7\u7528</p> \\[a=\\mu(s,\\theta)\\] <p>\u4e3a\u660e\u786e\u8868\u793a\u786e\u5b9a\u6027\u7b56\u7565\uff0c\u6b64\u5904\u91c7\u7528\\(\\mu\\)\u533a\u522b\u4e8e\\(\\pi\\)\uff1a\\(\\pi\\)\u7ed9\u51fa\u52a8\u4f5c\u7684\u6982\u7387\u5206\u5e03\uff0c\u800c\\(\\mu\\)\u76f4\u63a5\u8f93\u51fa\u52a8\u4f5c\uff0c\u56e0\u5176\u672c\u8d28\u662f\u4ece\u72b6\u6001\u7a7a\u95f4\\(\\mathcal{S}\\)\u5230\u52a8\u4f5c\u7a7a\u95f4\\(\\mathcal{A}\\)\u7684\u6620\u5c04\u3002\u8be5\u786e\u5b9a\u6027\u7b56\u7565\u53ef\u901a\u8fc7\u795e\u7ecf\u7f51\u7edc\u5b9e\u73b0\uff0c\u4f8b\u5982\u4ee5\u72b6\u6001\\(s\\)\u4e3a\u8f93\u5165\u3001\u52a8\u4f5c\\(a\\)\u4e3a\u8f93\u51fa\u3001\u53c2\u6570\\(\\theta\\)\u4e3a\u6743\u91cd\u3002\u4e3a\u7b80\u6d01\u8d77\u89c1\uff0c\u5e38\u5c06\\(\\mu(s, \\theta)\\)\u7b80\u5199\u4e3a \\(\\mu(s)\\)\u3002</p> <p>Note</p> <p>\u5982\u679c\u6211\u5728\u4e00\u4e2a\u72b6\u6001\u4e0b\u6709\u65e0\u6570\u4e2a\u884c\u52a8\uff0c\u8fd9\u65f6\u5019\u5c31\u53ef\u4ee5\u7528\u786e\u5b9a\u6027(deterministic)\u7684\u60c5\u51b5\u3002</p>"},{"location":"Chapter-10/10-4/#1041","title":"10.4.1 \u786e\u5b9a\u6027\u7b56\u7565\u68af\u5ea6\u5b9a\u7406","text":"<p>\u4e0a\u4e00\u7ae0\u4ecb\u7ecd\u7684\u653f\u7b56\u68af\u5ea6\u5b9a\u7406\u4ec5\u9002\u7528\u4e8e\u968f\u673a\u7b56\u7565\u3002\u5f53\u8981\u6c42\u7b56\u7565\u4e3a\u786e\u5b9a\u6027\u65f6\uff0c\u5fc5\u987b\u63a8\u5bfc\u65b0\u7684\u653f\u7b56\u68af\u5ea6\u5b9a\u7406\u3002</p> <p>Info</p> <p>\u5b9a\u740610.2\uff08\u786e\u5b9a\u6027\u7b56\u7565\u68af\u5ea6\u5b9a\u7406\uff09\u3002\u76ee\u6807\u51fd\u6570\\(J(\\theta)\\)\u7684\u68af\u5ea6\u4e3a</p> \\[\\nabla_\\theta J(\\theta) = \\int_{s \\in \\mathcal{S}} \\eta(s) \\nabla_\\theta \\mu(s) \\left. \\nabla_a q_\\mu(s, a) \\right|_{a=\\mu(s)} = \\mathbb{E}_{S \\sim \\eta} \\left[ \\nabla_\\theta \\mu(S) \\left. \\nabla_a q_\\mu(S, a) \\right|_{a=\\mu(S)} \\right],\\tag{10.14}\\] <p>\u5176\u4e2d \\(\\eta\\)\u8868\u793a\u72b6\u6001\u7684\u6982\u7387\u5206\u5e03\u3002</p> <p>\u5b9a\u7406\\(10.2\\)\u662f\u5bf9\u5b9a\u7406\\(10.3\\)\u548c\u5b9a\u7406\\(10.4\\)\u6240\u8ff0\u7ed3\u679c\u7684\u603b\u7ed3\uff0c\u56e0\u4e3a\u8fd9\u4e24\u4e2a\u5b9a\u7406\u4e2d\u7684\u68af\u5ea6\u5177\u6709\u76f8\u4f3c\u7684\u8868\u8fbe\u5f0f\u3002\\(J(\\theta)\\)\u548c\\(\\eta\\)\u7684\u5177\u4f53\u8868\u8fbe\u5f0f\u53ef\u53c2\u89c1\u5b9a\u7406\\(10.3\\)\u548c\u5b9a\u7406\\(10.4\\)\u3002</p> <p>\u4e0e\u968f\u673a\u7b56\u7565\u7684\u60c5\u51b5\u4e0d\u540c\uff0c\u5f0f\\((10.14)\\)\u6240\u793a\u7684\u786e\u5b9a\u6027\u7b56\u7565\u68af\u5ea6\u4e0d\u6d89\u53ca\u52a8\u4f5c\u968f\u673a\u53d8\u91cf\\(A\\)\u3002\u56e0\u6b64\uff0c\u5f53\u6211\u4eec\u4f7f\u7528\u6837\u672c\u6765\u8fd1\u4f3c\u771f\u5b9e\u68af\u5ea6\u65f6\uff0c\u65e0\u9700\u5bf9\u52a8\u4f5c\u8fdb\u884c\u91c7\u6837\u3002\u8fd9\u4f7f\u5f97\u786e\u5b9a\u6027\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\u5177\u6709\u5f02\u7b56\u7565\u7279\u6027\u3002\u6b64\u5916\uff0c\u90e8\u5206\u8bfb\u8005\u53ef\u80fd\u7591\u60d1\u4e3a\u4f55\\(\\left. \\nabla_a q_\\mu(S, a) \\right|_{a=\\mu(S)}\\)\u4e0d\u80fd\u7b80\u5199\u4e3a\\(\\nabla_a q_\\mu(S, \\mu(S))\\)\u2014\u2014\u8fd9\u662f\u56e0\u4e3a\u82e5\u91c7\u7528\u540e\u8005\uff0c\u5c06\u65e0\u6cd5\u660e\u786e\\(q_\\mu(S, \\mu(S))\\)\u5982\u4f55\u4f5c\u4e3a\\(a\\)\u7684\u51fd\u6570\u3002\u66f4\u7b80\u6d01\u4e14\u4e0d\u6613\u6df7\u6dc6\u7684\u8868\u8fbe\u5f0f\u53ef\u5199\u4f5c\\(\\nabla_a q_\\mu(S, a = \\mu(S))\\)\u3002</p> <p>\u5728\u672c\u5c0f\u8282\u5269\u4f59\u90e8\u5206\uff0c\u6211\u4eec\u5c06\u8be6\u7ec6\u63a8\u5bfc\u5b9a\u7406\\(10.2\\)\u3002\u5177\u4f53\u800c\u8a00\uff0c\u6211\u4eec\u5c06\u63a8\u5bfc\u4e24\u79cd\u5e38\u89c1\u6307\u6807\u7684\u68af\u5ea6\uff1a\u5176\u4e00\u662f\u5e73\u5747\u503c\uff0c\u5176\u4e8c\u662f\u5e73\u5747\u5956\u52b1\u3002\u7531\u4e8e\u8fd9\u4e24\u4e2a\u6307\u6807\u5df2\u5728\u7b2c\\(9.2\\)\u8282\u8be6\u7ec6\u8ba8\u8bba\u8fc7\uff0c\u6211\u4eec\u6709\u65f6\u4f1a\u76f4\u63a5\u5f15\u7528\u5176\u6027\u8d28\u800c\u4e0d\u52a0\u8bc1\u660e\u3002\u5bf9\u4e8e\u591a\u6570\u8bfb\u8005\u800c\u8a00\uff0c\u53ea\u9700\u719f\u6089\u5b9a\u7406\\(10.2\\)\u7684\u5185\u5bb9\u800c\u65e0\u9700\u4e86\u89e3\u5176\u63a8\u5bfc\u7ec6\u8282\u3002\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u6709\u9009\u62e9\u6027\u5730\u67e5\u9605\u672c\u8282\u540e\u7eed\u63a8\u5bfc\u5185\u5bb9\u3002</p>"},{"location":"Chapter-10/10-4/#1","title":"\u6307\u68071: \u5e73\u5747\u503c","text":"<p>\u6211\u4eec\u9996\u5148\u63a8\u5bfc\u5e73\u5747\u503c\u7684\u68af\u5ea6\uff1a</p> \\[J(\\theta)=\\operatorname{E}[v_{\\mu}(s)]=\\sum_{s\\in\\mathcal{S}}d_{0}(s)v_{\\mu}(s),\\tag{10.15}\\] <p>\u5176\u4e2d\\(d_0\\)\u8868\u793a\u72b6\u6001\u7684\u521d\u59cb\u6982\u7387\u5206\u5e03\u3002\u4e3a\u7b80\u5316\u5206\u6790\uff0c\u6b64\u5904\u8bbe\u5b9a\\(d_0\\)\u4e0e\u53c2\u6570\\(\\mu\\)\u65e0\u5173\u3002\\(d_0\\)\u7684\u9009\u53d6\u5b58\u5728\u4e24\u79cd\u7279\u6b8a\u4f46\u91cd\u8981\u7684\u60c5\u5f62\uff1a\u7b2c\u4e00\u79cd\u60c5\u5f62\u662f\\(d_0(s_0) =1\\)\u4e14\\(d_0(s \\neq s_0) =0\\)\uff0c\u5176\u4e2d\\(s_0\\)\u4e3a\u7279\u5b9a\u76ee\u6807\u72b6\u6001\u3002\u6b64\u65f6\u7b56\u7565\u65e8\u5728\u6700\u5927\u5316\u4ece\\(s_0\\)\u51fa\u53d1\u6240\u80fd\u83b7\u5f97\u7684\u6298\u6263\u56de\u62a5\uff1b\u7b2c\u4e8c\u79cd\u60c5\u5f62\u662f\\(d_0\\)\u4e3a\u4e0d\u540c\u4e8e\u76ee\u6807\u7b56\u7565\u7684\u7ed9\u5b9a\u884c\u4e3a\u7b56\u7565\u6240\u5bf9\u5e94\u7684\u72b6\u6001\u5206\u5e03\u3002</p> <p>\u4e3a\u8ba1\u7b97\\(J(\\theta)\\)\u7684\u68af\u5ea6\uff0c\u9996\u5148\u9700\u8981\u6c42\u89e3\u4efb\u610f\u72b6\u6001\\(s \\in \\mathcal{S}\\)\u4e0b\\(v_\\mu(s)\\)\u7684\u68af\u5ea6\u3002\u8003\u8651\u6298\u73b0\u56e0\u5b50\\(\\gamma \\in (0,1)\\)\u7684\u6298\u6263\u60c5\u5f62\u3002</p> <p>Info</p> <p>\u5f15\u7406\\(10.1\\) (\\(v_\\mu(s)\\)\u7684\u68af\u5ea6).\u5728\u6298\u73b0\u60c5\u5f62\u4e0b\uff0c\u5bf9\u4efb\u610f\u72b6\u6001 \\(s \\in \\mathcal{S}\\)\u6709</p> \\[\\nabla_{\\theta}v_{\\mu}(s)=\\sum_{s^{\\prime}\\in\\mathcal{S}}\\Pr_{\\mu}(s^{\\prime}|s)\\nabla_{\\theta}\\mu(s^{\\prime})\\left(\\nabla_{a}q_{\\mu}(s^{\\prime},a)\\right)|_{a=\\mu(s^{\\prime})},\\tag{10.16}\\] <p>\u5176\u4e2d</p> \\[\\Pr_\\mu(s'|s) = \\sum_{k=0}^\\infty \\gamma^k [P_\\mu^k]_{ss'} = \\left[ (I - \\gamma P_\\mu)^{-1} \\right]_{ss'}\\] <p>\u8868\u793a\u7b56\u7565\\(\\mu\\)\u4e0b\u4ece\u72b6\u6001\\(s\\)\u8f6c\u79fb\u5230\\(s'\\)\u7684\u6298\u6263\u603b\u6982\u7387\u3002\u6b64\u5904\\([\\cdot]_{ss'}\\)\u8868\u793a\u77e9\u9635\u7b2c\\(s\\)\u884c\u7b2c\\(s'\\)\u5217\u7684\u5143\u7d20\u3002</p> <p>\u6839\u636e\u5f15\u7406\\(10.1\\)\u7684\u51c6\u5907\uff0c\u6211\u4eec\u73b0\u5728\u53ef\u4ee5\u63a8\u5bfc\u51fa\\(J(\\theta)\\)\u7684\u68af\u5ea6\u3002</p> <p>Info</p> <p>\u5b9a\u740610.3(\u6298\u73b0\u60c5\u51b5\u4e0b\u7684\u786e\u5b9a\u6027\u7b56\u7565\u68af\u5ea6\u5b9a\u7406)\u3002</p> <p>\u5728\u6298\u73b0\u56e0\u5b50\\(\\gamma\\in(0,1)\\)\u7684\u60c5\u51b5\u4e0b\uff0c\u5f0f\\((10.15)\\)\u4e2d\\(J(\\theta)\\)\u7684\u68af\u5ea6\u4e3a</p> \\[\\begin{aligned}\\nabla_{\\theta}J(\\theta)&amp;=\\sum_{s\\in\\mathcal{S}}\\rho_{\\mu}(s)\\nabla_{\\theta}\\mu(s)\\left(\\nabla_{a}q_{\\mu}(s,a)\\right)|_{a=\\mu(s)}\\\\&amp;=\\mathbb{E}_{S\\sim\\rho_{\\mu}}\\left[\\nabla_{\\theta}\\mu(S)\\left(\\nabla_{a}q_{\\mu}(S,a)\\right)|_{a=\\mu(S)}\\right],\\end{aligned}\\] <p>\u5176\u4e2d\u72b6\u6001\u5206\u5e03\\(\\rho_\\mu\\)\u5b9a\u4e49\u4e3a</p> \\[\\rho_{\\mu}(s)=\\sum_{s^{\\prime}\\in{\\mathcal{S}}}d_{0}(s^{\\prime})\\mathrm{Pr}_{\\mu}(s|s^{\\prime}),\\quad s\\in{\\mathcal{S}}.\\] <p>\u6b64\u5904\uff0c\u8f6c\u79fb\u6982\u7387\\(\\mathrm{Pr}_{\\mu}(s|s^{\\prime})=\\sum_{k=0}^{\\infty}\\gamma^{k}[P_{\\mu}^{k}]_{s^{\\prime}s}=[(I-\\gamma P_{\\mu})^{-1}]_{s^{\\prime}s}\\)\u8868\u793a\u5728\u7b56\u7565\\(\\mu\\)\u4e0b\u4ece\u72b6\u6001\\(s'\\)\u8f6c\u79fb\u5230\\(s\\)\u7684\u6298\u73b0\u603b\u6982\u7387\u3002</p>"},{"location":"Chapter-10/10-4/#2","title":"\u6307\u68072: \u5e73\u5747\u5956\u52b1","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u63a8\u5bfc\u5e73\u5747\u5956\u52b1\u7684\u68af\u5ea6\uff1a</p> \\[\\begin{aligned}J(\\theta)=\\bar{r}_{\\mu}&amp;=\\sum_{s\\in\\mathcal{S}}d_{\\mu}(s)r_{\\mu}(s)\\\\&amp;=\\mathbb{E}_{S\\sim d_{\\mu}}[r_{\\mu}(S)],\\end{aligned}\\tag{10.20}\\] <p>\u5728\u8fd9\u91cc</p> \\[r_{\\mu}(s)=\\mathbb{E}[R|s,a=\\mu(s)]=\\sum rp(r|s,a=\\mu(s))\\] <p>\u8be5\u6307\u6807\u8868\u793a\u5373\u65f6\u5956\u52b1\u7684\u671f\u671b\u503c\u3002\u66f4\u591a\u76f8\u5173\u4fe1\u606f\u8be6\u89c1\u7b2c\\(9.2\\)\u8282\u3002</p> <p>\u51fd\u6570\\(J(\\theta)\\)\u7684\u68af\u5ea6\u7531\u4ee5\u4e0b\u5b9a\u7406\u7ed9\u51fa\u3002</p> <p>Info</p> <p>\u5b9a\u740610.4(\u65e0\u6298\u73b0\u60c5\u51b5\u4e0b\u7684\u786e\u5b9a\u6027\u7b56\u7565\u68af\u5ea6\u5b9a\u7406)\u3002\u5728\u65e0\u6298\u73b0\u60c5\u51b5\u4e0b\uff0c\\((10.20)\\)\u5f0f\u4e2d\\(J(\\theta)\\)\u7684\u68af\u5ea6\u4e3a</p> \\[\\begin{aligned}\\nabla_{\\theta}J(\\theta)&amp;=\\sum_{s\\in\\mathcal{S}}d_{\\mu}(s)\\nabla_{\\theta}\\mu(s)\\left(\\nabla_{a}q_{\\mu}(s,a)\\right)|_{a=\\mu(s)}\\\\&amp;=\\mathbb{E}_{S\\sim d_{\\mu}}\\left[\\nabla_{\\theta}\\mu(S)\\left(\\nabla_{a}q_{\\mu}(S,a)\\right)|_{a=\\mu(S)}\\right],\\end{aligned}\\] <p>\u5176\u4e2d \\(d_\\mu\\)\u4e3a\u7b56\u7565 \\(\\mu\\)\u4e0b\u72b6\u6001\u7684\u5e73\u7a33\u5206\u5e03\u3002</p>"},{"location":"Chapter-10/10-4/#1042","title":"10.4.2 \u7b97\u6cd5\u63cf\u8ff0","text":"<p>\u6839\u636e\u5b9a\u7406\\(10.2\\)\u7ed9\u51fa\u7684\u68af\u5ea6\uff0c\u6211\u4eec\u53ef\u4ee5\u5e94\u7528\u68af\u5ea6\u4e0a\u5347\u7b97\u6cd5\u6765\u6700\u5927\u5316\\(J(\\theta)\\)\uff1a</p> \\[\\theta_{t+1}=\\theta_t+\\alpha_\\theta\\mathbb{E}_{S\\sim\\eta}\\left[\\nabla_\\theta\\mu(S)\\left(\\nabla_aq_\\mu(S,a)\\right)|_{a=\\mu(S)}\\right].\\] <p>\u5bf9\u5e94\u7684\u968f\u673a\u68af\u5ea6\u4e0a\u5347\u7b97\u6cd5\u4e3a</p> \\[\\theta_{t+1}=\\theta_t+\\alpha_\\theta\\nabla_\\theta\\mu(s_t)\\left(\\nabla_aq_\\mu(s_t,a)\\right)|_{a=\\mu(s_t)}.\\] <p>\u8be5\u5b9e\u73b0\u65b9\u6cd5\u603b\u7ed3\u4e8e\u7b97\u6cd5\\(10.4\\)\u4e2d\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6b64\u7b97\u6cd5\u5c5e\u4e8e\u5f02\u7b56\u7565\u65b9\u6cd5\uff0c\u56e0\u4e3a\u884c\u4e3a\u7b56\u7565\\(\\beta\\)\u53ef\u80fd\u4e0e\u76ee\u6807\u7b56\u7565\\(\\mu\\)\u4e0d\u540c\u3002\u9996\u5148\uff0c\u6f14\u5458(actor)\u662f\u5f02\u7b56\u7565\u7684,\u6211\u4eec\u5728\u9610\u8ff0\u5b9a\u7406\\(10.2\\)\u65f6\u5df2\u8bf4\u660e\u539f\u56e0\u3002\u5176\u6b21\uff0c\u8bc4\u8bba\u5bb6(critic)\u540c\u6837\u91c7\u7528\u5f02\u7b56\u7565\u673a\u5236\uff0c\u4f46\u9700\u7279\u522b\u6ce8\u610f\u4e3a\u4f55\u8bc4\u8bba\u5bb6\u867d\u4e3a\u5f02\u7b56\u7565\u5374\u65e0\u9700\u91cd\u8981\u6027\u91c7\u6837\u6280\u672f\u3002\u5177\u4f53\u800c\u8a00\uff0c\u8bc4\u8bba\u5bb6\u6240\u9700\u7684\u7ecf\u9a8c\u6837\u672c\u4e3a\\((s_t, a_t, r_{t+1}, s_{t+1}, \\tilde{a}_{t+1})\\)\uff0c\u5176\u4e2d\\(\\tilde{a}_{t+1} = \\mu(s_{t+1})\\)\u3002\u8be5\u6837\u672c\u7684\u751f\u6210\u6d89\u53ca\u4e24\u4e2a\u7b56\u7565\uff1a\u7b2c\u4e00\u4e2a\u7b56\u7565\u5728\u72b6\u6001\\(s_t\\)\u4e0b\u751f\u6210\u52a8\u4f5c\\(a_t\\)\uff0c\u7b2c\u4e8c\u4e2a\u7b56\u7565\u5728\u72b6\u6001\\(s_{t+1}\\)\u4e0b\u751f\u6210\u52a8\u4f5c\\(\\tilde{a}_{t+1}\\)\u3002\u7531\u4e8e\\(a_t\\)\u7528\u4e8e\u4e0e\u73af\u5883\u4ea4\u4e92\uff0c\u5176\u751f\u6210\u7b56\u7565\u5fc5\u7136\u662f\u884c\u4e3a\u7b56\u7565\uff1b\u800c\\(\\tilde{a}_{t+1}\\)\u7684\u751f\u6210\u7b56\u7565\u5fc5\u987b\u662f\\(\\mu\\)\uff0c\u56e0\u4e3a\u8bc4\u8bba\u5bb6\u7684\u76ee\u6807\u6b63\u662f\u8bc4\u4f30\u8be5\u7b56\u7565\u7684\u6027\u80fd\uff0c\u56e0\u6b64\\(\\mu\\)\u4f5c\u4e3a\u76ee\u6807\u7b56\u7565\u5b58\u5728\u3002\u9700\u8981\u5f3a\u8c03\u7684\u662f\uff0c\\(\\tilde{a}_{t+1}\\)\u4e0d\u4f1a\u5728\u4e0b\u4e00\u65f6\u95f4\u6b65\u7528\u4e8e\u73af\u5883\u4ea4\u4e92\uff0c\u6545\\(\\mu\\)\u5e76\u975e\u884c\u4e3a\u7b56\u7565\u3002\u7531\u6b64\u53ef\u89c1\uff0c\u8bc4\u8bba\u5bb6\u672c\u8d28\u4e0a\u5c5e\u4e8e\u5f02\u7b56\u7565\u65b9\u6cd5\u3002</p> <p>\u5982\u4f55\u9009\u62e9\u51fd\u6570\\(q(s, a, w)\\)\uff1f\u63d0\u51fa\u786e\u5b9a\u6027\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\u7684\u539f\u59cb\u7814\u7a76\u5de5\u4f5c[74]\u91c7\u7528\u4e86\u7ebf\u6027\u51fd\u6570\uff1a\\(q(s, a, w) = \\varphi^T(s, a)w\\)\uff0c\u5176\u4e2d\\(\\varphi(s, a)\\)\u4e3a\u7279\u5f81\u5411\u91cf\u3002\u76ee\u524d\u666e\u904d\u91c7\u7528\u795e\u7ecf\u7f51\u7edc\u6765\u8868\u793a\\(q(s, a, w)\\)\uff0c\u5982\u6df1\u5ea6\u786e\u5b9a\u6027\u7b56\u7565\u68af\u5ea6(DDPG)\u65b9\u6cd5[75]\u6240\u5efa\u8bae\u7684\u3002</p> <p></p> <p>\u7b97\u6cd5\\(10.4\\)\uff1a\u786e\u5b9a\u6027\u7b56\u7565\u68af\u5ea6\u6216\u786e\u5b9a\u6027\u884c\u52a8\u8005-\u8bc4\u8bba\u5bb6\u65b9\u6cd5</p> <p>\u5982\u4f55\u9009\u62e9\u884c\u4e3a\u7b56\u7565\\(\\beta\\)\uff1f\u5b83\u53ef\u4ee5\u662f\u4efb\u610f\u63a2\u7d22\u6027\u7b56\u7565\uff0c\u4e5f\u53ef\u4ee5\u662f\u901a\u8fc7\u5411\\(\\mu\\)\u6dfb\u52a0\u566a\u58f0\u83b7\u5f97\u7684\u968f\u673a\u7b56\u7565[75]\u3002\u6b64\u65f6\\(\\mu\\)\u5373\u4e3a\u884c\u4e3a\u7b56\u7565\uff0c\u56e0\u6b64\u8fd9\u79cd\u65b9\u5f0f\u5c5e\u4e8e\u540c\u7b56\u7565\u5b9e\u73b0\u3002</p> <p>Note</p> <p>\\(\\mu\\)+noise\u7684\u65b9\u5f0f\u4e0e\u6211\u4eec\u4e4b\u524d\u7684 \\(\\varepsilon\\)-\u8d2a\u5a6a\u7684\u65b9\u6cd5\u7c7b\u4f3c\uff0c\u4f46\u662f\u8fd9\u91cc\u6211\u4eec\u4e0d\u80fd\u7528\uff0c\u56e0\u4e3a\u8fd9\u91cc\u8fb9\u4ed6\u7684\u884c\u52a8\u662f\u8fde\u7eed\u7684\uff0c\u6211\u4e0d\u80fd\u5728\u5176\u5b83\u6709\u9650\u7684\u884c\u52a8\u4e0a\u52a0\u4e00\u4e9b\u6bd4\u8f83\u5c0f\u7684\u6982\u7387</p>"},{"location":"Chapter-10/10-5/","title":"10.5-\u603b\u7ed3","text":""},{"location":"Chapter-10/10-5/#105","title":"10.5 \u603b\u7ed3","text":"<p>\u5728\u672c\u7ae0\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u6f14\u5458-\u8bc4\u8bba\u5bb6\u65b9\u6cd5(actor-critic methods)\uff0c\u4e3b\u8981\u5185\u5bb9\u603b\u7ed3\u5982\u4e0b\u3002</p> <ul> <li> <p>\\(10.1\\)\u8282\u4ecb\u7ecd\u4e86\u6700\u7b80\u5355\u7684\u6f14\u5458-\u8bc4\u8bba\u5bb6\u7b97\u6cd5QAC\u3002\u8be5\u7b97\u6cd5\u4e0e\u524d\u4e00\u7ae0\u4ecb\u7ecd\u7684\u7b56\u7565\u68af\u5ea6\u7b97\u6cd5REINFORCE\u7c7b\u4f3c\uff0c\u552f\u4e00\u533a\u522b\u5728\u4e8eQAC\u7684 q\u503c\u4f30\u8ba1\u4f9d\u8d56\u4e8e\u65f6\u5e8f\u5dee\u5206(TD)\u5b66\u4e60\uff0c\u800c REINFORCE\u4f9d\u8d56\u4e8e\u8499\u7279\u5361\u6d1b\u4f30\u8ba1\u3002</p> </li> <li> <p>\u7b2c\\(10.2\\)\u8282\u5c06QAC\u65b9\u6cd5\u6269\u5c55\u81f3\u4f18\u52bf\u6f14\u5458-\u8bc4\u8bba\u5bb6\u6846\u67b6\u3002\u7814\u7a76\u8868\u660e\uff0c\u7b56\u7565\u68af\u5ea6\u5bf9\u4e8e\u4efb\u4f55\u9644\u52a0\u57fa\u7ebf\u5747\u5177\u6709\u4e0d\u53d8\u6027\uff1b\u8fdb\u4e00\u6b65\u5206\u6790\u8868\u660e\uff0c\u91c7\u7528\u6700\u4f18\u57fa\u7ebf\u53ef\u6709\u6548\u964d\u4f4e\u4f30\u8ba1\u65b9\u5dee\u3002</p> </li> <li> <p>\u7b2c10.3\u8282\u8fdb\u4e00\u6b65\u5c06\u4f18\u52bf\u6f14\u5458-\u8bc4\u8bba\u5bb6\u7b97\u6cd5\u63a8\u5e7f\u81f3\u5f02\u7b56\u7565\u573a\u666f\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u5f15\u5165\u4e86\u4e00\u9879\u79f0\u4e3a\u91cd\u8981\u6027\u91c7\u6837\u7684\u5173\u952e\u6280\u672f\u3002</p> </li> <li> <p>\u6700\u540e\uff0c\u5c3d\u7ba1\u4e4b\u524d\u4ecb\u7ecd\u7684\u6240\u6709\u7b56\u7565\u68af\u5ea6\u7b97\u6cd5\u90fd\u4f9d\u8d56\u4e8e\u968f\u673a\u7b56\u7565\uff0c\u4f46\u6211\u4eec\u5728\u7b2c\\(10.4\\)\u8282\u4e2d\u8bc1\u660e\u4e86\u7b56\u7565\u53ef\u4ee5\u88ab\u5f3a\u5236\u4e3a\u786e\u5b9a\u6027\u7b56\u7565\u3002\u6587\u4e2d\u63a8\u5bfc\u4e86\u76f8\u5e94\u7684\u68af\u5ea6\uff0c\u5e76\u5f15\u5165\u4e86\u786e\u5b9a\u6027\u7b56\u7565\u68af\u5ea6\u7b97\u6cd5\u3002</p> </li> </ul> <p>\u7b56\u7565\u68af\u5ea6\u548c\u884c\u52a8\u8005-\u8bc4\u8bba\u5bb6\u65b9\u6cd5\u662f\u73b0\u4ee3\u5f3a\u5316\u5b66\u4e60\u4e2d\u5e7f\u6cdb\u4f7f\u7528\u7684\u6280\u672f\u3002\u6587\u732e\u4e2d\u5b58\u5728\u5927\u91cf\u5148\u8fdb\u7b97\u6cd5\uff0c\u4f8b\u5982SAC [76,77]\u3001TRPO [78]\u3001PPO [79]\u548c TD3 [80]\u3002\u6b64\u5916\uff0c\u5355\u667a\u80fd\u4f53\u60c5\u5f62\u4e5f\u53ef\u6269\u5c55\u81f3\u591a\u667a\u80fd\u4f53\u5f3a\u5316\u5b66\u4e60\u573a\u666f[81\u201385]\u3002\u7ecf\u9a8c\u6837\u672c\u4ea6\u53ef\u7528\u4e8e\u62df\u5408\u7cfb\u7edf\u6a21\u578b\uff0c\u5b9e\u73b0\u57fa\u4e8e\u6a21\u578b\u7684\u5f3a\u5316\u5b66\u4e60[15,86,87]\u3002\u5206\u5e03\u5f0f\u5f3a\u5316\u5b66\u4e60\u63d0\u4f9b\u4e86\u4e0e\u4f20\u7edf\u65b9\u6cd5\u6839\u672c\u4e0d\u540c\u7684\u7814\u7a76\u89c6\u89d2[88,89]\u3002\u5f3a\u5316\u5b66\u4e60\u4e0e\u63a7\u5236\u7406\u8bba\u7684\u5173\u8054\u6027\u5df2\u5728\u6587\u732e[90\u201395]\u4e2d\u6df1\u5165\u63a2\u8ba8\u3002\u672c\u4e66\u867d\u65e0\u6cd5\u6db5\u76d6\u6240\u6709\u8fd9\u4e9b\u4e3b\u9898\uff0c\u4f46\u5e0c\u671b\u6240\u5960\u5b9a\u7684\u7406\u8bba\u57fa\u7840\u80fd\u5e2e\u52a9\u8bfb\u8005\u5728\u672a\u6765\u66f4\u597d\u5730\u5f00\u5c55\u76f8\u5173\u7814\u7a76\u3002</p>"},{"location":"Chapter-10/intro/","title":"\u4ecb\u7ecd","text":"<p>\u672c\u7ae0\u4ecb\u7ecd\u6f14\u5458-\u8bc4\u8bba\u5bb6(Actor-Critic)\u65b9\u6cd5\u3002\u4ece\u4e00\u79cd\u89c6\u89d2\u770b\uff0c\u201c\u6f14\u5458-\u8bc4\u8bba\u5bb6\u201d\u6307\u878d\u5408\u4e86\u57fa\u4e8e\u7b56\u7565\u548c\u57fa\u4e8e\u4ef7\u503c\u65b9\u6cd5\u7684\u7ed3\u6784\u6846\u67b6\u3002\u5176\u4e2d\uff0c\u201c\u6f14\u5458\u201d\u5bf9\u5e94\u7b56\u7565\u66f4\u65b0\u6b65\u9aa4\uff0c\u5176\u547d\u540d\u6e90\u4e8e\u52a8\u4f5c\u901a\u8fc7\u9075\u5faa\u7b56\u7565\u800c\u4ea7\u751f\uff1b\u800c\u201c\u8bc4\u8bba\u5bb6\u201d\u5bf9\u5e94\u4ef7\u503c\u66f4\u65b0\u6b65\u9aa4\uff0c\u5176\u529f\u80fd\u662f\u901a\u8fc7\u8bc4\u4f30\u76f8\u5173\u4ef7\u503c\u5bf9\u884c\u52a8\u8005\u8fdb\u884c\u8bc4\u5224\u3002\u4ece\u53e6\u4e00\u89c6\u89d2\u770b\uff0c\u6f14\u5458-\u8bc4\u8bba\u5bb6\u65b9\u6cd5\u4ecd\u5c5e\u4e8e\u7b56\u7565\u68af\u5ea6\u7b97\u6cd5\u8303\u7574\uff0c\u53ef\u901a\u8fc7\u6269\u5c55\u7b2c\\(9\\)\u7ae0\u6240\u8ff0\u7b56\u7565\u68af\u5ea6\u7b97\u6cd5\u63a8\u5bfc\u5f97\u51fa\u3002\u8bfb\u8005\u9700\u5145\u5206\u638c\u63e1\u7b2c\\(8\\)\u7ae0\u4e0e\u7b2c\\(9\\)\u7ae0\u5185\u5bb9\uff0c\u6b64\u4e3a\u5b66\u4e60\u672c\u7ae0\u7684\u91cd\u8981\u57fa\u7840\u3002</p>"},{"location":"Chapter-2/2-1/","title":"2.1-\u4e3a\u4ec0\u4e48\u56de\u62a5\u5f88\u91cd\u8981?","text":""},{"location":"Chapter-2/2-1/#21","title":"2.1 \u4e3a\u4ec0\u4e48\u56de\u62a5\u5f88\u91cd\u8981?","text":"<p>\u4e0a\u4e00\u7ae0\u4ecb\u7ecd\u4e86\u56de\u62a5\u7684\u6982\u5ff5\uff0c\u5b83\u5728\u5f3a\u5316\u5b66\u4e60\u4e2d\u626e\u6f14\u7740\u91cd\u8981\u7684\u89d2\u8272\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u8bc4\u4f30\u4e00\u4e2a\u7b56\u7565\u7684\u597d\u574f\uff0c\u6211\u4eec\u901a\u8fc7\u4e0b\u9762\u7684\u4f8b\u5b50\u6765\u8bf4\u660e\u8fd9\u4e00\u70b9\u3002\u56fe\\(2.2\\)\u7ed9\u51fa\u4e86\u4e09\u79cd\u7b56\u7565\uff1a\u8fd9\u4e09\u4e2a\u7b56\u7565\u5728\u72b6\u6001\\(s_1\\)\u662f\u4e0d\u540c\u7684\uff0c\u5728\u5176\u4ed6\u72b6\u6001\u662f\u76f8\u540c\u7684\u3002\u90a3\u4e48\u8fd9\u4e09\u4e2a\u7b56\u7565\u54ea\u4e00\u4e2a\u6700\u597d\uff0c\u54ea\u4e00\u4e2a\u6700\u5dee\u5462\uff1f</p> <p></p> <p>\u56fe\\(2.2\\): \u4e3e\u4f8b\u8bf4\u660e\u56de\u62a5\u7684\u91cd\u8981\u6027\u3002\u8fd9\u4e09\u4e2a\u4f8b\u5b50\u5bf9\\(s_1\\)\u91c7\u7528\u4e86\u4e0d\u540c\u7684\u653f\u7b56\u3002</p> <p>\u76f4\u89c2\u4e0a\u6765\u5224\u65ad\uff0c\u6700\u5de6\u8fb9\u7684\u7b56\u7565\u662f\u6700\u597d\u7684\uff0c\u56e0\u4e3a\u667a\u80fd\u4f53\u4ece\\(s_1\\)\u51fa\u53d1\u53ef\u4ee5\u907f\u5f00\u7981\u533a\u3002\u4e2d\u95f4\u7684\u7b56\u7565\u6700\u5dee\uff0c\u56e0\u4e3a\u4ece\\(s_1\\)\u51fa\u53d1\u7684\u667a\u80fd\u4f53\u8fdb\u5165\u4e86\u7981\u533a\u3002\u6700\u53f3\u8fb9\u7684\u7b56\u7565\u4ecb\u4e8e\u4e24\u79cd\u7b56\u7565\u4e4b\u95f4\uff0c\u56e0\u4e3a\u8fdb\u5165\u7981\u533a\u7684\u6982\u7387\u4e3a\\(0.5\\)\uff0c\u4e5f\u6709\\(0.5\\)\u7684\u6982\u7387\u907f\u5f00\u7981\u6b62\u533a\u57df\u3002</p> <p>\u4e0a\u8ff0\u5206\u6790\u7684\u76f4\u89c2\u5224\u65ad\u80fd\u5426\u7528\u6570\u5b66\u6765\u63cf\u8ff0\u5462\uff1f\u7b54\u6848\u662f\u80af\u5b9a\u7684\uff0c\u5177\u4f53\u6765\u8bf4\uff0c\u5047\u8bbe\u667a\u80fd\u4f53\u7684\u521d\u59cb\u72b6\u6001\u4e3a\\(s_1\\)\u3002</p> <ol> <li> <p>\u6309\u7167\u7b2c\u4e00\u79cd\u7b56\u7565\uff0c\u8f68\u8ff9\u4e3a\\(s_1\\rightarrow s_3\\rightarrow s_4\\rightarrow s_4\\cdots\\)\uff0c\u76f8\u5e94\u7684\u6298\u6263\u56de\u62a5\u4e3a:</p> \\[\\begin{aligned}\\mathrm{return}_{1}&amp;=0+\\gamma1+\\gamma^{2}1+\\ldots\\\\&amp;=\\gamma(1+\\gamma+\\gamma^2+\\ldots)\\\\&amp;=\\frac{\\gamma}{1-\\gamma},\\end{aligned}\\] <p>\u5176\u4e2d\\(\\gamma \\in (0,1)\\)\u662f\u6298\u6263\u56e0\u5b50\u3002</p> </li> <li> <p>\u6309\u7167\u7b2c\u4e8c\u79cd\u7b56\u7565\uff0c\u8f68\u8ff9\u4e3a\\(s_1\\rightarrow s_2\\rightarrow s_4\\rightarrow s_4\\cdots\\)\uff0c\u76f8\u5e94\u7684\u6298\u6263\u56de\u62a5\u662f\uff1a</p> \\[\\begin{aligned}\\mathrm{return}_{2}&amp;=-1+\\gamma1+\\gamma^{2}1+\\ldots\\\\&amp;=-1+\\gamma(1+\\gamma+\\gamma^2+\\ldots)\\\\&amp;=-1+\\frac{\\gamma}{1-\\gamma}.\\end{aligned}\\] </li> <li> <p>\u6309\u7167\u7b2c\u4e09\u79cd\u7b56\u7565\uff0c\u6709\u4e24\u79cd\u53ef\u80fd\u7684\u7b56\u7565\u3002\u7b2c\u4e00\u4e2a\u662f\\(s_1\\rightarrow s_3\\rightarrow s_4\\rightarrow s_4\\cdots\\)\uff0c\u53e6\u4e00\u4e2a\u662f\\(s_1\\rightarrow s_2\\rightarrow s_4\\rightarrow s_4\\cdots\\)\u3002\u8fd9\u4e24\u6761\u8f68\u8ff9\u7684\u53ef\u80fd\u6027\u5747\u4e3a\\(0.5\\)\u3002\u90a3\u4e48\u5e73\u5747\u56de\u62a5\u4e3a:</p> \\[\\begin{aligned}\\mathrm{return}_{3}&amp;=0.5\\left(-1+\\frac{\\gamma}{1-\\gamma}\\right)+0.5\\left(\\frac{\\gamma}{1-\\gamma}\\right)\\\\&amp;=-0.5+\\frac{\\gamma}{1-\\gamma}.\\end{aligned}\\] </li> </ol> <p>\u901a\u8fc7\u4e0a\u9762\u8ba1\u7b97\u51fa\u6765\u7684\u4e09\u4e2a\u7b56\u7565\u7684\u56de\u62a5\u53ef\u4ee5\u53d1\u73b0:</p> \\[\\mathrm{return}_1&gt;\\mathrm{return}_3&gt;\\mathrm{return}_2,\\tag{2.1}\\] <p>\u4e0d\u7b49\u5f0f\\((2.1)\\)\u8868\u660e\uff1a\u7b2c\u4e00\u4e2a\u7b56\u7565\u662f\u6700\u597d\u7684\uff0c\u56e0\u4e3a\u5b83\u7684\u56de\u62a5\u6700\u5927\uff1b\u7b2c\u4e8c\u4e2a\u7b56\u7565\u662f\u6700\u5dee\u7684\uff0c\u56e0\u4e3a\u5b83\u7684\u56de\u62a5\u662f\u6700\u5c0f\u7684\u3002\u8fd9\u4e00\u6570\u5b66\u7ed3\u8bba\u4e0e\u4e0a\u8ff0\u76f4\u89c9\u662f\u4e00\u81f4\u7684\uff1a\u7b2c\u4e00\u79cd\u7b56\u7565\u662f\u6700\u597d\u7684\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u907f\u514d\u8fdb\u5165\u7981\u533a\u3002\u800c\u7b2c\u4e8c\u79cd\u7b56\u7565\u662f\u6700\u5dee\u7684\uff0c\u56e0\u4e3a\u5b83\u4f1a\u5bfc\u81f4\u667a\u80fd\u4f53\u8fdb\u5165\u7981\u533a\u3002</p> <p>\u4e0a\u8ff0\u4f8b\u5b50\u8bc1\u660e\u4e86\u56de\u62a5\u53ef\u4ee5\u88ab\u7528\u6765\u8bc4\u4f30\u7b56\u7565\u7684\u597d\u574f\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\\(\\mathrm{return}_3\\)\u5e76\u4e0d\u4e25\u683c\u9075\u5faa\u56de\u62a5\u7684\u5b9a\u4e49\uff0c\u56de\u62a5\u7684\u5b9a\u4e49\u53ea\u662f\u9488\u5bf9\u4e8e\u4e00\u6761\u8f68\u8ff9\uff0c\u800c\\(\\mathrm{return}_3\\)\u662f\u4e24\u6761\u8f68\u8ff9\u7684\u5e73\u5747\u503c\u3002\u7a0d\u540e\u6211\u4eec\u5c31\u4f1a\u77e5\u9053\\(\\mathrm{return}_3\\)\u5b9e\u9645\u4e0a\u662f\u672c\u7ae0\u8981\u4ecb\u7ecd\u7684\u72b6\u6001\u503c\u3002</p>"},{"location":"Chapter-2/2-2/","title":"2.2-\u5982\u4f55\u8ba1\u7b97\u56de\u62a5?","text":""},{"location":"Chapter-2/2-2/#22","title":"2.2 \u5982\u4f55\u8ba1\u7b97\u56de\u62a5","text":"<p>\u4e0a\u4e00\u8282\u6211\u4eec\u5df2\u7ecf\u8bc1\u660e\u4e86\u56de\u62a5\u7684\u91cd\u8981\u6027\uff0c\u90a3\u4e48\u5982\u4f55\u8ba1\u7b97\u56de\u62a5\u5462\uff1f\u5b9e\u9645\u4e0a\u6211\u4eec\u6709\u4e24\u79cd\u8ba1\u7b97\u56de\u62a5\u7684\u65b9\u6cd5\u3002</p> <p></p> <p>\u56fe\\(2.3\\): \u7528\u4e8e\u8bf4\u660e\u5982\u4f55\u8ba1\u7b97\u56de\u62a5\u7684\u793a\u4f8b\u3002\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u6ca1\u6709\u76ee\u6807\u5355\u5143\u683c\u6216\u7981\u6b62\u5355\u5143\u683c\u3002</p> <ul> <li> <p>\u7b2c\u4e00\u4e2a\u8ba1\u7b97\u56de\u62a5\u7684\u65b9\u6cd5\u5c31\u662f\u6839\u636e\u5b9a\u4e49\uff0c\u56de\u62a5\u7b49\u4e8e\u6cbf\u8f68\u8ff9\u6536\u96c6\u7684\u6240\u6709\u5956\u52b1\u7684\u6298\u6263\u603b\u548c\u3002\u8bf7\u770b\u56fe\\(2.3\\)\u4e2d\u7684\u4f8b\u5b50\u3002\u4ee4\\(v_i\\)\u8868\u793a\u4ece\\(s_i\\)(\\(i = 1, 2, 3, 4\\))\u5f00\u59cb\u83b7\u5f97\u7684\u56de\u62a5\u3002\u90a3\u4e48\uff0c\u4ece\u56fe\\(2.3\\)\u4e2d\u7684\u56db\u79cd\u72b6\u6001\u51fa\u53d1\u6240\u5f97\u5230\u7684\u56de\u62a5\u4e3a:</p> \\[\\begin{gathered}v_{1}=r_1+\\gamma r_2+\\gamma^2r_3+\\ldots,\\\\v_{2}=r_2+\\gamma r_3+\\gamma^2r_4+\\ldots,\\\\v_{3}=r_3+\\gamma r_4+\\gamma^2r_1+\\ldots,\\\\\\mathrm{v}_4=r_{4}+\\gamma r_{1}+\\gamma^{2}r_{2}+\\ldots.\\end{gathered}\\tag{2.2}\\] </li> <li> <p>\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u662f\u672c\u8282\u91cd\u70b9\u5173\u6ce8\u7684\u81ea\u4e3e\u6cd5(bootstrapping)\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u901a\u8fc7\u89c2\u5bdf\u5f0f\\((2.2)\\)\u4e2d\u56de\u62a5\u7684\u8868\u8fbe\u5f0f\uff0c\u53ef\u4ee5\u5c06\u5176\u91cd\u5199\u4e3a:</p> \\[\\begin{gathered}v_{1}=r_1+\\gamma(r_2+\\gamma r_3+\\ldots)=r_1+\\gamma v_2,\\\\v_{2}=r_2+\\gamma(r_3+\\gamma r_4+\\ldots)=r_2+\\gamma v_3,\\\\v_{3}=r_3+\\gamma(r_4+\\gamma r_1+\\ldots)=r_3+\\gamma v_4,\\\\v_{4}=r_4+\\gamma(r_1+\\gamma r_2+\\ldots)=r_4+\\gamma v_1.\\end{gathered}\\tag{2.3}\\] <p>\u65b9\u7a0b\\((2.3)\\)\u8868\u660e\u4e86\u4e00\u4e2a\u6709\u8da3\u7684\u73b0\u8c61\uff0c\u4ece\u4e0d\u540c\u72b6\u6001\u51fa\u53d1\u7684\u56de\u62a5\u503c\u662f\u76f8\u4e92\u4f9d\u8d56\u3002\u5177\u4f53\u6765\u8bf4\uff0c\\(v_1\\)\u4f9d\u8d56\u4e8e\\(v_2\\)\uff0c\\(v_2\\)\u4f9d\u8d56\u4e8e\\(v_3\\)\uff0c\\(v_3\\)\u4f9d\u8d56\u4e8e\\(v_4\\)\uff0c\\(v_4\\)\u53c8\u4f9d\u8d56\u4e8e\\(v_1\\)\u3002\u8fd9\u53cd\u6620\u4e86\u81ea\u4e3e\u7684\u601d\u60f3\uff1a\\(v_1,v_2,v_3,v_4\\)\u53ef\u4ee5\u4ece\u5176\u81ea\u8eab\\(v_2,v_3,v_4,v_1\\)\u5f97\u5230\u3002</p> <p>\u4e4d\u4e00\u770b\uff0c\u81ea\u4e3e\u4f3c\u4e4e\u662f\u4e00\u4e2a\u65e0\u89e3\u7684\u5faa\u73af\uff0c\u8fd9\u662f\u56e0\u4e3a\u4e00\u4e2a\u672a\u77e5\u91cf\u7684\u8ba1\u7b97\u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a\u672a\u77e5\u91cf\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5982\u679c\u6211\u4eec\u4ece\u6570\u5b66\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u81ea\u4e3e\u6cd5\u66f4\u5bb9\u6613\u7406\u89e3\u3002\u5177\u4f53\u6765\u8bf4\uff0c\\((2.3)\\)\u7684\u65b9\u7a0b\u53ef\u4ee5\u8f6c\u6362\u6210\u4e00\u4e2a\u77e9\u9635-\u5411\u91cf\u5f62\u5f0f\u7684\u65b9\u7a0b\uff1a</p> \\[\\underbrace{\\begin{bmatrix}v_1\\\\v_2\\\\v_3\\\\v_4\\end{bmatrix}}_{v}=\\begin{bmatrix}r_1\\\\r_2\\\\r_3\\\\r_4\\end{bmatrix}+\\begin{bmatrix}\\gamma v_2\\\\\\gamma v_3\\\\\\gamma v_4\\\\\\gamma v_1\\end{bmatrix}=\\underbrace{\\begin{bmatrix}r_1\\\\r_2\\\\r_3\\\\r_4\\end{bmatrix}}_{r}+\\underbrace{\\gamma\\begin{bmatrix}0&amp;1&amp;0&amp;0\\\\0&amp;0&amp;1&amp;0\\\\0&amp;0&amp;0&amp;1\\\\1&amp;0&amp;0&amp;0\\end{bmatrix}}_{P}\\underbrace{\\begin{bmatrix}v_1\\\\v_2\\\\v_3\\\\v_4\\end{bmatrix}}_{v},\\] <p>\u4e0a\u5f0f\u53ef\u4ee5\u66f4\u7b80\u6d01\u5730\u5199\u4e3a:</p> \\[v=r+\\gamma Pv.\\] <p>\u4e0a\u9762\u65b9\u7a0b\u7684\u89e3\u5f88\u5bb9\u6613\u6c42\u89e3\uff0c\u5373\\(v=(I-\\gamma P)^{-1} r\\)\uff0c\u5176\u4e2d\\(I\\in\\mathbb{R}^{4\\times 4}\\)\u662f\u5355\u4f4d\u77e9\u9635\u3002\u6709\u7684\u8bfb\u8005\u4f1a\u95ee\\((I - \\gamma P)\\)\u4e00\u5b9a\u662f\u53ef\u9006\u7684\u5417\uff1f\u7b54\u6848\u662f\u80af\u5b9a\u7684\uff0c\u5177\u4f53\u8bc1\u660e\u53ef\u53c2\u89c1\\(2.7.1\\)\u8282\u3002</p> </li> </ul> <p>\u4e8b\u5b9e\u4e0a\uff0c\\((2.3)\\)\u5c31\u662f\u8fd9\u4e2a\u7b80\u5355\u4f8b\u5b50\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\uff0c\u800c\u65b9\u7a0b\\((2.4)\\)\u662f\u8fd9\u4e2a\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u77e9\u9635-\u5411\u91cf\u5f62\u5f0f\u3002\u867d\u7136\u5f88\u7b80\u5355\uff0c\u4f46\u65b9\u7a0b\\((2.3)\\)\u5374\u5c55\u793a\u4e86\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u6838\u5fc3\u601d\u60f3\uff1a\u4ece\u4e00\u4e2a\u72b6\u6001\u51fa\u53d1\u6240\u83b7\u5f97\u7684\u56de\u62a5\u4f9d\u8d56\u4e8e\u4ece\u5176\u4ed6\u72b6\u6001\u5f00\u59cb\u6240\u83b7\u5f97\u7684\u56de\u62a5\u3002\u81ea\u4e3e\u7684\u601d\u60f3\u5bf9\u7406\u89e3\u540e\u9762\u4ecb\u7ecd\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u81f3\u5173\u91cd\u8981\u3002</p>"},{"location":"Chapter-2/2-3/","title":"2.3-\u72b6\u6001\u503c","text":""},{"location":"Chapter-2/2-3/#23","title":"2.3 \u72b6\u6001\u503c","text":"<p>\u524d\u9762\u63d0\u5230\u4e86\u56de\u62a5\u53ef\u4ee5\u7528\u6765\u8bc4\u4ef7\u653f\u7b56\u3002\u7136\u800c\uff0c\u56de\u62a5\u4e0d\u9002\u7528\u4e8e\u968f\u673a\u7cfb\u7edf\uff0c\u56e0\u4e3a\u4ece\u4e00\u79cd\u72b6\u6001\u51fa\u53d1\u53ef\u80fd\u4f1a\u5f97\u5230\u4e0d\u540c\u7684\u8f68\u8ff9\u548c\u56de\u62a5\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u5728\u672c\u8282\u5f15\u5165\u4e86\u72b6\u6001\u503c\u7684\u6982\u5ff5\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u5f15\u5165\u4e00\u4e9b\u7684\u7b26\u53f7\u3002\u5728\u65f6\u523b\\(t = 0, 1, 2,\\cdots\\)\uff0c\u667a\u80fd\u4f53\u5904\u4e8e\u72b6\u6001\\(S_t\\)\uff0c\u6839\u636e\u7b56\u7565\\(\\pi\\)\u91c7\u53d6\u7684\u884c\u52a8\\(A_t\\)\u3002\u8f6c\u79fb\u5230\u4e0b\u4e00\u4e2a\u72b6\u6001\u662f\\(S_{t+1}\\)\uff0c\u83b7\u5f97\u7684\u5373\u65f6\u5956\u52b1\u662f\\(R_{t+1}\\)\u3002\u8fd9\u4e00\u8fc7\u7a0b\u53ef\u4ee5\u7b80\u6d01\u5730\u8868\u793a\u4e3a: </p> \\[S_t\\xrightarrow{A_t}S_{t+1},R_{t+1}.\\] <p>\u8fd9\u91cc\\(S_{t},S_{t+1},A_{t},R_{t+1}\\)\u90fd\u662f\u968f\u673a\u53d8\u91cf\u3002\u800c\u4e14\\(S_t,S_{t+1}\\in \\mathcal{S}\uff0cA_t\\in \\mathcal{A}(S_t)\uff0cR_{t+1}\\in \\mathcal{R}(S_t,A_t).\\)</p> <p>\u4ece\u65f6\u523b\\(t\\)\u5f00\u59cb\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e00\u6761\u5305\u542b\u4e00\u7cfb\u5217\u201c\u72b6\u6001-\u884c\u52a8-\u5956\u52b1\u201d\u7684\u8f68\u8ff9:</p> \\[S_t\\xrightarrow{A_t}S_{t+1},R_{t+1}\\xrightarrow{A_{t+1}}S_{t+2},R_{t+2}\\xrightarrow{A_{t+2}}S_{t+3},R_{t+3}\\ldots.\\] <p>\u6839\u636e\u5b9a\u4e49\uff0c\u6cbf\u8fd9\u4e2a\u8f68\u8ff9\u7684\u6298\u6263\u56de\u62a5\u662f\uff1a</p> \\[G_t= R_{t+1}+\\gamma R_{t+2}+\\gamma^2R_{t+3}+\\ldots,\\] <p>\u5176\u4e2d\\(\\gamma \\in (0,1)\\)\u662f\u6298\u6263\u56e0\u5b50\u3002\u56e0\u4e3a\\(R_{t+1},R_{t+2},\\cdots\\)\u90fd\u662f\u968f\u673a\u53d8\u91cf,\u6240\u4ee5\u7531\u5b83\u4eec\u7ec4\u5408\u5f97\u5230\u7684\\(G_t\\)\u4e5f\u662f\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u3002</p> <p>\u7531\u4e8e\\(G_t\\)\u662f\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u51fa\u5b83\u7684\u671f\u671b\u503c\uff1a</p> \\[v_\\pi(s)=\\mathbb{E}[G_t|S_t=s].\\] <p>\u8fd9\u91cc\u7684\\(v_\\pi (s)\\)\u88ab\u79f0\u4e3a\u72b6\u6001\u503c\u51fd\u6570 (state-value function)\uff0c\u6216\u7b80\u79f0\u4e3a\\(s\\)\u7684\u72b6\u6001\u503c (state value)\u3002\u4e0b\u9762\u662f\u5bf9\u72b6\u6001\u503c\u7684\u4e00\u4e9b\u8bf4\u660e\u3002</p> <ul> <li> <p>\u7b2c\u4e00\uff0c\\(v_\\pi(s)\\)\u4f9d\u8d56\u4e8e\\(s\\)\uff0c\u5373\u4e0d\u540c\u7684\u72b6\u6001\u7684\u72b6\u6001\u503c\u4e00\u822c\u662f\u4e0d\u540c\u7684\u3002\u8fd9\u662f\u56e0\u4e3a\u5b83\u5728\\((2.5)\\)\u4e2d\u7684\u5b9a\u4e49\u662f\u4e00\u79cd\u6761\u4ef6\u671f\u671b\uff0c\u800c\u5176\u4e2d\u7684\u6761\u4ef6\u662f\\(S_t=s\\)\u3002</p> </li> <li> <p>\u7b2c\u4e8c\uff0c\\(v_\\pi(s)\\)\u4f9d\u8d56\u4e8e\\(\\pi\\)\uff0c\u5373\u4e0d\u540c\u7b56\u7565\u7684\u5bf9\u5e94\u7684\u72b6\u6001\u503c\u4e00\u822c\u662f\u4e0d\u540c\u7684\uff0c\u8fd9\u662f\u56e0\u4e3a\u8f68\u8ff9\u662f\u6839\u636e\u7b56\u7565\\(\\pi\\)\u4ea7\u751f\u7684\uff0c\u4e0d\u540c\u7684\u7b56\u7565\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e0d\u540c\u7684\u8f68\u8ff9\u3002</p> </li> <li> <p>\u7b2c\u4e09\uff0c\\(v_\\pi(s)\\)\u5e76\u4e0d\u4f9d\u8d56\u4e8e\\(t\\)\uff0c\u867d\u7136\\(v_\\pi(s)\\)\u7684\u5b9a\u4e49\u6d89\u53ca\u65f6\u523b\\(t\\)\uff0c\u4f46\u662f\u4e0d\u8bba\\(t\\)\u9009\u53d6\u4ec0\u4e48\u503c\u5f97\u5230\u7684\u7ed3\u679c\u90fd\u5e94\u8be5\u662f\u76f8\u540c\u7684\uff0c\u56e0\u6b64\u7cfb\u7edf\u662f\u5e73\u7a33\u7684\uff0c\u4e0d\u4f1a\u968f\u7740\u65f6\u95f4\u800c\u53d8\u5316\u3002</p> </li> </ul> <p>Note</p> <p>\u72b6\u6001\u503c\u4e0e\u56de\u62a5\u4e4b\u95f4\u7684\u5173\u7cfb\u8fdb\u4e00\u6b65\u660e\u786e\u5982\u4e0b\u3002\u5f53\u7b56\u7565\u548c\u7cfb\u7edf\u6a21\u578b\u90fd\u662f\u786e\u5b9a\u6027\u7684\u65f6\u5019\uff0c\u4ece\u4e00\u4e2a\u72b6\u6001\u5f00\u59cb\u603b\u662f\u4f1a\u5bfc\u81f4\u76f8\u540c\u7684\u8f68\u8ff9\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4ece\u4e00\u4e2a\u72b6\u6001\u51fa\u53d1\u83b7\u5f97\u7684\u56de\u62a5\u7b49\u4e8e\u8be5\u72b6\u6001\u7684\u503c\u3002\u76f8\u53cd\uff0c\u5f53\u7b56\u7565\u6216\u7cfb\u7edf\u6a21\u578b\u662f\u968f\u673a\u7684\u65f6\uff0c\u4ece\u540c\u4e00\u72b6\u6001\u51fa\u53d1\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e0d\u540c\u7684\u8f68\u8ff9\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e0d\u540c\u8f68\u8ff9\u7684\u56de\u62a5\u662f\u4e0d\u540c\u7684\uff0c\u800c\u72b6\u6001\u503c\u5c31\u662f\u8fd9\u4e9b\u56de\u62a5\u7684\u5e73\u5747\u503c\u3002(\u56de\u62a5\u662f\u56fa\u5b9a\u7684\uff0c\u72b6\u6001\u503c\u662f\u968f\u673a\u7684)</p> <p>\u5c3d\u7ba1\u5982\u7b2c\\(2.1\\)\u8282\u6240\u793a\uff0c\u56de\u62a5\u53ef\u4ee5\u7528\u6765\u8bc4\u4f30\u7b56\u7565\uff0c\u4f46\u4f7f\u7528\u72b6\u6001\u503c\u6765\u8bc4\u4f30\u7b56\u7565\u66f4\u4e3a\u5408\u9002\u3002\u56e0\u6b64\uff0c\u72b6\u6001\u503c\u662f\u5f3a\u5316\u5b66\u4e60\u7684\u4e00\u4e2a\u6838\u5fc3\u6982\u5ff5\u3002\u72b6\u6001\u503c\u56fa\u7136\u91cd\u8981\uff0c\u4f46\u968f\u4e4b\u800c\u6765\u7684\u95ee\u9898\u662f\u5982\u4f55\u8ba1\u7b97\u72b6\u6001\u503c\u3002\u8fd9\u4e2a\u95ee\u9898\u5c06\u5728\u4e0b\u4e00\u8282\u56de\u7b54\u3002</p>"},{"location":"Chapter-2/2-4/","title":"2.4-\u8d1d\u5c14\u66fc\u65b9\u7a0b","text":""},{"location":"Chapter-2/2-4/#24","title":"2.4 \u8d1d\u5c14\u66fc\u65b9\u7a0b","text":"<p>\u672c\u8282\u5c06\u6765\u4ecb\u7ecd\u5927\u540d\u9f0e\u9f0e\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b (Bellman equation)\u3002\u5176\u662f\u7528\u4e8e\u5206\u6790\u72b6\u6001\u503c\u7684\u6838\u5fc3\u5de5\u5177\u3002\u4e00\u53e5\u8bdd\u6982\u8ff0\uff1a\u8d1d\u5c14\u66fc\u65b9\u7a0b\u63cf\u8ff0\u4e86\u6240\u6709\u72b6\u6001\u503c\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u5c06\u8981\u8be6\u7ec6\u63a8\u5bfc\u8d1d\u5c14\u66fc\u65b9\u7a0b\u3002\u9996\u5148\uff0c\\(G_t\\)\u53ef\u4ee5\u91cd\u65b0\u5199\u6210:</p> \\[\\begin{aligned}G_{t}&amp;=R_{t+1}+\\gamma R_{t+2}+\\gamma^{2}R_{t+3}+\\ldots\\\\&amp;=R_{t+1}+\\gamma(R_{t+2}+\\gamma R_{t+3}+\\ldots)\\\\&amp;=R_{t+1}+\\gamma G_{t+1},\\end{aligned}\\] <p>\u5176\u4e2d\\(G_{t+1}=R_{t+2}+\\gamma R_{t+3}+\\cdots\\)\u3002\u8be5\u65b9\u7a0b\u5efa\u7acb\u4e86\\(G_t\\)\u548c \\(G_{t+1}\\)\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u56e0\u6b64\u72b6\u6001\u503c\u53ef\u4ee5\u5199\u6210:</p> \\[\\begin{aligned}v_{\\pi}(s)&amp;=\\mathbb{E}[G_{t}|S_{t}=s]\\\\&amp;=\\mathbb{E}[R_{t+1}+\\gamma G_{t+1}|S_{t}=s]\\\\&amp;=\\mathbb{E}[R_{t+1}|S_{t}=s]+\\gamma\\mathbb{E}[G_{t+1}|S_{t}=s].\\end{aligned}.\\tag{2.4}\\] <p>\u4e0b\u9762\u5bf9\\((2.4)\\)\u4e2d\u7684\u4e24\u9879\u8fdb\u884c\u5206\u6790\u3002</p> <ol> <li> <p>\u7b2c\u4e00\u9879\\(\\mathbb{E}[R_{t+1}|S_t=s]\\)\u662f\u5373\u65f6\u5956\u52b1\u7684\u671f\u671b\u503c\uff0c\u901a\u8fc7\u4f7f\u7528\u9644\u5f55\\(A\\)\u4e2d\u7684\u5168\u671f\u671b\u7684\u6027\u8d28\uff0c\u8fd9\u4e00\u9879\u53ef\u4ee5\u5316\u4e3a:</p> \\[\\begin{aligned}\\mathbb{E}[R_{t+1}|S_{t}=s]&amp;=\\sum_{a\\in\\mathcal{A}}\\pi(a|s)\\mathbb{E}[R_{t+1}|S_{t}=s,A_{t}=a]\\\\&amp;=\\sum_{a\\in\\mathcal{A}}\\pi(a|s)\\sum_{r\\in\\mathcal{R}}p(r|s,a)r.\\end{aligned}.\\tag{2.5}\\] <p>\u8fd9\u91cc\uff0c\\(\\mathcal{A}\\)\u548c\\(\\mathcal{R}\\)\u5206\u522b\u662f\u53ef\u80fd\u7684\u884c\u52a8\u548c\u5956\u52b1\u7684\u96c6\u5408\u3002\u5bf9\u4e8e\u4e0d\u540c\u7684\u72b6\u6001\uff0c\\(\\mathcal{A}\\)\u53ef\u80fd\u662f\u4e0d\u540c\u7684\uff0c\u6b64\u65f6\\(\\mathcal{A}\\)\u53ef\u4ee5\u8868\u793a\u4e3a\\(\\mathcal{A}(s)\\)\u3002\u7c7b\u4f3c\u5730\uff0c\\(\\mathcal{R}\\)\u4e5f\u53ef\u80fd\u4f9d\u8d56\u4e8e\\((s, a)\\)\u3002</p> </li> <li> <p>\u7b2c\u4e8c\u9879\\(\\mathbb{E}[G_{t+1}|S_t=s]\\)\u662f\u672a\u6765\u5956\u52b1\u7684\u671f\u671b\u503c\uff0c\u5b83\u53ef\u4ee5\u8ba1\u7b97\u4e3a:</p> \\[\\begin{aligned}\\mathbb{E}[G_{t+1}|S_{t}=s]&amp;=\\sum_{s^{\\prime}\\in\\mathcal{S}}\\mathbb{E}[G_{t+1}|S_{t}=s,S_{t+1}=s^{\\prime}]p(s^{\\prime}|s)\\\\&amp;=\\sum_{s^{\\prime}\\in\\mathcal{S}}\\mathbb{E}[G_{t+1}|S_{t+1}=s^{\\prime}]p(s^{\\prime}|s)\\quad(\\text{due to the Markov property})\\\\&amp;=\\sum_{s^{\\prime}\\in\\mathcal{S}}v_{\\pi}(s^{\\prime})p(s^{\\prime}|s)\\\\&amp;=\\sum_{s^{\\prime}\\in\\mathcal{S}}v_{\\pi}(s^{\\prime})\\sum_{a\\in\\mathcal{A}}p(s^{\\prime}|s,a)\\pi(a|s).&amp;(2.6)\\end{aligned}\\] <p>Note</p> <p>\u9996\u5148\u5c06\u6761\u4ef6\u671f\u671b\u5206\u89e3\u4e3a\\(\\mathbb{E}[G_{t+1}|S_{t}=s,S_{t+1}=s^{\\prime}]p(s^{\\prime}|s)\\)</p> <p>\u6211\u4eec\u77e5\u9053,MDP\u5177\u6709\u9a6c\u5c14\u53ef\u592b\u6027,\u672a\u6765\u7684\u5956\u52b1\u5b8c\u5168\u53d6\u51b3\u4e8e\u73b0\u5728\u7684\u60c5\u51b5\uff0c\u800c\u4e0d\u662f\u5386\u53f2\u7684\u60c5\u51b5\u3002</p> <p>\\(\\mathbb{E}[G_{t+1}|S_{t}=s,S_{t+1}=s^{\\prime}]=\\mathbb{E}[G_{t+1}|S_{t+1}=s^{\\prime}],\\)</p> <p>\u66ff\u6362\u4ef7\u503c\u51fd\u6570,\\(\\mathbb{E}[G_{t+1}|S_{t+1}=s^{\\prime}]\\)\u6b63\u662f\u72b6\u6001\\(s^\\prime\\)\u7684\u4ef7\u503c\u51fd\u6570\\(v_\\pi(s^\\prime)\\)</p> <p>\u72b6\u6001\u8f6c\u79fb\u6982\u7387\\(p(s^{\\prime}|s)\\)\u53ef\u8fdb\u4e00\u6b65\u5206\u89e3\u4e3a\uff1a\u5728\u7b56\u7565\\(\\pi\\)\u4e0b\u9009\u62e9\u884c\u52a8\\(a\\)\u7684\u6982\u7387\\(\\pi(s|a)\\)\uff0c\u4ee5\u53ca\u6267\u884c\u884c\u52a8\\(a\\)\u540e\u8f6c\u79fb\u5230\\(s^\\prime\\)\u7684\u6982\u7387\\(p(s^\\prime|s,a)\\)\u3002</p> </li> </ol> <p>\u5c06\\((2.5)-(2.6)\\)\u4ee3\u5165\\((2.4)\\)\u53ef\u5f97</p> \\[\\begin{aligned}v_{\\pi}(s)&amp;=\\mathbb{E}[R_{t+1}|S_{t}=s]+\\gamma\\mathbb{E}[G_{t+1}|S_{t}=s],\\\\&amp;=\\underbrace{\\sum_{a\\in\\mathcal{A}}\\pi(a|s)\\sum_{r\\in\\mathcal{R}}p(r|s,a)r}_{\\text{mean of immediate rewards}}+\\underbrace{\\gamma\\sum_{a\\in\\mathcal{A}}\\pi(a|s)\\sum_{s^{\\prime}\\in\\mathcal{S}}p(s^{\\prime}|s,a)v_{\\pi}(s^{\\prime})}_{\\text{mean of future rewards}}\\\\&amp;=\\sum_{a\\in\\mathcal{A}}\\pi(a|s)\\left[\\sum_{r\\in\\mathcal{R}}p(r|s,a)r+\\gamma\\sum_{s^{\\prime}\\in\\mathcal{S}}p(s^{\\prime}|s,a)v_{\\pi}(s^{\\prime})\\right],\\quad\\text{for all }s\\in\\mathcal{S}.\\end{aligned}\\tag{2.7}\\] <p>\u8fd9\u4e2a\u65b9\u7a0b\u5c31\u662f\u5927\u540d\u9f0e\u9f0e\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\uff0c\u5b83\u63cf\u8ff0\u4e86\u4e0d\u540c\u72b6\u6001\u503c\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u662f\u8bbe\u8ba1\u548c\u5206\u6790\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u7684\u57fa\u672c\u5de5\u5177\u3002</p> <p>\u8d1d\u5c14\u66fc\u65b9\u7a0b\u4e4d\u770b\u4e4b\u4e0b\u4f3c\u4e4e\u5f88\u590d\u6742\uff0c\u5b9e\u9645\u4e0a\uff0c\u5b83\u7684\u7ed3\u6784\u975e\u5e38\u6e05\u6670\u3002\u4e0b\u9762\u662f\u5bf9\u8be5\u65b9\u7a0b\u7684\u89e3\u91ca\u8bf4\u660e\u3002</p> <ul> <li> <p>\\(v_\\pi(s)\\)\u548c\\(v_\\pi(s')\\)\u662f\u9700\u8981\u8ba1\u7b97\u7684\u672a\u77e5\u72b6\u6001\u503c\u3002\u521d\u5b66\u8005\u53ef\u80fd\u96be\u4ee5\u7406\u89e3\u5982\u4f55\u6c42\u89e3\u672a\u77e5\u7684\\(v_\\pi(s)\\)\uff0c\u56e0\u4e3a\u4ece\u5f0f\\((2.7)\\)\u6765\u770b\uff0c\u72b6\u6001\u503c\u5b58\u5728\u4e8e\u7b49\u5f0f\u7684\u4e24\u8fb9\u3002\u5fc5\u987b\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6bcf\u4e00\u4e2a\u72b6\u6001\u90fd\u6709\u8fd9\u6837\u4e00\u4e2a\u8d1d\u5c14\u66fc\u65b9\u7a0b\uff0c\u5982\u679c\u6211\u4eec\u628a\u8fd9\u4e9b\u65b9\u7a0b\u653e\u5728\u4e00\u8d77\uff0c\u5982\u4f55\u8ba1\u7b97\u6240\u6709\u72b6\u6001\u503c\u5c31\u53d8\u5f97\u5f88\u6e05\u6670\u4e86\u3002\u8be6\u60c5\u5c06\u5728\u7b2c\\(2.7\\)\u8282\u4e2d\u4ecb\u7ecd\u3002</p> </li> <li> <p>\\(\\pi(a|s)\\)\u662f\u7ed9\u5b9a\u7684\u653f\u7b56\uff0c\u662f\u5df2\u77e5\u91cf\u3002\u8d1d\u5c14\u66fc\u65b9\u7a0b\u4e00\u5b9a\u662f\u5bf9\u5e94\u4e00\u4e2a\u7279\u5b9a\u7684\u7b56\u7565\u3002\u6c42\u89e3\u8d1d\u5c14\u66fc\u65b9\u7a0b\u4ece\u800c\u5f97\u5230\u72b6\u6001\u503c\u662f\u4e00\u4e2a\u7b56\u7565\u8bc4\u4ef7 (policy evaluation)\u7684\u8fc7\u7a0b\uff0c\u8fd9\u662f\u8bb8\u591a\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u4e2d\u7684\u6838\u5fc3\u6b65\u9aa4\u3002</p> </li> <li> <p>\\(p(r|s,a)\\)\u548c\\(p(s'|s,a)\\)\u4ee3\u8868\u7cfb\u7edf\u6a21\u578b\u3002\u8fd9\u662f\u5df2\u77e5\u91cf\u8fd8\u662f\u672a\u77e5\u91cf\u5462\uff1f\u5728\\(2.7\\)\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u9996\u5148\u5c55\u793a\u5982\u4f55\u5229\u7528\u5df2\u77e5\u6a21\u578b\u8ba1\u7b97\u72b6\u6001\u503c\uff0c\u5728\u540e\u9762\u7684\u7ae0\u8282\u4e2d\uff0c\u5c06\u4f1a\u6162\u6162\u63a8\u5e7f\u5230\u65e0\u6a21\u578b\u7b97\u6cd5(free model)\uff0c\u5728\u4e0d\u4f7f\u7528\u6a21\u578b\u7684\u60c5\u51b5\u4e0b\u505a\u5230\u8fd9\u4e00\u70b9\u3002</p> </li> </ul> <p>\u9664\u4e86\\((2.7)\\)\u4e2d\u7684\u8868\u8fbe\u5f0f\u5916\uff0c\u8bfb\u8005\u8fd8\u53ef\u80fd\u5728\u6587\u732e\u4e2d\u9047\u5230\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u5176\u4ed6\u8868\u8fbe\u5f0f\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u4ecb\u7ecd\u4e09\u79cd\u5e38\u89c1\u7684\u7b49\u4ef7\u5f62\u5f0f\u3002</p> <ul> <li> <p>\u7b2c\u4e00\u79cd\u7b49\u4ef7\u5f62\u5f0f\u662f:</p> \\[v_\\pi(s)=\\sum_{a\\in\\mathcal{A}}\\pi(a|s)\\sum_{s^{\\prime}\\in\\mathcal{S}}\\sum_{r\\in\\mathcal{R}}p(s^{\\prime},r|s,a)\\left[r+\\gamma v_\\pi(s^{\\prime})\\right].\\] <p>\u8fd9\u662f[3]\u4e2d\u4f7f\u7528\u7684\u8868\u8fbe\u5f0f\u3002\u8fd9\u4e2a\u5f0f\u5b50\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u5168\u6982\u7387\u516c\u5f0f(\u8be6\u89c1\u9644\u5f55A)\u4ee3\u5165\u5f0f\\((2.9)\\)\u5f97\u5230\uff0c</p> \\[p(s^{\\prime}|s,a)=\\sum_{r\\in\\mathcal{R}}p(s^{\\prime},r|s,a),\\\\ p(r|s,a)=\\sum_{s^{\\prime}\\in\\mathcal{S}}p(s^{\\prime},r|s,a).\\] </li> <li> <p>\u7b2c\u4e8c\u79cd\u5e38\u89c1\u7684\u7b49\u4ef7\u5f62\u5f0f\u662f\u8d1d\u5c14\u66fc\u671f\u671b\u65b9\u7a0b (Bellman expectation equation)\uff1a</p> \\[v_\\pi(s)=\\mathbb{E}[R_{t+1}+\\gamma v_\\pi (S_{t+1})\\mid S_t=s ],s\\in\\mathcal{S}.\\] <p>\u8fd9\u662f\u56e0\u4e3a\\(\\mathbb{E}[G_{t+1}\\mid S_t=s]=\\sum_a \\pi(a\\mid s) \\sum_{a^\\prime}p(s^\\prime \\mid s,a)v_\\pi(s^\\prime)=\\mathbb{E}[{v_\\pi(S_{t+1})\\mid S_t=s}]\\)\uff0c\u5c06\u5176\u4ee3\u5165\\((2.4)\\)\u4e2d\u5373\u53ef\u5f97\u5230\u8d1d\u5c14\u66fc\u671f\u671b\u65b9\u7a0b\u3002</p> </li> <li> <p>\u7b2c\u4e09\u79cd\uff0c\u5728\u67d0\u4e9b\u95ee\u9898\u4e2d\uff0c\u5956\u52b1\\(r\\)\u53ef\u80fd\u4ec5\u4f9d\u8d56\u4e8e\u4e0b\u4e00\u4e2a\u72b6\u6001\\(s'\\)\uff0c\u5373\u5956\u52b1\u53ef\u4ee5\u5199\u6210\\(r(s^\\prime)\\)\u3002\u6b64\u65f6\u6211\u4eec\u6709\\(p(r(s')|s, a))=(s'|s, a)\\)\uff0c\u5c06\u5176\u4ee3\u5165\\((2.7)\\)\u53ef\u4ee5\u5f97\u5230\u53e6\u5916\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff1a</p> \\[v_{\\pi}(s)=\\sum_{a\\in\\mathcal{A}}\\pi(a|s)\\sum_{s^{\\prime}\\in\\mathcal{S}}p(s^{\\prime}|s,a)[r(s^{\\prime})+\\gamma v_{\\pi}(s^{\\prime})].\\] </li> </ul>"},{"location":"Chapter-2/2-5/","title":"2.5-\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u4f8b\u5b50","text":""},{"location":"Chapter-2/2-5/#25","title":"2.5 \u8bf4\u660e\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u4f8b\u5b50","text":""},{"location":"Chapter-2/2-5/#251","title":"2.5.1 \u786e\u5b9a\u6027\u7b56\u7565","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u7528\u4e24\u4e2a\u4f8b\u5b50\u6765\u6f14\u793a\u5982\u4f55\u5f97\u5230\u8d1d\u5c14\u66fc\u65b9\u7a0b\u8fdb\u800c\u6c42\u89e3\u72b6\u6001\u503c\u3002\u5efa\u8bae\u8bfb\u8005\u4ed4\u7ec6\u9605\u8bfb\u8fd9\u4e9b\u4f8b\u5b50\uff0c\u4ee5\u52a0\u6df1\u5bf9\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u7406\u89e3\u3002</p> <p></p> <p>\u56fe\\(2.4\\):\u6f14\u793a\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u793a\u4f8b\u3002\u672c\u4f8b\u4e2d\u7684\u653f\u7b56\u662f\u786e\u5b9a\u6027\u7684\u3002</p> <p>\u8003\u8651\u56fe\\(2.4\\)\u4e2d\u7684\u7b2c\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5176\u7b56\u7565\u662f\u786e\u5b9a\u6027\u7684\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5199\u51fa\u8d1d\u5c14\u66fc\u65b9\u7a0b\uff0c\u5e76\u6839\u636e\u65b9\u7a0b\u6c42\u51fa\u72b6\u6001\u503c\u3002</p> <p>\u9996\u5148\uff0c\u8003\u8651\u72b6\u6001\\(s_1\\)\u3002\u5176\u5bf9\u5e94\u7684\u7b56\u7565\u662f\\(\\pi(a = a_3|s_1) = 1\\)\u548c\\(\\pi(a \\neq a_3|s_1) = 0\\)\u3002\u72b6\u6001\u8f6c\u79fb\u6982\u7387\u4e3a\\(p(s' = s_3|s_1,a_3) = 1\\)\u548c\\(p(s'\\neq s_3|s_1,a_3)=0\\)\u3002\u5bf9\u5e94\u7684\u5956\u52b1\u6982\u7387\u4e3a \\(p(r = 0|s_1, a_3) = 1\\) \u548c \\(p(r \\neq 0|s_1, a_3) = 0\\).\u5c06\u8fd9\u4e9b\u503c\u4ee3\u5165\\((2.7)\\)\u5f97\u51fa\u3002</p> \\[v_\\pi(s_1) = 0 + \\gamma v_\\pi (s_3)\\] <p>\u6709\u8da3\u7684\u662f\uff0c\u5c3d\u7ba1\\((2.7)\\)\u4e2d\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u8868\u8fbe\u5f0f\u770b\u8d77\u6765\u5f88\u590d\u6742\uff0c\u4f46\u4e0a\u5f0f\u53ef\u5374\u975e\u5e38\u7b80\u5355\u3002\u7531\u4e8e\u8fd9\u4e2a\u4f8b\u5b50\u975e\u5e38\u7b80\u5355\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u76f4\u63a5\u6839\u636e\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u57fa\u672c\u601d\u60f3\u5feb\u901f\u5199\u51fa\u4e0a\u5f0f\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u590d\u6742\u7684\\((2.7)\\)\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u4ece\\(s_1\\)\u51fa\u53d1\u7684\u56de\u62a5\u7b49\u4e8e\u5373\u65f6\u5956\u52b1(\u8fd9\u91cc\u662f0)\u52a0\u4e0a\u4ece\u4e0b\u4e00\u4e2a\u72b6\u6001\u51fa\u53d1\u7684\u56de\u62a5\uff0c\u8fd9\u91cc\u662f(\\(v_\\pi(s_3)\\))\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u76f4\u63a5\u5199\u51fa\u4e0a\u5f0f\u3002</p> <p>\u540c\u6837\uff0c\u5bf9\u5176\u4ed6\u72b6\u6001\u53ef\u4ee5\u5f97\u5230\uff1a</p> \\[\\begin{aligned}     v_\\pi(s_2)=1+\\gamma v_\\pi(s_4),\\\\     v_\\pi(s_3)=1+\\gamma v_\\pi(s_4),\\\\     v_\\pi(s_4)=1+\\gamma v_\\pi(s_4).\\\\ \\end{aligned}\\] <p>\u4e0b\u4e00\u6b65\u6211\u4eec\u53ef\u4ee5\u4ece\u8fd9\u4e9b\u65b9\u7a0b\u4e2d\u89e3\u51fa\u72b6\u6001\u503c\u3002\u7531\u4e8e\u8fd9\u4e9b\u65b9\u7a0b\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u53ef\u4ee5\u624b\u52a8\u6c42\u89e3\u3002\u66f4\u590d\u6742\u7684\u65b9\u7a0b\u5c06\u5728\\(2.7\\)\u8282\u4ecb\u7ecd\u3002\u5728\u8fd9\u91cc\uff0c\u72b6\u6001\u503c\u7684\u89e3\u6cd5\u5982\u4e0b:</p> \\[\\begin{aligned}     v_\\pi(s_4)=\\frac{1}{1-\\gamma},\\\\     v_\\pi(s_3)=\\frac{1}{1-\\gamma},\\\\     v_\\pi(s_2)=\\frac{1}{1-\\gamma},\\\\     v_\\pi(s_1)=\\frac{\\gamma}{1-\\gamma}.\\\\ \\end{aligned}\\] <p>\u8fdb\u4e00\u6b65\u5730\u5c06\\(\\gamma=0.9\\)\u4ee3\u5165\u4e0a\u5f0f\u53ef\u5f97\uff1a</p> \\[\\begin{aligned}     &amp;v_\\pi(s_4)=\\frac{1}{1-0.9}=10,\\\\     &amp;v_\\pi(s_3)=\\frac{1}{1-0.9}=10,\\\\     &amp;v_\\pi(s_2)=\\frac{1}{1-0.9}=10,\\\\     &amp;v_\\pi(s_1)=\\frac{0.9}{1-0.9}=9.\\\\ \\end{aligned}\\]"},{"location":"Chapter-2/2-5/#252","title":"2.5.2 \u968f\u673a\u6027\u7b56\u7565","text":"<p>\u56fe\\(2.5\\):\u6f14\u793a\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u793a\u4f8b\u3002\u672c\u4f8b\u5b50\u4e2d\u7684\u7b56\u7565\u662f\u968f\u673a\u7684\u3002</p> <p>\u8003\u8651\u56fe\\(2.5\\)\u4e2d\u7684\u4f8b\u5b50\uff0c\u7b56\u7565\u662f\u968f\u673a\u6027\u7684\uff0c\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u5199\u51fa\u8d1d\u5c14\u66fc\u65b9\u7a0b\uff0c\u7136\u540e\u4ece\u4e2d\u6c42\u89e3\u72b6\u6001\u503c\u3002</p> <p>\u667a\u80fd\u4f53\u5728\u72b6\u6001\\(s_1\\)\u4e0b\uff0c\u5411\u53f3\u548c\u5411\u4e0b\u79fb\u52a8\u7684\u6982\u7387\u540c\u6837\u4e3a\\(0.5\\)\uff0c\u5373\\(\\pi(a=a_2|s_1) =0.5\\)\u548c\\(\\pi(a=a_3|s_1)=0.5\\)\uff0c\u72b6\u6001\u8f6c\u79fb\u6982\u7387\u662f\\(p(s'=s_3|s_1, a_3)=1\\)\uff0c\u4e14\\(p(s'=s_2|s_1,a_2)= 1\\)\u3002\u5956\u52b1\u7684\u6982\u7387\u662f\\(p(r=0|s_1,a_3)=1\\)\u548c\\(p(r=-1|s_1,a_2)=1\\)\u3002\u5c06\u8fd9\u4e9b\u6982\u7387\u503c\u5e26\u5165\\((2.7)\\)\u4e2d\u5219\u6709\uff1a</p> \\[v_\\pi(s_1)=0.5[0+\\gamma v_\\pi(s_3)]+0.5[-1+\\gamma v_\\pi(s_2)].\\] <p>\u7c7b\u4f3c\u7684\uff0c\u5bf9\u5176\u4ed6\u72b6\u6001\u53ef\u5f97\uff1a</p> \\[\\begin{aligned}     v_\\pi(s_2)=1+\\gamma v_\\pi(s_4),\\\\     v_\\pi(s_3)=1+\\gamma v_\\pi(s_4),\\\\     v_\\pi(s_4)=1+\\gamma v_\\pi(s_4).\\\\ \\end{aligned}\\] <p>\u6839\u636e\u4e0a\u8ff0\u7b49\u5f0f\u53ef\u4ee5\u6c42\u89e3\u72b6\u6001\u503c\u5f97\u5230\uff1a</p> \\[\\begin{aligned}     v_\\pi(s_4)&amp;=\\frac{1}{1-\\gamma},\\\\     v_\\pi(s_3)&amp;=\\frac{1}{1-\\gamma},\\\\     v_\\pi(s_2)&amp;=\\frac{1}{1-\\gamma},\\\\     v_\\pi(s_1)&amp;=0.5[0+\\gamma v_\\pi(s_3)]+0.5[-1+\\gamma v_\\pi(s_2)]\\\\     &amp;=-0.5+\\frac{\\gamma}{1-\\gamma} \\end{aligned}\\] <p>\u8fdb\u4e00\u6b65\u5730\u5c06\\(\\gamma=0.9\\)\u4ee3\u5165\u4e0a\u5f0f\u53ef\u5f97\uff1a</p> \\[\\begin{aligned}     &amp;v_\\pi(s_4)=\\frac{1}{1-0.9}=10,\\\\     &amp;v_\\pi(s_3)=\\frac{1}{1-0.9}=10,\\\\     &amp;v_\\pi(s_2)=\\frac{1}{1-0.9}=10,\\\\     &amp;v_\\pi(s_1)=-0.5+\\frac{0.9}{1-0.9}=8.5\\\\ \\end{aligned}\\] <p>\u6700\u540e\uff0c\u6211\u4eec\u6bd4\u8f83\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\u4e24\u79cd\u7b56\u7565\u7684\u72b6\u6001\u503c\uff0c\u53ef\u4ee5\u770b\u51fa</p> \\[v_{\\pi 1} (s_i)\\geq v_{\\pi 2}(s_i), i=1,2,3,4,\\] <p>\u8fd9\u8868\u660e\u56fe\\(2.4\\)\u4e2d\u7684\u7b56\u7565\u66f4\u597d\uff0c\u8fd9\u4e2a\u6570\u5b66\u7ed3\u8bba\u4e0e\u76f4\u89c9\u662f\u4e00\u81f4\u7684\uff0c\u56e0\u4e3a\u5f53\u667a\u80fd\u4f53\u4ece\\(s_1\\)\u5f00\u59cb\u65f6\uff0c\u5b83\u53ef\u4ee5\u8bc6\u522b\u5e76\u907f\u5f00\u7981\u533a\u3002\u56e0\u6b64\uff0c\u4e0a\u8ff0\u4e24\u4e2a\u4f8b\u5b50\u8868\u660e\u53ef\u4ee5\u5229\u7528\u72b6\u6001\u503c\u6765\u8bc4\u4ef7\u653f\u7b56\u7684\u597d\u574f\u3002</p>"},{"location":"Chapter-2/2-6/","title":"2.6-\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u77e9\u9635\u5f62\u5f0f","text":""},{"location":"Chapter-2/2-6/#26","title":"2.6 \u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u77e9\u9635\u5411\u91cf\u5f62\u5f0f","text":"<p>\u7531\u4e8e\u6bcf\u4e00\u4e2a\u72b6\u6001\u90fd\u5bf9\u5e94\u4e86\\((2.7)\\)\u4e2d\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8054\u7acb\u6240\u6709\u8fd9\u4e9b\u65b9\u7a0b\u5f97\u5230\u66f4\u4e3a\u7b80\u6d01\u7684\u77e9\u9635\u5411\u91cf\u5f62\u5f0f (matrix-vector form)\uff0c\u8be5\u5f62\u5f0f\u5c06\u88ab\u7ecf\u5e38\u7528\u4e8e\u7406\u89e3\u548c\u5206\u6790\u8d1d\u5c14\u66fc\u65b9\u7a0b\u3002</p> <p>\u4e3a\u4e86\u63a8\u5bfc\u51fa\u77e9\u9635-\u5411\u91cf\u5f62\u5f0f\uff0c\u9996\u5148\u5c06\\((2.7)\\)\u4e2d\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u91cd\u5199\u4e3a\uff1a</p> \\[v_\\pi (s)=r_\\pi (s)+\\gamma\\sum_{s'\\in \\mathcal{S}}p_\\pi(s'|s)v_\\pi(s'),\\tag{2.8}\\] <p>\u5176\u4e2d\\(r_\\pi(s)=\\sum_{a\\in \\mathcal{A}}\\pi(a|s)\\sum_{r\\in \\mathcal{R}}p(r|s,a)r\\)\uff0c \\(p_\\pi(s'|s)=\\sum_{a\\in \\mathcal{A}}\\pi(a|s)p(s'|s,a)\\)\u3002\u5176\u4e2d\\(r_\\pi(s)\\)\u8868\u793a\u5373\u65f6\u5956\u52b1\u7684\u671f\u671b\u503c\uff0c\u800c\\(p_\\pi(s'|s)\\)\u4ee3\u8868\u5728\u7b56\u7565\\(\\pi\\)\u4e0b\u4ece\u72b6\u6001\\(s\\)\u8f6c\u79fb\u5230\\(s'\\)\u7684\u6982\u7387\u3002</p> <p>\u4e3a\u4e86\u5199\u6210\u77e9\u9635\u5411\u91cf\u5f62\u5f0f\uff0c\u9700\u8981\u5bf9\u72b6\u6001\u8fdb\u884c\u7f16\u53f7\u3002\u5982\u679c\u6709\\(n=|\\mathcal{S}|\\)\uff0c\u90a3\u4e48\u7ed9\u8fd9\u4e2a\\(n\\)\u4e2a\u72b6\u6001\u7f16\u53f7\u4e3a\\(\\{s_1,s_2,...,s_n\\}\\)\uff0c\u5bf9\u4e8e\u72b6\u6001\\(s_i\\)\uff0c\\((2.8)\\)\u53ef\u4ee5\u88ab\u5199\u4e3a\uff1a</p> \\[v_\\pi(s_i)=r_\\pi(s_i)+\\gamma\\sum_{s_j\\in \\mathcal{S}}p_\\pi(s_j|s_i)v_\\pi(s_j),\\tag{2.9}\\] <p>\u4ee4\\(v_\\pi=[v_\\pi(s_1),\\cdots,v_\\pi(s_n)]^T\\in\\mathbb{R}^n,r_\\pi=[r_\\pi(s_1),\\cdots,r_\\pi(s_n)]^T\\in\\mathbb{R}^n\\)\uff0c\u4ee5\u53ca\\(P_\\pi \\in \\mathbb{R}^{n \\times n}\\)\u548c\\([P_\\pi]_{ij}=p_\\pi (s_j|s_i)\\)\u3002\u8fd9\u65f6\uff0c\\((2.9)\\)\u53ef\u4ee5\u88ab\u5199\u4e3a\u4e0b\u5217\u7684\u77e9\u9635\u5411\u91cf\u5f62\u5f0f\uff1a</p> \\[v_\\pi=r_\\pi+\\gamma P_\\pi v_\\pi,\\tag{2.10}\\] <p>\u8fd9\u91cc\\(v_\\pi\\)\u662f\u5f85\u89e3\u7684\u672a\u77e5\u91cf\uff0c\u800c\\(\\gamma,r_\\pi,P_\\pi\\)\u662f\u5df2\u77e5\u91cf\u3002</p> <p>\u77e9\u9635\\(P_\\pi\\)\u6709\u4e00\u4e9b\u6709\u8da3\u7684\u7279\u6027\u3002\u7b2c\u4e00\uff0c\u5b83\u662f\u4e00\u4e2a\u975e\u8d1f\u77e9\u9635 (non-negative matrix)\uff0c\u610f\u5473\u7740\u5b83\u7684\u6240\u6709\u5143\u7d20\u90fd\u5927\u4e8e\u7b49\u4e8e\u96f6\u3002\u8fd9\u4e00\u6027\u8d28\u8bb0\u4e3a\\(P_\\pi \\geq 0\\)\uff0c\u5176\u4e2d\\(0\\)\u8868\u793a\u5177\u6709\u9002\u5f53\u7ef4\u5ea6\u7684\u96f6\u77e9\u9635\u3002\u5728\u672c\u4e66\u4e2d\\(\\leq\\)\u548c\\(\\geq\\)\u8868\u793a\u4e24\u4e2a\u77e9\u9635\u6216\u5411\u91cf\u5143\u7d20\u95f4\u7684\u6bd4\u8f83\u3002\u7b2c\u4e8c\uff0c\\(P_\\pi\\)\u4e3a\u968f\u673a\u77e9\u9635 (stochastic matrix)\uff0c\u5373\u6bcf\u884c\u7684\u5143\u7d20\u4e4b\u548c\u7b49\u4e8e\\(1\\)\u3002\u8fd9\u4e2a\u6027\u8d28\u8868\u793a\u4e3a\\(P_\\pi \\mathbf{1}=\\mathbf{1}\\)\uff0c\u5176\u4e2d\\(\\mathbf{1}=[1,\\cdots,1]^T\\)\u662f\u4e00\u4e2a\u5177\u6709\u5408\u9002\u7ef4\u5ea6\u7684\u6240\u6709\u5143\u7d20\u90fd\u662f1\u7684\u5411\u91cf\u3002</p> <p></p> <p>\u56fe2.6: \u7528\u4e8e\u8bf4\u660e\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u77e9\u9635\u5411\u91cf\u5f62\u5f0f\u7684\u4f8b\u5b50\u3002</p> <p>\u8003\u8651\u5728\u56fe\\(2.6\\)\u4e2d\u5c55\u793a\u7684\u4f8b\u5b50\uff0c\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u77e9\u9635\u5411\u91cf\u5f62\u5f0f\u662f:</p> \\[\\underbrace{\\begin{bmatrix}v_\\pi(s_1)\\\\v_\\pi(s_2)\\\\v_\\pi(s_3)\\\\v_\\pi(s_4)\\end{bmatrix}}_{v_\\pi}=\\underbrace{\\begin{bmatrix}r_\\pi(s_1)\\\\r_\\pi(s_2)\\\\r_\\pi(s_3)\\\\r_\\pi(s_4)\\end{bmatrix}}_{r_\\pi}+\\gamma\\underbrace{\\begin{bmatrix}p_\\pi(s_1|s_1)&amp;p_\\pi(s_2|s_1)&amp;p_\\pi(s_3|s_1)&amp;p_\\pi(s_4|s_1)\\\\p_\\pi(s_1|s_2)&amp;p_\\pi(s_2|s_2)&amp;p_\\pi(s_3|s_2)&amp;p_\\pi(s_4|s_2)\\\\p_\\pi(s_1|s_3)&amp;p_\\pi(s_2|s_3)&amp;p_\\pi(s_3|s_3)&amp;p_\\pi(s_4|s_3)\\\\p_\\pi(s_1|s_4)&amp;p_\\pi(s_2|s_4)&amp;p_\\pi(s_3|s_4)&amp;p_\\pi(s_4|s_4)\\end{bmatrix}}_{P_\\pi}\\underbrace{\\begin{bmatrix}v_\\pi(s_1)\\\\v_\\pi(s_2)\\\\v_\\pi(s_3)\\\\v_\\pi(s_4)\\end{bmatrix}}_{v_\\pi}.\\] <p>\u5c06\u5177\u4f53\u503c\u4ee3\u5165\u4e0a\u8ff0\u516c\u5f0f\u53ef\u5f97:</p> \\[\\begin{bmatrix}v_\\pi(s_1)\\\\v_\\pi(s_2)\\\\v_\\pi(s_3)\\\\v_\\pi(s_4)\\end{bmatrix}=\\begin{bmatrix}0.5(0)+0.5(-1)\\\\1\\\\1\\\\1\\end{bmatrix}+\\gamma\\begin{bmatrix}0&amp;0.5&amp;0.5&amp;0\\\\0&amp;0&amp;0&amp;1\\\\0&amp;0&amp;0&amp;1\\\\0&amp;0&amp;0&amp;1\\end{bmatrix}\\begin{bmatrix}v_\\pi(s_1)\\\\v_\\pi(s_2)\\\\v_\\pi(s_3)\\\\v_\\pi(s_4)\\end{bmatrix}.\\] <p>\u53ef\u4ee5\u770b\u51fa\u77e9\u9635\\(P_\\pi\\)\u6ee1\u8db3\\(P_\\pi \\mathbf{1}=\\mathbf{1}\\)</p>"},{"location":"Chapter-2/2-7/","title":"2.7-\u6c42\u89e3\u72b6\u6001\u503c","text":""},{"location":"Chapter-2/2-7/#27","title":"2.7\u6839\u636e\u8d1d\u5c14\u66fc\u65b9\u7a0b\u6c42\u89e3\u72b6\u6001\u503c","text":"<p>\u7ed9\u5b9a\u4e00\u4e2a\u7b56\u7565\uff0c\u5728\u5f97\u5230\u5bf9\u5e94\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u4e2d\u6c42\u89e3\u51fa\u6240\u6709\u72b6\u6001\u503c\u3002\u6c42\u89e3\u7ed9\u5b9a\u7b56\u7565\u7684\u72b6\u6001\u503c\u662f\u5f3a\u5316\u5b66\u4e60\u7684\u4e00\u4e2a\u57fa\u672c\u95ee\u9898\uff0c\u8fd9\u4e2a\u95ee\u9898\u901a\u5e38\u88ab\u79f0\u4e3a\u7b56\u7565\u8bc4\u4f30 (policy evaluation)\u3002\u672c\u8282\u5c06\u7ed9\u51fa\u4e24\u79cd\u6c42\u89e3\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u65b9\u6cd5</p>"},{"location":"Chapter-2/2-7/#271-1","title":"2.7.1 \u65b9\u6cd51\uff1a\u89e3\u6790\u89e3","text":"<p>\u7531\u4e8e\\(v_{\\pi}=r_{\\pi}+\\gamma P_{\\pi}v_{\\pi}\\)\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u7ebf\u6027\u65b9\u7a0b\uff0c\u56e0\u6b64\u5f88\u5bb9\u6613\u6c42\u51fa\u5176\u89e3\u6790\u89e3\uff1a</p> \\[v_{\\pi}=(I-\\gamma P_{\\pi})^{-1}r_{\\pi}.\\] <p>\u4e0b\u9762\u7ed9\u51fa\u4e86\\((I-\\gamma P_{\\pi})^{-1}\\)\u7684\u51e0\u4e2a\u6027\u8d28\u3002</p> <ul> <li> <p>\u7b2c\u4e00\uff0c\\(I-\\gamma P_{\\pi}\\)\u662f\u53ef\u9006\u7684\u3002\u8bc1\u660e\u5982\u4e0b\uff0c\u6839\u636e\u5706\u76d8\u5b9a\u74064\uff0c\\(I-\\gamma P_{\\pi}\\)\u7684\u6bcf\u4e2a\u7279\u5f81\u503c\u90fd\u81f3\u5c11\u4f4d\u4e8e\u4e00\u4e2a\u683c\u4ec0\u9ad8\u6797\u5706\u5185\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u7b2c\\(i\\)\u4e2a\u683c\u4ec0\u9ad8\u6797\u5706\u7684\u5706\u5fc3\u4f4d\u4e8e\\([I-\\gamma P_{\\pi}]_{ii}=1-\\gamma p_{\\pi}(s_{i}|s_{i})\\)\uff0c\u534a\u5f84\u7b49\u4e8e\\(\\sum_{j\\neq i}[I-\\gamma P_{\\pi}]_{ij}=-\\sum_{j\\neq i}\\gamma p_{\\pi}(s_{j}|s_{i}).\\)\u3002\u56e0\u4e3a\\(\\gamma&lt;1\\)\uff0c\u6240\u4ee5\u5176\u534a\u5f84\u5c0f\u4e8e\u8be5\u5706\u4e2d\u5fc3\u8ddd\u79bb\u539f\u70b9\u7684\u8ddd\u79bb: \\(\\sum_{j\\neq i}\\gamma p_{\\pi}(s_{j}|s_{i})&lt;1-\\gamma p_{\\pi}(s_{i}|s_{i}).\\)\u3002\u56e0\u6b64\uff0c\u6240\u6709\u683c\u4ec0\u9ad8\u6797\u5706\u90fd\u4e0d\u5305\u542b\u539f\u70b9\uff0c\u56e0\u6b64\\(I-\\gamma P_{\\pi}\\)\u7684\u4efb\u4f55\u7279\u5f81\u503c\u90fd\u4e0d\u4e3a\u96f6\u3002</p> </li> <li> <p>\u7b2c\u4e8c\uff0c\\((I-\\gamma P_{\\pi})^{-1} \\geq I\\)\uff0c\u8fd9\u610f\u5473\u7740\\((I - \\gamma P_\\pi)\\)\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u975e\u8d1f\u7684\uff0c\u5177\u4f53\u5730\u8bf4\u662f\u5927\u4e8e\u7b49\u4e8e\u5355\u4f4d\u77e9\u9635\u4e2d\u7684\u76f8\u5e94\u5143\u7d20\u3002\u8fd9\u662f\u56e0\u4e3a\\(P_\\pi\\)\u7684\u5143\u7d20\u662f\u975e\u8d1f\u7684\uff0c\u8003\u8651\u77e9\u9635\u9006\u7684\u7ea7\u6570\u5c55\u5f00\u53ef\u5f97\\((I-\\gamma P_{\\pi})^{-1}=I+\\gamma P_{\\pi}+\\gamma^{2}P_{\\pi}^{2}+\\cdots\\geq I\\geq0\\)\u3002</p> </li> <li> <p>\u7b2c\u4e09\uff0c\u5bf9\u4e8e\u4efb\u4f55\u5411\u91cf\\(r\\geq 0\\)\uff0c\u6709\\((I-\\gamma P_{\\pi})^{-1}r\\geq r \\geq 0\\)\u3002\u8fd9\u4e2a\u6027\u8d28\u53ef\u7531\u7b2c\u4e8c\u4e2a\u6027\u8d28\u63a8\u8bba\u5f97\u5230\uff0c\u56e0\u4e3a\\([(I-\\gamma P_{\\pi})^{-1}-I]r\\geq0\\)\u3002\u7c7b\u4f3c\u5730\u7684\uff0c\u5982\u679c\\(r_1\\geq r_2\\)\uff0c\u5219\u6709\\((I-\\gamma P_\\pi)^{-1}r_1\\geq(I-\\gamma P_\\pi)^{-1}r_2\\)\u3002</p> </li> </ul> <p>Note</p> <p>\u867d\u7136\u8fd9\u4e2a\u516c\u5f0f\u975e\u5e38\u4f18\u7f8e\uff0c\u4f46\u662f\u5728\u5b9e\u9645\u6c42\u89e3\u4e2d\u6211\u4eec\u5e76\u4e0d\u4f1a\u4f7f\u7528\uff0c\u56e0\u4e3a\u4ed6\u6d89\u53ca\u5230\u4e00\u4e2a\u5bf9\u77e9\u9635\u6c42\u9006\u7684\u8fc7\u7a0b\uff0c\u800c\u73b0\u5b9e\u60c5\u51b5\u4e2d\u72b6\u6001\u7a7a\u95f4\u662f\u5f88\u5927\u7684\u3002</p>"},{"location":"Chapter-2/2-7/#272-2","title":"2.7.2 \u65b9\u6cd52\uff1a\u6570\u503c\u89e3","text":"<p>\u5c3d\u7ba1\u89e3\u6790\u89e3\u6709\u52a9\u4e8e\u7406\u8bba\u5206\u6790\uff0c\u4f46\u5728\u5b9e\u8df5\u4e2d\u5e76\u4e0d\u9002\u7528\uff0c\u56e0\u4e3a\u5b83\u6d89\u53ca\u5230\u9006\u77e9\u9635\u7684\u8fd0\u7b97\uff0c\u56e0\u6b64\u4ecd\u7136\u9700\u8981\u590d\u6742\u7684\u6570\u503c\u7b97\u6cd5\u6765\u8ba1\u7b97\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u6570\u503c\u8fed\u4ee3\u7b97\u6cd5\u4ece\u8d1d\u5c14\u66fc\u65b9\u7a0b\u6c42\u89e3\u51fa\u72b6\u6001\u503c\uff1a</p> \\[v_{k+1}=r_{\\pi}+\\gamma P_{\\pi}v_{k},\\quad k=0,1,2,\\ldots,\\tag{2.11}\\] <p>\u4ece\u4e00\u4e2a\u72b6\u6001\u731c\u6d4b\\(v_0\\in \\mathbb{R}^n\\)\uff0c\u8be5\u7b97\u6cd5\u7ed9\u51fa\u4e00\u4e2a\u5e8f\u5217\\(\\{v_0,v_1,v_2,\\cdots\\}\\)\uff0c\u5e76\u4e14\u8be5\u5e8f\u5217\u4f1a\u9010\u6e10\u6536\u655b\u5230\u771f\u5b9e\u7684\u72b6\u6001\u503c\uff0c\u5373\uff1a</p> \\[v_{k}\\to v_{\\pi}=(I-\\gamma P_{\\pi})^{-1}r_{\\pi},\\quad k\\to\\infty.\\tag{2.12}\\] <p>\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u770b\u8bc1\u660eBox \\(2.1\\)\u3002</p>"},{"location":"Chapter-2/2-7/#273","title":"2.7.3 \u793a\u4f8b","text":"<p>\u4e0b\u9762\u6211\u4eec\u5e94\u7528\\((2.11)\\)\u4e2d\u7684\u7b97\u6cd5\u6c42\u89e3\u4e00\u4e9b\u793a\u4f8b\u7684\u72b6\u6001\u503c\uff0c\u5177\u4f53\u6c42\u89e3\u8fc7\u7a0b\u6211\u4eec\u4e0d\u518d\u5c55\u793a\uff0c\u8fd9\u91cc\u91cd\u70b9\u5173\u6ce8\u6c42\u89e3\u5f97\u5230\u7684\u72b6\u6001\u503c\u5177\u6709\u4ec0\u4e48\u6837\u7684\u89c4\u5f8b\u3002</p> <p>\u56fe\\(2.7\\)\u4e2d\u6a59\u8272\u7684\u5355\u5143\u683c\u4ee3\u8868\u7981\u6b62\u533a\u57df\uff0c\u84dd\u8272\u7684\u5355\u5143\u683c\u4ee3\u8868\u76ee\u6807\u533a\u57df\uff0c\u5956\u52b1\u8bbe\u7f6e\u4e3a\\(r_{boundary}=r_{forbidden}=-1\\)\uff0c\\(r_{target}=1\\)\u3002\u6298\u6263\u56e0\u5b50\u8bbe\u7f6e\u9009\u53d6\u4e3a\\(\\gamma=0.9\\)\u3002</p> <p>\u56fe\\(2.7(a)\\)\u663e\u793a\u4e86\u4e24\u4e2a\"\u597d\"\u7684\u7b56\u7565\u53ca\u5176\u901a\u8fc7\\((2.11)\\)\u5f97\u5230\u7684\u5bf9\u5e94\u7684\u72b6\u6001\u503c\u3002\u867d\u7136\u8fd9\u4e24\u4e2a\u7b56\u7565\u7684\u72b6\u6001\u503c\u76f8\u540c\uff0c\u4f46\u662f\u5728\u7b2c\u56db\u5217\u7684\u524d\u4e24\u4e2a\u72b6\u6001\u7684\u7b56\u7565\u662f\u4e0d\u540c\u7684\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u4e86\u89e3\u4e0d\u540c\u7684\u653f\u7b56\u53ef\u80fd\u5177\u6709\u76f8\u540c\u7684\u72b6\u6001\u503c\u3002</p> <p></p> <p>\u56fe\\(2.7\\) (a)\u4e24\u79cd\u201c\u597d\u7684\u201d\u7b56\u7565\u548c\u5176\u72b6\u6001\u503c\u3002\u4e24\u79cd\u653f\u7b56\u7684\u72b6\u6001\u503c\u76f8\u540c\u3001\u4f46\u5728\u7b2c\u56db\u5217\u7684\u524d\u4e24\u4e2a\u72b6\u6001\u4e0b\uff0c\u4e24\u79cd\u653f\u7b56\u662f\u4e0d\u540c\u7684\u3002</p> <p>\u56fe\\(2.7(b)\\)\u663e\u793a\u4e86\u4e24\u79cd\"\u4e0d\u597d\"\u7684\u7b56\u7565\u53ca\u5176\u5bf9\u5e94\u7684\u72b6\u6001\u503c\u3002\u8fd9\u4e24\u79cd\u653f\u7b56\u4e4b\u6240\u4ee5\u662f\u4e0d\u597d\u7684\uff0c\u662f\u56e0\u4e3a\u8bb8\u591a\u72b6\u6001\u7684\u884c\u52a8\u5728\u76f4\u89c9\u4e0a\u6765\u770b\u5c31\u662f\u4e0d\u5408\u7406\u7684\uff0c\u800c\u6240\u83b7\u5f97\u7684\u72b6\u6001\u503c\u66f4\u8bc1\u660e\u4e86\u8fd9\u4e00\u63a8\u65ad\uff0c\u53ef\u4ee5\u770b\u51fa\u4e24\u79cd\u653f\u7b56\u7684\u72b6\u6001\u503c\u5747\u4e3a\u8d1f\u503c\uff0c\u4e14\u8fdc\u5c0f\u4e8e\u56fe\\(2.7(a)\\)\u4e2d\u7684\u201c\u597d\u201d\u7684\u653f\u7b56\u7684\u72b6\u6001\u503c\u3002</p> <p></p> <p>\u56fe\\(2.7\\) (b)\u4e24\u79cd\u201c\u574f\u7684\u201d\u7b56\u7565\u548c\u5bf9\u5e94\u7684\u72b6\u6001\u503c\uff0c\u72b6\u6001\u503c\u5c0f\u4e8e\"\u597d\u7684\"\u7b56\u7565\u7684\u72b6\u6001\u503c</p>"},{"location":"Chapter-2/2-8/","title":"2.8-\u884c\u52a8\u503c","text":""},{"location":"Chapter-2/2-8/#28","title":"2.8\u4ece\u72b6\u6001\u503c\u5230\u884c\u52a8\u503c","text":"<p>\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u6211\u4eec\u5df2\u7ecf\u8ba8\u8bba\u4e86\u72b6\u6001\u503c\uff0c\u73b0\u5728\u6211\u4eec\u8f6c\u5411\u53e6\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5-\u884c\u52a8\u503c (action value)\u3002\u867d\u7136\u884c\u52a8\u503c\u7684\u6982\u5ff5\u5f88\u91cd\u8981\uff0c\u4f46\u4e4b\u6240\u4ee5\u5728\u672c\u7ae0\u7684\u6700\u540e\u4e00\u8282\u5f15\u5165\u5b83\uff0c\u662f\u56e0\u4e3a\u5b83\u4f9d\u8d56\u4e8e\u72b6\u6001\u503c\u7684\u6982\u5ff5\uff0c\u6211\u4eec\u8981\u9996\u5148\u7406\u89e3\u72b6\u6001\u503c\uff0c\u624d\u80fd\u66f4\u597d\u5730\u7406\u89e3\u884c\u52a8\u503c\u3002</p> <p>\u9488\u5bf9\u4e00\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9 (state-action pair)\\((s,a)\\)\uff0c\u5176\u884c\u52a8\u503c\u88ab\u5b9a\u4e49\u4e3a\uff1a</p> \\[q_\\pi(s,a)=\\mathbb{E}[G_t|S_t=s,A_t=a].\\] <p>\u4e0a\u5f0f\u8868\u660e\u884c\u52a8\u503c\u88ab\u5b9a\u4e49\u4e3a\u5728\u4e00\u4e2a\u72b6\u6001\u4e0b\u91c7\u53d6\u52a8\u4f5c\u4e4b\u540e\u83b7\u5f97\u7684\u56de\u62a5\u7684\u671f\u671b\u503c\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\\(q_\\pi(s,a)\\)\u4f9d\u8d56\u4e8e\u4e00\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\\((s,a)\\)\uff0c\u800c\u4ec5\u4ec5\u662f\u4e00\u4e2a\u884c\u52a8\uff0c\u56e0\u6b64\uff0c\u6216\u8bb8\u5c06\u6b64\u503c\u79f0\u4e3a\u72b6\u6001-\u884c\u52a8\u503c\u53ef\u80fd\u66f4\u4e25\u8c28\uff0c\u4f46\u4e3a\u4e86\u7b80\u4fbf\u8d77\u89c1\uff0c\u901a\u5e38\u5c06\u5176\u79f0\u4e3a\u884c\u52a8\u503c\u3002\u90a3\u4e48\u884c\u52a8\u503c\u548c\u72b6\u6001\u503c\u6709\u4ec0\u4e48\u5173\u7cfb\u5462?</p> <ol> <li> <p>\u7b2c\u4e00\uff0c\u4ece\u6761\u4ef6\u671f\u671b\u7684\u6027\u8d28\u53ef\u4ee5\u5f97\u51fa\uff0c</p> \\[\\underbrace{\\mathbb{E}[G_t|S_t=s]}_{v_\\pi(s)}=\\sum_{a\\in\\mathcal{A}}\\underbrace{\\mathbb{E}[G_t|S_t=s,A_t=a]}_{q_\\pi(s,a)}\\pi(a|s).\\] <p>\u4e0a\u5f0f\u53ef\u4ee5\u7b80\u5316\u4e3a\uff1a</p> \\[v_\\pi(s)=\\sum_{a\\in\\mathcal{A}}\\pi(a|s)q_\\pi(s,a)=\\mathbb{E}_{A_t\\sim \\pi(s)}[q_\\pi(s,A_t)].\\tag{2.13}\\] <p>\u7531\u4e0a\u5f0f\u53ef\u4ee5\u770b\u51fa\uff0c\u72b6\u6001\u503c\u662f\u8be5\u72b6\u6001\u76f8\u5173\u8054\u7684\u884c\u52a8\u503c\u7684\u671f\u671b\u503c\u3002</p> </li> <li> <p>\u7b2c\u4e8c\uff0c\u56e0\u4e3a\u72b6\u6001\u503c\u5177\u6709\u4ee5\u4e0b\u8868\u8fbe\u5f0f\uff1a</p> \\[v_{\\pi}(s)=\\sum_{a\\in\\mathcal{A}}\\pi(a|s)\\left[\\sum_{r\\in\\mathcal{R}}p(r|s,a)r+\\gamma\\sum_{s^{\\prime}\\in\\mathcal{S}}p(s^{\\prime}|s,a)v_{\\pi}(s^{\\prime})\\right],\\] <p>\u4e0e\u516c\u5f0f\\((2.13)\\)\u76f8\u6bd4\uff0c\u53ef\u5f97\uff1a</p> \\[\\begin{aligned}q_\\pi(s,a)&amp;=\\sum_{r\\in\\mathcal{R}}p(r|s,a)r+\\gamma\\sum_{s^{\\prime}\\in\\mathcal{S}}p(s^{\\prime}|s,a)v_\\pi(s^{\\prime})\\\\&amp;=\\mathbb{E}[R_{t+1}+\\gamma v_\\pi(S_{t+1})\\mid S_t=s,A_t=a]\\end{aligned}\\tag{2.14}\\] <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u884c\u52a8\u503c\u662f\u4e00\u4e2a\u5305\u542b\u72b6\u6001\u503c\u7684\u53d8\u91cf\u7684\u671f\u671b\u503c\u3002</p> </li> </ol> <p>\\((2.13)\\)\u5f0f\u548c\\((2.14)\\)\u5f0f\u90fd\u63cf\u8ff0\u4e86\u72b6\u6001\u503c\u548c\u884c\u52a8\u503c\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u5b83\u4eec\u662f\u540c\u4e00\u679a\u786c\u5e01\u7684\u4e24\u9762\uff1a\\((2.13)\\)\u5f0f\u8bf4\u660e\u4e86\u5982\u4f55\u4ece\u884c\u52a8\u503c\u83b7\u5f97\u72b6\u6001\u503c\uff0c\u800c\\((2.14)\\)\u5f0f\u8bf4\u660e\u4e86\u5982\u4f55\u4ece\u72b6\u6001\u503c\u83b7\u5f97\u884c\u52a8\u503c\u3002</p>"},{"location":"Chapter-2/2-8/#281","title":"2.8.1 \u793a\u4f8b","text":"<p>\u56fe2.8: \u4e00\u4e2a\u6f14\u793a\u884c\u52a8\u503c\u8ba1\u7b97\u8fc7\u7a0b\u7684\u4f8b\u5b50\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u901a\u8fc7\u4e00\u4e2a\u793a\u4f8b\u6765\u8bf4\u660e\u5982\u4f55\u8ba1\u7b97\u884c\u52a8\u503c\uff0c\u5e76\u7279\u522b\u6307\u51fa\u521d\u5b66\u8005\u53ef\u80fd\u4f1a\u72af\u7684\u4e00\u4e2a\u9519\u8bef\u3002</p> <p>\u8003\u8651\u56fe\\(2.8\\)\u6240\u793a\u7684\u968f\u673a\u7b56\u7565\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u53ea\u8003\u5bdf\u72b6\u6001\\(s_1\\)\u5bf9\u5e94\u7684\u884c\u52a8\u503c\u3002\u5176\u4ed6\u72b6\u6001\u4e5f\u53ef\u4ee5\u6309\u7167\u7c7b\u4f3c\u7684\u65b9\u6cd5\u8ba1\u7b97\u3002\u7b56\u7565\u4f7f\u5f97\u667a\u80fd\u4f53\u5728\u72b6\u6001\\(s_1\\)\u53ef\u80fd\u91c7\u53d6\u4e24\u4e2a\u52a8\u4f5c\\(a_2\\)\u6216\u8005\\(a_3\\)\u3002\u9996\u5148\uff0c\\((s_1\uff0ca_2)\\)\u7684\u884c\u52a8\u503c\u4e3a\uff1a</p> \\[q_\\pi(s_1,a_2)=-1+\\gamma v_\\pi(s_2),\\] <p>\u5176\u4e2d\\(s_2\\)\u662f\u4e0b\u4e00\u4e2a\u72b6\u6001\u3002\u7c7b\u4f3c\u5730\uff0c\\((s_1,a_3)\\)\u7684\u884c\u52a8\u503c\u662f\uff1a</p> \\[q_\\pi(s_1,a_3)=0+\\gamma v_\\pi(s_3).\\] <p>\u521d\u5b66\u8005\u53ef\u80fd\u4f1a\u72af\u7684\u4e00\u4e2a\u5e38\u89c1\u9519\u8bef\u662f\uff1a\u56e0\u4e3a\u56e0\u4e3a\u56fe\\(2.8\\)\u4e2d\u7684\u7b56\u7565\u53ea\u80fd\u9009\u62e9\\(a_2\\)\u6216\\(a_3\\)\uff0c\u800c\u5e76\u4e0d\u4f1a\u9009\u62e9\\(a_1\\)\u3001\\(a_4\\)\u3001\\(a_5\\)\u3002\u6240\u4ee5\u6211\u4eec\u4e0d\u9700\u8981\u8ba1\u7b97\u5b83\u4eec\u7684\u884c\u52a8\u503c\uff0c\u6216\u8005\u6211\u4eec\u53ef\u4ee5\u7b80\u5355\u5730\u8bbe\u7f6e\\(q_\\pi(s_1,a_1)=q_\\pi(s_1,a_4)=q_\\pi(s_1,a_5)=0\\)\u3002\u800c\u8fd9\u6837\u505a\u662f\u9519\u8bef\u7684\u3002</p> <ul> <li> <p>\u7b2c\u4e00\uff0c\u5373\u4f7f\u7b56\u7565\u4e0d\u4f1a\u9009\u62e9\u67d0\u4e2a\u884c\u52a8\uff0c\u5b83\u4ecd\u7136\u5177\u6709\u884c\u52a8\u503c\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5c3d\u7ba1\u7b56\u7565\\(\\pi\\)\u5728\\(s_1\\)\u5904\u4e0d\u4f1a\u9009\u53d6\\(a_1\\)\uff0c\u4f46\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u8ba1\u7b97\u201c\u5047\u5982\u201d\u91c7\u53d6\u8fd9\u4e2a\u8fd9\u4e00\u884c\u52a8\u5c06\u83b7\u5f97\u7684\u56de\u62a5\u3002\u5177\u4f53\u5730\u8bf4\uff0c\u5728\u72b6\u6001\\(s_1\\)\u9009\u53d6\\(a_1\\)\u540e\uff0c\u667a\u80fd\u4f53\u88ab\u5f39\u56de\u5230\\(s_1\\)(\u56e0\u6b64\u5373\u65f6\u5956\u52b1\u662f\\(-1\\))\uff0c\u7136\u540e\u7ee7\u7eed\u4ece\\(s_1\\)\u5f00\u59cb\u9075\u5faa\\(\\pi\\)\u5728\u72b6\u6001\u7a7a\u95f4\u4e2d\u79fb\u52a8(\u56e0\u6b64\u672a\u6765\u5956\u52b1\u662f\\(\\gamma v_\\pi(s_1)\\))\u3002\u7efc\u4e0a\uff0c\\((s_1,a_1)\\)\u7684\u884c\u52a8\u503c\u4e3a:</p> \\[q_\\pi(s_1,a_1)=-1+\\gamma v_\\pi(s_1).\\] <p>\u7c7b\u4f3c\u5730\uff0c\u5bf9\u4e8e\\(a_4\\)\u548c\\(a_5\\)\u6709\uff1a</p> \\[q_{\\pi}(s_{1},a_{4})=-1+\\gamma v_{\\pi}(s_{1}),\\\\q_{\\pi}(s_{1},a_{5})=0+\\gamma v_{\\pi}(s_{1}).\\] </li> <li> <p>\u7b2c\u4e8c\uff0c\u4e3a\u4ec0\u4e48\u6211\u4eec\u5173\u5fc3\u653f\u7b56\u4e0d\u4f1a\u9009\u62e9\u7684\u884c\u52a8\uff1f\u867d\u7136\u6709\u4e9b\u884c\u52a8\u4e0d\u4f1a\u88ab\u7b56\u7565\u6240\u9009\u62e9\uff0c\u8fd9\u5e76\u4e0d\u610f\u5473\u7740\u8fd9\u4e9b\u884c\u52a8\u5c31\u4e0d\u597d\u3002\u76f8\u53cd\uff0c\u8fd9\u4e2a\u52a8\u4f5c\u53ef\u80fd\u662f\u6700\u597d\u7684\u52a8\u4f5c\uff0c\u4f46\u56e0\u4e3a\u5f53\u524d\u7684\u7b56\u7565\u4e0d\u597d\u800c\u4e0d\u80fd\u9009\u62e9\u8fd9\u4e2a\u884c\u52a8\u3002\u5f3a\u5316\u5b66\u4e60\u7684\u76ee\u7684\u662f\u627e\u5230\u6700\u4f18\u7b56\u7565\u3002\u4e3a\u6b64\u6211\u4eec\u5fc5\u987b\u63a2\u7d22\u6240\u6709\u884c\u52a8\uff0c\u4ee5\u786e\u5b9a\u6bcf\u4e2a\u72b6\u6001\u4e0b\u6700\u4f18\u7684\u884c\u52a8\u3002</p> <p>\u6700\u540e\uff0c\u5728\u8ba1\u7b97\u52a8\u4f5c\u503c\u4e4b\u540e\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u6839\u636e\u516c\u5f0f\\((2.14)\\)\u8ba1\u7b97\u72b6\u6001\u503c\uff1a</p> \\[\\begin{aligned}v_{\\pi}(s_{1})&amp;=0.5q_{\\pi}(s_{1},a_{2})+0.5q_{\\pi}(s_{1},a_{3}),\\\\&amp;=0.5[0+\\gamma v_{\\pi}(s_{3})]+0.5[-1+\\gamma v_{\\pi}(s_{2})].\\end{aligned}\\] </li> </ul>"},{"location":"Chapter-2/2-8/#282","title":"2.8.2 \u57fa\u4e8e\u884c\u52a8\u503c\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b","text":"<p>\u6211\u4eec\u4e4b\u524d\u4ecb\u7ecd\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u662f\u57fa\u4e8e\u72b6\u6001\u503c\u3002\u4e8b\u5b9e\u4e0a\uff0c\u8d1d\u5c14\u66fc\u65b9\u7a0b\u4e5f\u53ef\u4ee5\u7528\u884c\u52a8\u503c\u6765\u8868\u8fbe\uff0c\u53ea\u662f\u8be5\u5f62\u5f0f\u5e76\u4e0d\u5e38\u89c1\u3002\u4e0d\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u8df3\u8fc7\u672c\u8282\uff0c\u5b83\u5e76\u4e0d\u5f71\u54cd\u540e\u7eed\u8bfe\u7a0b\u7684\u5b66\u4e60\u3002</p> <p>\u5177\u4f53\u6765\u8bf4\uff0c\u5c06\u516c\u5f0f\\((2.13)\\)\u4ee3\u5165\u516c\u5f0f\\((2.14)\\)\u53ef\u4ee5\u5f97\u5230\uff1a</p> \\[q_\\pi(s,a)=\\sum_{r\\in\\mathcal{R}}p(r|s,a)r+\\gamma\\sum_{s^{\\prime}\\in\\mathcal{S}}p(s^{\\prime}|s,a)\\sum_{a^{\\prime}\\in\\mathcal{A}(s^{\\prime})}\\pi(a^{\\prime}|s^{\\prime})q_\\pi(s^{\\prime},a^{\\prime}),\\] <p>\u8fd9\u4e5f\u662f\u4e00\u4e2a\u8d1d\u5c14\u66fc\u65b9\u7a0b\u3002\u53ea\u4e0d\u8fc7\u5b83\u53ea\u5305\u542b\u884c\u52a8\u503c\u800c\u6ca1\u6709\u72b6\u6001\u503c\uff0c\u4e0a\u8ff0\u65b9\u7a0b\u5bf9\u6bcf\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\u90fd\u662f\u6210\u7acb\u7684\u3002\u5982\u679c\u6211\u4eec\u628a\u6240\u6709\u8fd9\u4e9b\u65b9\u7a0b\u653e\u5728\u4e00\u8d77\uff0c\u5219\u53ef\u4ee5\u5f97\u5230\u5b83\u4eec\u7684\u77e9\u9635\u5411\u91cf\u5f62\u5f0f\uff1a</p> \\[q_\\pi=\\tilde{r}+\\gamma P\\Pi q_\\pi,\\tag{2.15}\\] <p>\u5176\u4e2d\\(q_\\pi\\)\u662f\u4e00\u4e2a\u884c\u52a8\u503c\u5411\u91cf\uff1a\u4ed6\u5bf9\u5e94\\((s,a)\\)\u7684\u5143\u7d20\u662f\\([q_\\pi]=q_\\pi(s,a)\\)\u3002\\(\\tilde{r}\\)\u662f\u7531\\((s,a)\\)\u7d22\u5f15\u7684\u5373\u65f6\u5956\u52b1\u5411\u91cf\\([\\tilde{r}]_{(s,a)}=\\sum_{r\\in\\mathcal{R}}p(r|s,a)r\\).\u77e9\u9635\\(P\\)\u662f\u6982\u7387\u8f6c\u79fb\u77e9\u9635\uff0c\u5176\u6bcf\u4e00\u884c\u5bf9\u5e94\u4e00\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\uff0c\u6bcf\u4e00\u5217\u5bf9\u5e94\u4e00\u4e2a\u72b6\u6001\\([P]_{(s,a),s'}=p(s'|s,a)\\)\u3002\u77e9\u9635\\(\\Pi\\)\u662f\u4e00\u4e2a\u5757\u5bf9\u89d2\u77e9\u9635 (block diagonal matrix)\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5757\u662f\u4e00\u4e2a\\(1\\times|\\mathcal{A}|\\)\u7ef4\u7684\u5411\u91cf\uff1a\\(\\Pi_{s^{\\prime},(s^{\\prime},a^{\\prime})}=\\pi(a^{\\prime}|s^{\\prime})\\)\uff0c\u800c\\(\\Pi\\)\u5176\u4ed6\u5143\u7d20\u90fd\u4e3a\\(0\\)\u3002</p> <p>\u76f8\u6bd4\u4e8e\u57fa\u4e8e\u72b6\u6001\u503c\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\uff0c\u57fa\u4e8e\u884c\u52a8\u503c\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u5177\u6709\u4e00\u4e9b\u72ec\u7279\u7684\u6027\u8d28\u3002\u4f8b\u5982\uff0c\\(\\tilde{r}\\)\u548c\\(P\\)\u4e0d\u4f9d\u8d56\u4e8e\u7b56\u7565\uff0c\u4ec5\u7531\u7cfb\u7edf\u6a21\u578b\u786e\u5b9a\u3002\u8be5\u653f\u7b56\u5d4c\u5165\u5728\\(\\Pi\\)\u4e2d\u3002\u66f4\u591a\u7684\u7ec6\u8282\u53ef\u4ee5\u57285\u4e2d\u627e\u5230\u3002</p>"},{"location":"Chapter-2/2-9/","title":"2.9-\u603b\u7ed3","text":""},{"location":"Chapter-2/2-9/#29","title":"2.9\u603b\u7ed3","text":"<p>\u672c\u7ae0\u4ecb\u7ecd\u7684\u6700\u91cd\u8981\u7684\u6982\u5ff5\u662f\u72b6\u6001\u503c\u3002\u6570\u5b66\u4e0a\uff0c\u72b6\u6001\u503c\u662f\u667a\u80fd\u4f53\u4ece\u4e00\u4e2a\u72b6\u6001\u51fa\u53d1\u6240\u80fd\u83b7\u5f97\u7684\u56de\u62a5\u7684\u671f\u671b\u503c\u3002</p> <p>\u4e0d\u540c\u72b6\u6001\u7684\u503c\u662f\u76f8\u4e92\u5173\u8054\u7684\u3002\u4f8b\u5982\uff0c\u72b6\u6001\u503c\\(s\\)\u7684\u503c\u4f9d\u8d56\u4e8e\u5176\u4ed6\u72b6\u6001\u7684\u503c\uff0c\u800c\u5176\u4ed6\u72b6\u6001\u7684\u503c\u53ef\u80fd\u53c8\u4f9d\u8d56\u4e8e\u66f4\u591a\u5176\u4ed6\u72b6\u6001\u6216\u8005\u72b6\u6001\\(s\\)\u672c\u8eab\u7684\u503c\u3002\u5bf9\u4e8e\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u8fd9\u4e00\u73b0\u8c61\u53ef\u80fd\u662f\u672c\u7ae0\u4e2d\u6700\u4ee4\u4eba\u56f0\u60d1\u7684\u5730\u65b9\u4e86\uff0c\u5b83\u6d89\u53ca\u4e00\u4e2a\u81ea\u4e3e (bootstrapping)\u7684\u91cd\u8981\u6982\u5ff5\uff0c\u81ea\u4e3e\u7684\u73b0\u4ee3\u5f15\u7533\u610f\u4e49\u6307\u7684\u662f\u81ea\u8fed\u4ee3\u7b97\u6cd5\uff0c\u5373\u4ece\u4e00\u4e2a\u521d\u59cb\u503c\u51fa\u53d1\u4e0d\u65ad\u8ba1\u7b97\u3002</p> <p>\u5c3d\u7ba1\u7406\u89e3\u81ea\u4e3e\u8fd9\u4e00\u6982\u5ff5\u53ef\u80fd\u4ee4\u4eba\u56f0\u60d1\uff0c\u4f46\u6211\u4eec\u4ece\u6570\u5b66\u4e0a\u6765\u770b\uff0c\u8d1d\u5c14\u66fc\u65b9\u7a0b\u6e05\u6670\u5730\u63cf\u8ff0\u4e86\u4e0d\u540c\u72b6\u6001\u503c\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u4ee5\u53ca\u5982\u4f55\u901a\u8fc7\u8fed\u4ee3\u7684\u65b9\u6cd5\u6c42\u89e3\u72b6\u6001\u503c\u3002\u6b64\u5916\uff0c\u7531\u4e8e\u72b6\u6001\u503c\u53ef\u7528\u4e8e\u8bc4\u4ef7\u7b56\u7565\u7684\u597d\u574f\uff0c\u56e0\u6b64\u6839\u636e\u8d1d\u5c14\u66fc\u65b9\u7a0b\u6c42\u89e3\u67d0\u4e00\u7b56\u7565\u7684\u72b6\u6001\u503c\u7684\u8fc7\u7a0b\u88ab\u79f0\u4e3a\u72b6\u6001\u8bc4\u4f30\u3002\u72b6\u6001\u8bc4\u4f30\u662f\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u4e2d\u7684\u91cd\u8981\u6b65\u9aa4\u3002</p> <p>\u53e6\u4e00\u4e2a\u91cd\u8981\u7684\u6982\u5ff5\u884c\u52a8\u503c\uff0c\u5b83\u53ef\u4ee5\u63cf\u8ff0\u5728\u67d0\u4e2a\u72b6\u6001\u4e0b\u91c7\u53d6\u67d0\u4e2a\u884c\u52a8\u7684\u4ef7\u503c\u3002\u6211\u4eec\u5c06\u5728\u672c\u4e66\u540e\u9762\u770b\u5230\uff0c\u5f53\u6211\u4eec\u8bd5\u56fe\u5bfb\u627e\u6700\u4f18\u7b56\u7565\u65f6\uff0c\u884c\u52a8\u503c\u76f8\u6bd4\u4e8e\u72b6\u6001\u503c\u5c06\u53d1\u6325\u66f4\u76f4\u63a5\u7684\u4f5c\u7528\u3002</p> <p>\u6700\u540e\uff0c\u8d1d\u5c14\u66fc\u65b9\u7a0b\u5e76\u4e0d\u5c40\u9650\u4e8e\u5f3a\u5316\u5b66\u4e60\u9886\u57df\u3002\u76f8\u53cd\uff0c\u5b83\u5e7f\u6cdb\u5b58\u5728\u4e8e\u63a7\u5236\u7406\u8bba\u548c\u8fd0\u7b79\u5b66\u7b49\u9886\u57df\u3002\u5728\u4e0d\u540c\u7684\u9886\u57df\uff0c\u8d1d\u5c14\u66fc\u65b9\u7a0b\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u8868\u8fbe\u5f0f\u3002\u672c\u4e66\u662f\u5728\u79bb\u6563\u9a6c\u5c14\u79d1\u592b\u51b3\u7b56\u8fc7\u7a0b\u7684\u6846\u67b6\u4e2d\u4ecb\u7ecd\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u3002\u66f4\u591a\u4fe1\u606f\u53ef\u4ee5\u57282\u4e2d\u627e\u5230\u3002</p>"},{"location":"Chapter-2/intro/","title":"\u4ecb\u7ecd","text":"<p>\u7b2c\u4e8c\u7ae0\u5c06\u4ecb\u7ecd\u4e00\u4e2a\u6838\u5fc3\u6982\u5ff5\u548c\u4e00\u4e2a\u6838\u5fc3\u5de5\u5177\u3002\u6838\u5fc3\u6982\u5ff5\u662f\u72b6\u6001\u503c\uff0c\u5b83\u662f\u4e00\u4e2a\u8bc4\u4ef7\u7b56\u7565\u597d\u574f\u7684\u91cd\u8981\u6307\u6807\u3002\u65e2\u7136\u72b6\u6001\u503c\u8fd9\u4e48\u91cd\u8981\uff0c\u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u5982\u4f55\u5206\u6790\u5b83\u5462\uff1f\u7b54\u6848\u5c31\u662f\u6838\u5fc3\u5de5\u5177\u8d1d\u5c14\u66fc\u65b9\u7a0b(Bellman equation)\u3002\u8d1d\u5c14\u66fc\u65b9\u7a0b\u63cf\u8ff0\u4e86\u6240\u6709\u72b6\u6001\u503c\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u901a\u8fc7\u6c42\u89e3\u8d1d\u5c14\u66fc\u65b9\u7a0b\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u5230\u72b6\u6001\u503c\uff0c\u8fdb\u800c\u8bc4\u4ef7\u4e00\u4e2a\u7b56\u7565\u7684\u597d\u574f\u3002</p> <p></p> <p>\u56fe\\(2.1\\): \u672c\u7ae0\u5728\u5168\u4e66\u4e2d\u7684\u4f4d\u7f6e\u3002</p>"},{"location":"Chapter-3/3-1/","title":"3.1-\u5982\u4f55\u6539\u8fdb\u7b56\u7565","text":""},{"location":"Chapter-3/3-1/#31","title":"3.1 \u4f8b\u5b50\uff1a\u5982\u4f55\u6539\u8fdb\u7b56\u7565\uff1f","text":"<p>\u56fe3.2: \u4e00\u4e2a\u5c55\u793a\u7b56\u7565\u6539\u8fdb\u7684\u4f8b\u5b50\u3002</p> <p>\u8003\u8651\u56fe3.2\u6240\u793a\u7684\u7b56\u7565\u3002\u8fd9\u91cc\uff0c\u6a59\u8272\u548c\u84dd\u8272\u5355\u5143\u683c\u5206\u522b\u8868\u793a\u7981\u6b62\u533a\u57df\u548c\u76ee\u6807\u533a\u57df\u3002\u8fd9\u91cc\u7684\u7b56\u7565\u4e0d\u597d\uff0c\u56e0\u4e3a\u5b83\u5728\u72b6\u6001\\(s_1\\)\u4e2d\u9009\u62e9\u4e86\\(a_2\\)(\u5411\u53f3)\u3002\u6211\u4eec\u5982\u4f55\u6539\u8fdb\u73b0\u6709\u7684\u7b56\u7565\uff0c\u4ee5\u83b7\u5f97\u66f4\u597d\u7684\u7b56\u7565\uff1f\u7b54\u6848\u5728\u4e8e\u72b6\u6001\u503c\u548c\u884c\u52a8\u503c\u3002</p> <ul> <li>\u76f4\u89c9: \u76f4\u89c9\u4e0a\u5f88\u6e05\u695a\uff0c\u5982\u679c\u5728\\(s_1\\)\u5904\u9009\u62e9\\(a_3\\)(\u5411\u4e0b)\u800c\u4e0d\u662f\\(a_2\\)(\u5411\u4e0b)\uff0c\u5219\u7b56\u7565\u53ef\u4ee5\u6539\u8fdb\u3002\u8fd9\u662f\u56e0\u4e3a\u5411\u4e0b\u79fb\u52a8\u80fd\u591f\u4f7f\u667a\u80fd\u4f53\u907f\u514d\u8fdb\u5165\u7981\u533a\u3002</li> <li>\u6570\u5b66\uff1a\u4e0a\u8ff0\u76f4\u89c2\u53ef\u4ee5\u901a\u8fc7\u8ba1\u7b97\u72b6\u6001\u503c\u548c\u884c\u52a8\u503c\u6765\u5b9e\u73b0\u3002</li> </ul> <p>\u9996\u5148\uff0c\u6211\u4eec\u8ba1\u7b97\u7ed9\u5b9a\u7b56\u7565\u7684\u72b6\u6001\u503c\u3002\u7279\u522b\u662f\uff0c\u8be5\u653f\u7b56\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u662f</p> \\[\\begin{aligned} v_{\\pi}(s_1) &amp;= -1 + \\gamma v_{\\pi}(s_2), \\\\ v_{\\pi}(s_2) &amp;= 1 + \\gamma v_{\\pi}(s_4), \\\\ v_{\\pi}(s_3) &amp;= 1 + \\gamma v_{\\pi}(s_4), \\\\ v_{\\pi}(s_4) &amp;= 1 + \\gamma v_{\\pi}(s_4). \\end{aligned}\\] <p>\u8bbe\\(\\gamma=0.9\\)\uff0c\u53ef\u4ee5\u89e3\u5f97</p> \\[\\begin{aligned}     v_\\pi(s_4)&amp;=v_\\pi(s_3)=v_\\pi(s_2)=10,\\\\     v_\\pi(s_1)&amp;=8 \\end{aligned}\\] <p>\u5176\u6b21\uff0c\u53ef\u4ee5\u8ba1\u7b97\u72b6\u6001\\(s_1\\)\u7684\u884c\u52a8\u503c</p> \\[\\begin{aligned}     &amp;q_{\\pi}(s_1, a_1) = -1 + \\gamma v_{\\pi}(s_1) = 6.2, \\\\ &amp;q_{\\pi}(s_1, a_2) = -1 + \\gamma v_{\\pi}(s_2) = 8, \\\\ &amp;q_{\\pi}(s_1, a_3) = 0 + \\gamma v_{\\pi}(s_3) = 9, \\\\ &amp;q_{\\pi}(s_1, a_4) = -1 + \\gamma v_{\\pi}(s_1) = 6.2, \\\\ &amp;q_{\\pi}(s_1, a_5) = 0 + \\gamma v_{\\pi}(s_1) = 7.2. \\end{aligned}\\] <p>\u663e\u800c\u6613\u89c1\uff0c\u884c\u52a8\\(a_3\\)\u5177\u6709\u6700\u5927\u7684\u884c\u52a8\u503c\uff1a</p> \\[q_{\\pi}(s_1, a_3) \\geq q_{\\pi}(s_1, a_i), \\quad \\text{for all } i \\neq 3.\\] <p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u66f4\u65b0\u7b56\u7565\uff0c\u5728\\(s_1\\)\u5904\u9009\u62e9\\(a_3\\)\u3002</p> <p>\u8fd9\u4e2a\u4f8b\u5b50\u8bf4\u660e\uff0c\u5982\u679c\u6211\u4eec\u901a\u8fc7\u9009\u62e9\u5177\u6709\u6700\u5927\u884c\u52a8\u503c\u7684\u884c\u52a8\u6765\u66f4\u65b0\u7b56\u7565\uff0c\u5219\u53ef\u4ee5\u83b7\u5f97\u66f4\u597d\u7684\u7b56\u7565\u3002\u8fd9\u662f\u8bb8\u591a\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u7684\u57fa\u672c\u601d\u60f3\u3002</p> <p>\u8fd9\u4e2a\u4f8b\u5b50\u975e\u5e38\u7b80\u5355\uff0c\u56e0\u4e3a\u7ed9\u5b9a\u7684\u7b56\u7565\u53ea\u5bf9\u72b6\u6001\\(s_1\\)\u4e0d\u5229\u3002\u5982\u679c\u8be5\u653f\u7b56\u5bf9\u5176\u4ed6\u72b6\u6001\u4e5f\u4e0d\u5229\uff0c\u90a3\u4e48\u9009\u62e9\u5177\u6709\u6700\u5927\u884c\u52a8\u503c\u7684\u884c\u52a8\u4ecd\u7136\u4f1a\u4ea7\u751f\u66f4\u597d\u7684\u7b56\u7565\u5417\uff1f\u6b64\u5916\uff0c\u662f\u5426\u603b\u662f\u5b58\u5728\u6700\u4f18\u7b56\u7565\uff1f\u6700\u4f18\u653f\u7b56\u662f\u4ec0\u4e48\u6837\u7684\uff1f\u6211\u4eec\u5c06\u5728\u672c\u7ae0\u4e2d\u56de\u7b54\u6240\u6709\u8fd9\u4e9b\u95ee\u9898\u3002</p>"},{"location":"Chapter-3/3-2/","title":"3.2-\u6700\u4f18\u72b6\u6001\u503c\u548c\u6700\u4f18\u7b56\u7565","text":""},{"location":"Chapter-3/3-2/#32","title":"3.2\u6700\u4f18\u72b6\u6001\u503c\u548c\u6700\u4f18\u7b56\u7565","text":"<p>\u867d\u7136\u5f3a\u5316\u5b66\u4e60\u7684\u6700\u7ec8\u76ee\u6807\u662f\u83b7\u5f97\u6700\u4f18\u7b56\u7565\uff0c\u4f46\u6709\u5fc5\u8981\u9996\u5148\u5b9a\u4e49\u4ec0\u4e48\u662f\u6700\u4f18\u7b56\u7565\u3002\u5b9a\u4e49\u662f\u57fa\u4e8e\u72b6\u6001\u503c\u7684\u3002\u7279\u522b\u5730\uff0c\u8003\u8651\u4e24\u4e2a\u7ed9\u5b9a\u7684\u7b56\u7565\\(\\pi_1\\)\u548c\\(\\pi_2\\)\u3002\u5982\u679c\u5bf9\u4e8e\u4efb\u4f55\u72b6\u6001\uff0c\\(\\pi_1\\)\u7684\u72b6\u6001\u503c\u5927\u4e8e\u6216\u7b49\u4e8e\\(\\pi_2\\)\u7684\u72b6\u6001\u503c\uff1a</p> \\[v_{\\pi_1}(s) \\geq v_{\\pi_2}(s), \\quad \\text{for all } s \\in S. \\] <p>\u90a3\u4e48\\(\\pi_1\\)\u5c31\u6bd4\\(\\pi_2\\)\u597d\u3002\u6b64\u5916\uff0c\u5982\u679c\u4e00\u4e2a\u7b56\u7565\u4f18\u4e8e\u6240\u6709\u5176\u4ed6\u53ef\u80fd\u7684\u7b56\u7565\uff0c\u5219\u8be5\u7b56\u7565\u662f\u6700\u4f18\u7684\u3002\u8fd9\u4e00\u70b9\u6b63\u5f0f\u8bf4\u660e\u5982\u4e0b\u3002</p> <p>\u5b9a\u4e493.1(\u6700\u4f18\u7b56\u7565\u548c\u6700\u4f18\u72b6\u6001\u503c). \u4e00\u4e2a\u7b56\u7565\\(\\pi^*\\)\u662f\u6700\u4f18\u7684\uff0c\u5982\u679c\u5bf9\u6240\u6709\\(s\\in \\mathcal{S}\\)\u548c\u4efb\u4f55\u5176\u4ed6\u7b56\u7565\\(\\pi\\)\uff0c\\(v_{\\pi^*}(s)\\geq v_\\pi(s)\\)\u3002\\(\\pi^*\\)\u7684\u72b6\u6001\u503c\u662f\u6700\u4f18\u72b6\u6001\u503c\u3002</p> <p>\u4e0a\u9762\u7684\u5b9a\u4e49\u8868\u660e\uff0c\u4e0e\u6240\u6709\u5176\u4ed6\u7b56\u7565\u76f8\u6bd4\uff0c\u6700\u4f18\u7b56\u7565\u5bf9\u4e8e\u6bcf\u4e2a\u72b6\u6001\u90fd\u5177\u6709\u6700\u5927\u7684\u72b6\u6001\u503c\u3002\u8fd9\u4e2a\u5b9a\u4e49\u4e5f\u5f15\u51fa\u4e86\u5f88\u591a\u95ee\u9898\uff1a</p> <ul> <li>\u5b58\u5728\u6027\uff1a\u6700\u4f18\u7b56\u7565\u662f\u5426\u5b58\u5728\uff1f</li> <li>\u552f\u4e00\u6027\uff1a\u6700\u4f18\u7b56\u7565\u662f\u552f\u4e00\u7684\u5417\uff1f</li> <li>\u968f\u673a\u6027\uff1a\u6700\u4f18\u7b56\u7565\u662f\u968f\u673a\u7684\u8fd8\u662f\u786e\u5b9a\u7684\uff1f</li> <li>\u7b97\u6cd5\uff1a\u5982\u4f55\u83b7\u5f97\u6700\u4f18\u7b56\u7565\u548c\u6700\u4f18\u72b6\u6001\u503c\uff1f</li> </ul> <p>\u8981\u5f7b\u5e95\u7406\u89e3\u6700\u4f18\u7b56\u7565\uff0c\u5fc5\u987b\u660e\u786e\u56de\u7b54\u8fd9\u4e9b\u57fa\u672c\u95ee\u9898\u3002\u4f8b\u5982\uff0c\u5173\u4e8e\u6700\u4f18\u7b56\u7565\u7684\u5b58\u5728\u6027\uff0c\u5982\u679c\u6700\u4f18\u7b56\u7565\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u6211\u4eec\u4e0d\u9700\u8981\u8d39\u5fc3\u8bbe\u8ba1\u7b97\u6cd5\u6765\u627e\u5230\u5b83\u4eec\u3002</p> <p>\u6211\u4eec\u5c06\u5728\u672c\u7ae0\u7684\u5269\u4f59\u90e8\u5206\u56de\u7b54\u6240\u6709\u8fd9\u4e9b\u95ee\u9898\u3002</p>"},{"location":"Chapter-3/3-3/","title":"3.3-\u8d1d\u5c14\u66fc\u6700\u4f18\u516c\u5f0f","text":""},{"location":"Chapter-3/3-3/#33","title":"3.3 \u8d1d\u5c14\u66fc\u6700\u4f18\u516c\u5f0f","text":"<p>Note</p> <p>\u8fd9\u4e00\u8282\u516c\u5f0f\u975e\u5e38\u591a\uff0c\u5efa\u8bae\u8bfb\u8005\u4ed4\u7ec6\u9605\u8bfb</p> <p>\u7528\u4e8e\u5206\u6790\u6700\u4f18\u7b56\u7565\u548c\u6700\u4f18\u72b6\u6001\u503c\u7684\u5de5\u5177\u662f\u8d1d\u5c14\u66fc\u6700\u4f18\u516c\u5f0f(BOE)\u3002\u901a\u8fc7\u6c42\u89e3\u8be5\u516c\u5f0f\uff0c\u53ef\u4ee5\u83b7\u5f97\u6700\u4f18\u7b56\u7565\u548c\u6700\u4f18\u72b6\u6001\u503c\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u7ed9\u51fa\u4e86BOE\u7684\u8868\u8fbe\u5f0f\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\u4e86\u8be6\u7ec6\u5206\u6790\u3002</p> <p>\u5bf9\u4e8e\u6bcf\u4e2a\\(s\\in\\mathcal{S}\\)\uff0cBOE\u7684\u5143\u7d20\u7ea7\u8868\u8fbe\u5f0f\u4e3a</p> \\[\\begin{aligned}     v(s) &amp;= \\max_{\\pi \\in \\Pi(\\mathcal{S})} \\sum_{a \\in A} \\pi(a|s) \\left( \\sum_{r \\in \\mathcal{R}} p(r|s, a) r + \\gamma \\sum_{s' \\in S} p(s'|s, a) v(s') \\right) \\\\ &amp;= \\max_{\\pi \\in \\Pi(\\mathcal{S})} \\sum_{a \\in A} \\pi(a|s) q(s, a),  \\end{aligned}\\tag{3.1}\\] <p>\u5176\u4e2d\\(v(s),v(s^\\prime)\\)\u662f\u5f85\u6c42\u89e3\u7684\u672a\u77e5\u53d8\u91cf\uff0c</p> \\[q(s, a) = \\sum_{r \\in \\mathcal{R}} p(r|s, a) r + \\gamma \\sum_{s' \\in \\mathcal{S}} p(s'|s, a) v(s').\\] <p>\u8fd9\u91cc,\\(\u03c0(s)\\)\u8868\u793a\u72b6\u6001\\(s\\)\u7684\u7b56\u7565\uff0c\u800c\\(\\Pi(s)\\)\u662f\\(s\\)\u7684\u6240\u6709\u53ef\u80fd\u7b56\u7565\u7684\u96c6\u5408\u3002</p> <p>BOE\u662f\u5206\u6790\u6700\u4f18\u7b56\u7565\u7684\u4e00\u4e2a\u4f18\u96c5\u800c\u5f3a\u5927\u7684\u5de5\u5177\u3002\u7136\u800c\uff0c\u8981\u7406\u89e3\u8fd9\u4e2a\u65b9\u7a0b\u53ef\u80fd\u5e76\u975e\u6613\u4e8b\u3002\u4f8b\u5982\uff0c\u8fd9\u4e2a\u65b9\u7a0b\u6709\u4e24\u4e2a\u672a\u77e5\u53d8\u91cf\\(v(s)\\)\u548c\\(\\pi(a|s)\\)\u7684\u60c5\u51b5\u3002\u5bf9\u4e8e\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u5982\u4f55\u4ece\u4e00\u4e2a\u65b9\u7a0b\u4e2d\u89e3\u51fa\u4e24\u4e2a\u672a\u77e5\u53d8\u91cf\u53ef\u80fd\u4f1a\u4ee4\u4eba\u56f0\u60d1\u3002BOE\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u8d1d\u5c14\u66fc\u516c\u5f0f\u3002\u4f46\u7531\u4e8e\u5176\u8868\u8fbe\u5f0f\u4e0e\u8d1d\u5c14\u66fc\u516c\u5f0f\u7684\u8868\u8fbe\u5f0f\u6709\u5f88\u5927\u7684\u4e0d\u540c\uff0c\u56e0\u6b64\u8981\u8ba4\u8bc6\u5230\u8fd9\u4e00\u70b9\u5e76\u4e0d\u5bb9\u6613\u3002\u6211\u4eec\u8fd8\u9700\u8981\u56de\u7b54\u5173\u4e8e\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u7684\u4ee5\u4e0b\u57fa\u672c\u95ee\u9898\u3002</p> <ul> <li>\u5b58\u5728\u6027\uff1a\u8fd9\u4e2a\u65b9\u7a0b\u662f\u5426\u6709\u89e3\uff1f</li> <li>\u552f\u4e00\u6027\uff1a\u89e3\u662f\u5426\u552f\u4e00\uff1f </li> <li>\u7b97\u6cd5\uff1a\u5982\u4f55\u6c42\u89e3\u8fd9\u4e2a\u65b9\u7a0b\uff1f</li> <li>\u6700\u4f18\u6027\uff1a\u89e3\u4e0e\u6700\u4f18\u7b56\u7565\u6709\u4f55\u5173\u7cfb\uff1f</li> </ul> <p>\u4e00\u65e6\u6211\u4eec\u80fd\u591f\u56de\u7b54\u8fd9\u4e9b\u95ee\u9898\uff0c\u6211\u4eec\u5c31\u80fd\u6e05\u695a\u5730\u7406\u89e3\u6700\u4f18\u72b6\u6001\u503c\u548c\u6700\u4f18\u7b56\u7565\u3002</p>"},{"location":"Chapter-3/3-3/#331","title":"3.3.1 \u65b9\u7a0b\u53f3\u4fa7\u7684\u4f18\u5316\u95ee\u9898","text":"<p>Note</p> <p>\u8d1d\u5c14\u66fc\u6700\u4f18\u516c\u5f0f\u7684\u5143\u7d20\u7ea7\u8868\u8fbe\u5f0f</p> \\[v(s)=\\max_{\\pi}\\sum_{a}\\pi(a|s)\\left(\\sum_{r}p(r|s,a)r+\\gamma\\sum_{s^{\\prime}}p(s^{\\prime}|s,a)v(s^{\\prime})\\right),\\quad\\forall s\\in\\mathcal{S}\\] <p>\u8d1d\u5c14\u66fc\u6700\u4f18\u516c\u5f0f\u7684\u77e9\u9635\u5411\u91cf\u5f62\u5f0f</p> \\[v=\\max_\\pi(r_\\pi+\\gamma P_\\pi v)\\] <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u9610\u660e\u5982\u4f55\u89e3\u51b3\u516c\u5f0f\\((3.1)\\)\u4e2dBOE\u53f3\u4fa7\u7684\u4f18\u5316\u95ee\u9898\u3002\u521d\u770b\u4e4b\u4e0b\uff0c\u521d\u5b66\u8005\u53ef\u80fd\u4f1a\u5bf9\u5728\u4e00\u4e2a\u65b9\u7a0b\u4e2d\u5982\u4f55\u6c42\u89e3\u4e24\u4e2a\u672a\u77e5\u53d8\u91cf\\(v(s)\\)\u548c\\(\u03c0(a|s)\\)\u611f\u5230\u56f0\u60d1\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e24\u4e2a\u672a\u77e5\u53d8\u91cf\u53ef\u4ee5\u9010\u4e00\u6c42\u89e3\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u8bf4\u660e\u4e86\u8fd9\u4e2a\u7ed3\u8bba\u3002</p> <p>Note</p> <p>\u4f8b\u5b503.1 \u8003\u8651\u4e24\u4e2a\u672a\u77e5\u53d8\u91cf\\(x,y\\in\\mathbb{R}\\)\uff0c\u6ee1\u8db3</p> \\[x=\\max_{y\\in\\mathbb{R}}(2x-1-y^{2}).\\] <p>\u7b2c\u4e00\u6b65\u662f\u6c42\u89e3\u65b9\u7a0b\u53f3\u8fb9\u7684\\(y\\)\u3002\u4e0d\u7ba1\\(x\\)\u7684\u503c\u5982\u4f55\uff0c\u6211\u4eec\u603b\u662f\u6709\\(max_y(2x \u2212 1 \u2212 y^2)= 2x \u2212 1\\)\uff0c\u5176\u4e2d\u5f53\\(y = 0\\)\u65f6\u8fbe\u5230\u6700\u5927\u503c\u3002\u7b2c\u4e8c\u6b65\u662f\u89e3\\(x\\)\u3002\u5f53\\(y = 0\\)\u65f6\uff0c\u65b9\u7a0b\u53d8\u4e3a\\(x = 2x \u2212 1\\)\uff0c\u56e0\u6b64\\(x = 1\\)\u3002\u56e0\u6b64\uff0c\\(y = 0\\)\u548c\\(x = 1\\)\u662f\u65b9\u7a0b\u7684\u89e3\u3002</p> <p>\u6211\u4eec\u73b0\u5728\u8f6c\u5411BOE\u53f3\u4fa7\u7684\u4f18\u5316\u95ee\u9898\u3002\u5f0f\\((3.1)\\)\u4e2d\u7684BOE\u53ef\u4ee5\u7b80\u660e\u5730\u5199\u4e3a\uff1a</p> \\[v(s)=\\max_{\\pi(s)\\in\\Pi(s)}\\sum_{a\\in A}\\pi(a|s)q(s,a),\\quad s\\in\\mathcal{S}.\\] <p>\u53d7\u4f8b\\(3.1\\)\u7684\u542f\u53d1\uff0c\u6211\u4eec\u53ef\u4ee5\u9996\u5148\u5728\u53f3\u4fa7\u6c42\u89e3\u6700\u4f18\\(\\pi\\)\u3002\u5982\u4f55\u6c42\u89e3\u5462?\u4e0b\u9762\u7684\u4f8b\u5b50\u5c55\u793a\u4e86\u5b83\u7684\u57fa\u672c\u601d\u60f3\u3002</p> <p>Note</p> <p>\u4f8b\u5b503.2(\u5982\u4f55\u6765\u6c42\u89e3\\(\\max_\\pi\\sum_a \\pi(a|s)q(s,a)\\)) \u7ed9\u5b9a\\(q_1,q_2,q_3\\in\\mathbb{R}\\)\uff0c\u6211\u4eec\u5e0c\u671b\u627e\u5230\\(c_1\uff0cc_2\uff0cc_3\\)\u7684\u6700\u4f18\u503c\u4ee5\u6700\u5927\u5316</p> \\[\\sum_{i=1}^3c_iq_i=c_1q_1+c_2q_2+c_3q_3,\\] <p>\u5728\u8fd9\u91cc\\(c_1+c_2+c_3=1\\)\uff0c\u5e76\u4e14\\(c_1,c_2,c_3\\geq0\\)</p> <p>\u4e0d\u5931\u4e00\u822c\u6027\uff0c\u5047\u8bbe\\(q3 \\geq q1\uff0cq2\\)\u3002\u90a3\u4e48\uff0c\u6700\u4f18\u89e3\u662f\\(c_3^*=1\\)\u548c\\(c_1^* = c_2^* = 0\\)\u3002\u8fd9\u662f\u56e0\u4e3a</p> \\[q_3=(c_1+c_2+c_3)q_3=c_1q_3+c_2q_3+c_3q_3\\geq c_1q_1+c_2q_2+c_3q_3\\] <p>\u5bf9\u4e8e\u4efb\u610f\\(c_1,c_2,c_3\\)</p> <p>\u53d7\u4e0a\u8ff0\u4f8b\u5b50\u7684\u542f\u53d1\uff0c\u56e0\u4e3a\\(\\sum_a\\pi(a|s)=1\\)\uff0c\u6211\u4eec\u6709</p> \\[\\begin{aligned}\\sum_{a\\in\\mathcal{A}}\\pi(a|s)q(s,a)\\leq\\sum_{a\\in\\mathcal{A}}\\pi(a|s)\\max_{a\\in\\mathcal{A}}q(s,a)=\\max_{a\\in\\mathcal{A}}q(s,a),\\end{aligned}\\] <p>\u5f53\u7b49\u5f0f\u6210\u7acb\u65f6\u6709</p> \\[\\pi(a|s)=\\left\\{\\begin{array}{ll}1,&amp;a=a^*,\\\\0,&amp;a\\neq a^*.\\end{array}\\right.\\] <p>\u8fd9\u91cc\uff0c\\(a^*=\\text{arg max}_a q(s,a)\\)\u3002\u7b80\u800c\u8a00\u4e4b\uff0c\u6700\u4f18\u7b56\u7565\\(\\pi(s)\\)\u662f\u9009\u62e9\u5177\u6709\u6700\u5927\\(q(s,a)\\)\u503c\u7684\u52a8\u4f5c\u7684\u7b56\u7565\u3002</p>"},{"location":"Chapter-3/3-3/#332-boe","title":"3.3.2 BOE\u7684\u77e9\u9635\u5411\u91cf\u5f62\u5f0f","text":"<p>BOE\u662f\u6307\u4e3a\u6240\u6709\u72b6\u6001\u5b9a\u4e49\u7684\u4e00\u7ec4\u65b9\u7a0b\u3002\u5982\u679c\u6211\u4eec\u628a\u8fd9\u4e9b\u65b9\u7a0b\u8054\u5408\u8d77\u6765\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u7b80\u660e\u7684\u77e9\u9635\u5411\u91cf\u5f62\u5f0f\uff0c\u8fd9\u5c06\u5728\u672c\u7ae0\u4e2d\u5f97\u5230\u5e7f\u6cdb\u7684\u5e94\u7528\u3002BOE\u7684\u77e9\u9635\u5411\u91cf\u5f62\u5f0f\u4e3a\uff1a</p> \\[v=\\max_{\\pi\\in\\Pi}(r_\\pi+\\gamma P_\\pi v),\\tag{3.2}\\] <p>\u5176\u4e2d\\(v\\in R^{|S|}\\)\u5e76\u4e14\\(max_\\pi\\)\u4ee5\u9010\u5143\u7d20\u65b9\u5f0f\u6267\u884c\u3002\\(r_\\pi\\)\u548c\\(P_\\pi\\)\u7684\u7ed3\u6784\u4e0e\u6807\u51c6\u8d1d\u5c14\u66fc\u516c\u5f0f\u7684\u77e9\u9635\u5411\u91cf\u5f62\u5f0f\u76f8\u540c\uff1a</p> \\[[r_\\pi]_s=\\sum_{a\\in\\mathcal{A}}\\pi(a|s)\\sum_{r\\in\\mathcal{R}}p(r|s,a)r,\\quad[P_\\pi]_{s,s^{\\prime}}=p(s^{\\prime}|s)=\\sum_{a\\in\\mathcal{A}}\\pi(a|s)p(s^{\\prime}|s,a).\\] <p>\u7531\u4e8e\\(\\pi\\)\u7684\u6700\u4f73\u503c\u7531\\(v\\)\u51b3\u5b9a\uff0c\u516c\u5f0f\\((3.2)\\)\u7684\u53f3\u8fb9\u662f\\(v\\)\u7684\u51fd\u6570\uff0c\u8868\u793a\u4e3a</p> \\[f(v)=max_{\\pi\\in\\Pi}(r_\\pi+\\gamma P_\\pi v).\\] <p>\u90a3\u4e48\uff0cBOE\u53ef\u4ee5\u7528\u7b80\u6d01\u7684\u5f62\u5f0f\u8868\u793a\u4e3a\uff1a</p> \\[v=f(v).\\tag{3.3}\\] <p>\u5728\u672c\u8282\u7684\u5269\u4f59\u90e8\u5206\uff0c\u6211\u4eec\u5c06\u5c55\u793a\u5982\u4f55\u6c42\u89e3\u8fd9\u4e2a\u975e\u7ebf\u6027\u65b9\u7a0b\u3002</p>"},{"location":"Chapter-3/3-3/#333","title":"3.3.3 \u538b\u7f29\u6620\u5c04\u5b9a\u7406","text":"<p>\u7531\u4e8eBOE\u53ef\u4ee5\u8868\u793a\u4e3a\u4e00\u4e2a\u975e\u7ebf\u6027\u65b9\u7a0b\\(v=f(v)\\)\uff0c\u6211\u4eec\u63a5\u4e0b\u6765\u5f15\u5165\u538b\u7f29\u6620\u5c04\u5b9a\u7406[6]\u6765\u5206\u6790\u5b83\uff0c\u538b\u7f29\u6620\u5c04\u5b9a\u7406\u662f\u5206\u6790\u4e00\u822c\u975e\u7ebf\u6027\u65b9\u7a0b\u7684\u6709\u529b\u5de5\u5177\u3002\u5b83\u4e5f\u88ab\u79f0\u4e3a\u4e0d\u52a8\u70b9\u5b9a\u7406\u3002\u5df2\u7ecf\u77e5\u9053\u8fd9\u4e2a\u5b9a\u7406\u7684\u8bfb\u8005\u53ef\u4ee5\u8df3\u8fc7\u8fd9\u4e00\u90e8\u5206\u3002\u5426\u5219\uff0c\u5efa\u8bae\u8bfb\u8005\u719f\u6089\u8fd9\u4e2a\u5b9a\u7406\uff0c\u56e0\u4e3a\u5b83\u662f\u5206\u6790BOE\u7684\u5173\u952e\u3002</p> <p>\u8003\u8651\u4e00\u4e2a\u51fd\u6570\\(f(x)\\)\uff0c\u5176\u4e2d\\(x\\in \\mathbb{R}^d\\)\u4e14\\(f:\\mathbb{R}^d \\rightarrow \\mathbb{R}^d\\)\u3002\u4e00\u4e2a\u70b9\\(x^*\\)\u88ab\u79f0\u4e3a\u4e0d\u52a8\u70b9\uff0c\u5982\u679c\u6709</p> \\[f(x^*)=x^*\\] <p>\u5bf9\u4e0a\u8ff0\u65b9\u7a0b\u7684\u89e3\u91ca\u662f\uff0c\\(x\\)\u7684\u6620\u5c04\u662f\u5b83\u672c\u8eab\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\\(x\\)\u88ab\u79f0\u4e3a\u201c\u4e0d\u52a8\u201d\u7684\u539f\u56e0\u3002\u51fd\u6570\\(f\\)\u662f\u538b\u7f29\u6620\u5c04(\u6216\u538b\u7f29\u51fd\u6570)\uff0c\u5982\u679c\u5b58\u5728\\(\\gamma \\in(0\uff0c1)\\)\uff0c\u4f7f\u5f97</p> \\[\\|f(x_1)-f(x_2)\\|\\leq\\gamma\\|x_1-x_2\\|\\] <p>\u5bf9\u4e8e\u4efb\u610f\\(x_1,x_2\\in\\mathbb{R}^d\\)\u3002\u5728\u8fd9\u672c\u4e66\u4e2d\uff0c\\(\\|\u00b7\\|\\)\u8868\u793a\u5411\u91cf\u6216\u77e9\u9635\u8303\u6570\u3002</p> <p>Note</p> <p>\u4f8b\u5b503.3. \u6211\u4eec\u7ed9\u51fa\u4e86\u4e09\u4e2a\u4f8b\u5b50\u6765\u8bc1\u660e\u4e0d\u52a8\u70b9\u548c\u538b\u7f29\u6620\u5c04.</p> <ol> <li> <p>\\(x=f(x)=0.5x,x\\in\\mathbb{R}\\)</p> <p>\u5f88\u5bb9\u6613\u8bc1\u660e\\(x = 0\\)\u662f\u4e00\u4e2a\u4e0d\u52a8\u70b9\uff0c\u56e0\u4e3a\\(0 = 0.5 \u00b7 0\\)\u3002\u6b64\u5916\uff0c\\(f(x)=x\\)\u662f\u4e00\u4e2a\u538b\u7f29\u6620\u5c04\uff0c\u56e0\u4e3a\u5bf9\u4efb\u4f55\\(\\gamma\\in [0.5\uff0c1)\\)\uff0c\u6709\\(\\|0.5x_1-0.5x_2\\|=0.5\\|x_1-x_2\\|\\leq\\gamma\\|x_1-x_2\\|\\)\u3002</p> </li> <li> <p>\\(x = f(x)= Ax\\)\uff0c\u5176\u4e2d\\(x \\in \\mathbb{R}^n\uff0cA\\in \\mathbb{R}^{n\\times n}\\)\u4e14\\(\\|A\\|\\leq\\gamma\\leq1\\).</p> <p>\u5f88\u5bb9\u6613\u8bc1\u660e\\(x = 0\\)\u662f\u4e00\u4e2a\u4e0d\u52a8\u70b9\uff0c\u56e0\u4e3a\\(0 = A0\\)\u3002\u6b64\u5916\uff0c\u5b83\u4e5f\u662f\u4e00\u4e2a\u538b\u7f29\u6620\u5c04,\u6709\\(\\|Ax_1-Ax_2\\|=\\|A(x_1-x_2)\\|\\leq\\|A\\|\\|x_1-x_2\\|\\leq\\gamma\\|x_1-x_2\\|.\\)\u3002\u56e0\u6b64\uff0c\\(f(x)=Ax\\)\u662f\u4e00\u4e2a\u538b\u7f29\u6620\u5c04\u3002</p> </li> <li> <p>\\(x = f(x) = 0.5 \\sin x, \\quad x \\in \\mathbb{R}\\).</p> <p>\u5f88\u5bb9\u6613\u8bc1\u660e\\(x=0\\)\u662f\u4e00\u4e2a\u4e0d\u52a8\u70b9\uff0c\u56e0\u4e3a\\(0=0.5\\sin 0\\)\u3002\u6b64\u5916\uff0c\u6b64\u5916\uff0c\u4ece\u4e2d\u503c\u5b9a\u7406[7\uff0c8]\u53ef\u4ee5\u5f97\u51fa\uff1a</p> \\[\\left| \\frac{0.5 \\sin x_1 - 0.5 \\sin x_2}{x_1 - x_2} \\right| = |0.5 \\cos x_3| \\leq 0.5, \\quad x_3 \\in [x_1, x_2].\\] <p>\u56e0\u6b64\u5728\u8fd9\u91cc\u6709\\(|0.5 \\sin x_1 - 0.5 \\sin x_2| \\leq 0.5 |x_1 - x_2|\\)\u56e0\u6b64\\(f(x) = 0.5 \\sin x\\)\u662f\u4e00\u4e2a\u538b\u7f29\u6620\u5c04\u3002</p> </li> </ol> <p>\u4e0d\u52a8\u70b9\u548c\u538b\u7f29\u6027\u8d28\u4e4b\u95f4\u7684\u5173\u7cfb\u7531\u4ee5\u4e0b\u5b9a\u7406\u5c55\u793a\u3002</p> <p>Note</p> <p>\u5b9a\u74063.1(\u538b\u7f29\u6620\u5c04\u5b9a\u7406)\u3002\u5bf9\u4e8e\u4efb\u4f55\u5f62\u5f0f\u4e3a\\(x = f(x)\\)\u7684\u65b9\u7a0b\uff0c\u5176\u4e2d\\(x\\)\u548c\\(f(x)\\)\u662f\u771f\u5b9e\u7684\u5411\u91cf\uff0c\u5982\u679c\\(f\\)\u662f\u538b\u7f29\u6620\u5c04\uff0c\u5219\u4ee5\u4e0b\u6027\u8d28\u6210\u7acb\u3002</p> <ul> <li> <p>\u5b58\u5728\u6027\uff1a\u5b58\u5728\u4e00\u4e2a\u4e0d\u52a8\u70b9\\(x^*\\)\u6ee1\u8db3\\(f(x^*)= x^*\\)\u3002</p> </li> <li> <p>\u552f\u4e00\u6027\uff1a\u4e0d\u52a8\u70b9\\(x^*\\)\u662f\u552f\u4e00\u7684\u3002</p> </li> <li> <p>\u7b97\u6cd5\uff1a\u8003\u8651\u8fed\u4ee3\u8fc7\u7a0b</p> </li> </ul> \\[x_{k+1}=f(x_k)\\] <p>\u5728\u8fd9\u91cc\\(k=0,1,2,\\cdots\\)\uff0c\u7136\u540e\uff0c\u5bf9\u4e8e\u4efb\u4f55\u521d\u59cb\u503c\\(x_0\\)\uff0c\u6709\\(x_k \\rightarrow x^*, k \\rightarrow \\infty\\)\u3002\u6b64\u5916\uff0c\u6536\u655b\u901f\u5ea6\u5448\u6307\u6570\u7ea7\u901f\u5ea6\u3002</p> <p>\u538b\u7f29\u6620\u5c04\u5b9a\u7406\u4e0d\u4ec5\u53ef\u4ee5\u5224\u65ad\u4e00\u4e2a\u975e\u7ebf\u6027\u65b9\u7a0b\u7684\u89e3\u662f\u5426\u5b58\u5728\uff0c\u800c\u4e14\u53ef\u4ee5\u7ed9\u51fa\u4e00\u4e2a\u6c42\u89e3\u8be5\u65b9\u7a0b\u7684\u6570\u503c\u7b97\u6cd5\u3002\u8be5\u5b9a\u7406\u7684\u8bc1\u660e\u5728\u65b9\u6846\\(3.1\\)\u4e2d\u7ed9\u51fa\u3002</p> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528\u538b\u7f29\u6620\u5c04\u5b9a\u7406\u5efa\u8bae\u7684\u8fed\u4ee3\u7b97\u6cd5\u8ba1\u7b97\u67d0\u4e9b\u65b9\u7a0b\u7684\u4e0d\u52a8\u70b9\u3002</p> <p>Note</p> <p>\u4f8b\u5b503.4. \u8ba9\u6211\u4eec\u518d\u770b\u770b\u4e0a\u9762\u7684\u4f8b\u5b50\uff1a\\(x = 0.5x\uff0cx = Ax\uff0cx = 0.5 \\sin x\\)\u3002\u867d\u7136\u5df2\u7ecf\u8bc1\u660e\u4e86\u8fd9\u4e09\u4e2a\u65b9\u7a0b\u7684\u53f3\u8fb9\u90fd\u662f\u538b\u7f29\u6620\u5c04\uff0c\u4f46\u4ece\u538b\u7f29\u6620\u5c04\u5b9a\u7406\u53ef\u4ee5\u5f97\u51fa\uff0c\u5b83\u4eec\u6bcf\u4e2a\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u4e0d\u52a8\u70b9\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u9a8c\u8bc1\u4e3a\\(x = 0\\)\u3002\u6b64\u5916\uff0c\u4e09\u4e2a\u65b9\u7a0b\u7684\u4e0d\u52a8\u70b9\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u7b97\u6cd5\u8fed\u4ee3\u6c42\u89e3\uff1a</p> \\[\\begin{aligned}&amp;x_{k+1}=0.5x_{k},\\\\&amp;x_{k+1}=Ax_{k},\\\\&amp;x_{k+1}=0.5\\sin x_{k},\\end{aligned}\\] <p>\u7ed9\u5b9a\u4efb\u4f55\u521d\u59cb\u731c\u6d4b\u503c\\(x_0\\)\u3002</p>"},{"location":"Chapter-3/3-3/#334-boe","title":"3.3.4 BOE\u53f3\u4fa7\u51fd\u6570\u7684\u538b\u7f29\u6027\u8d28","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u8bc1\u660e\\((3.3)\\)\u4e2dBOE\u4e2d\u7684\\(f(v)\\)\u662f\u4e00\u4e2a\u538b\u7f29\u6620\u5c04\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u5e94\u7528\u524d\u4e00\u5c0f\u8282\u4e2d\u4ecb\u7ecd\u7684\u538b\u7f29\u6620\u5c04\u5b9a\u7406\u3002</p> <p>Note</p> <p>\u5b9a\u74063.2. (\\(f(v)\\)\u7684\u538b\u7f29\u6027\u8d28)\u3002\u516c\u5f0f\\(3.3\\)\u4e2dBOE\u53f3\u8fb9\u7684\u51fd\u6570\\(f(v)\\)\u662f\u4e00\u4e2a\u538b\u7f29\u6620\u5c04\u3002\u7279\u522b\u5730\uff0c\u5bf9\u4efb\u610f\u7684\\(v_1,v_2\\in \\mathbb{R}^{|\\mathcal{S}|}\\)\uff0c\u6709\uff1a</p> \\[\\|f(v_1)-f(v_2)\\|_\\infty\\leq\\gamma\\|v_1-v_2\\|_\\infty,\\] <p>\u5728\u8fd9\u91cc\\(\\gamma\\in(0,1)\\)\u662f\u6298\u73b0\u7387\uff0c\\(\\|\u00b7\\|\\)\u662f\u6700\u5927\u8303\u6570\uff0c\u5176\u662f\u5411\u91cf\u7684\u5143\u7d20\u7684\u6700\u5927\u7edd\u5bf9\u503c\u3002</p> <p>\u8be5\u5b9a\u7406\u7684\u8bc1\u660e\u5728\u65b9\u6846\\(3.2\\)\u4e2d\u7ed9\u51fa\u3002\u8fd9\u4e2a\u5b9a\u7406\u5f88\u91cd\u8981\uff0c\u56e0\u4e3a\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u538b\u7f29\u6620\u5c04\u5b9a\u7406\u6765\u5206\u6790BOE\u3002</p> <p>Question</p>"},{"location":"Chapter-3/3-4/","title":"3.4-\u4ece\u8d1d\u5c14\u66fc\u6700\u4f18\u516c\u5f0f\u4e2d\u6c42\u89e3\u6700\u4f18\u7b56\u7565","text":""},{"location":"Chapter-3/3-4/#34-boe","title":"3.4 \u4eceBOE\u4e2d\u6c42\u89e3\u6700\u4f18\u7b56\u7565","text":"<p>\u901a\u8fc7\u4e0a\u4e00\u8282\u7684\u51c6\u5907\uff0c\u6211\u4eec\u5df2\u7ecf\u51c6\u5907\u597d\u6c42\u89e3BOE\u4ee5\u83b7\u5f97\u6700\u4f18\u72b6\u6001\u503c\\(v^*\\)\u548c\u6700\u4f18\u7b56\u7565\\(\\pi^*\\)\u3002</p> <ul> <li>\u6c42\u89e3\\(v^*\\):\u5982\u679c\\(v^*\\)\u662fBOE\u7684\u89e3\uff0c\u5b83\u6ee1\u8db3</li> </ul> \\[v^* = \\max_{\\pi \\in \\Pi} \\left( r_{\\pi} + \\gamma P_{\\pi} v^* \\right). \\] <p>\u663e\u7136\uff0c\\(v^*\\)\u662f\u4e00\u4e2a\u4e0d\u52a8\u70b9\uff0c\u56e0\u4e3a\\(v^*=f(v^*)\\)\u3002\u7136\u540e\uff0c\u538b\u7f29\u6620\u5c04\u5b9a\u7406\u7ed9\u51fa\u4e86\u4ee5\u4e0b\u7ed3\u679c\u3002</p> <p>Note</p> <p>\u5b9a\u74063.3. (\u5b58\u5728\u6027\u3001\u552f\u4e00\u6027\u548c\u7b97\u6cd5)\u3002\u5bf9\u4e8eBOE\uff0c\\(v = f(v)= max_{\\pi \\in \\Pi}(r_\\pi + \\gamma P_\\pi v)\\)\uff0c\u603b\u662f\u5b58\u5728\u552f\u4e00\u7684\u89e3\\(v^*\\)\uff0c\u5b83\u53ef\u4ee5\u901a\u8fc7\u8fed\u4ee3\u6cd5\u6c42\u89e3\uff1a</p> \\[v_{k+1} = f(v_k) = \\max_{\\pi \\in \\Pi} \\left( r_{\\pi} + \\gamma P_{\\pi} v_k \\right), \\quad k = 0, 1, 2, \\dots.\\] <p>\u5728\u7ed9\u5b9a\u4efb\u4f55\u521d\u59cb\u731c\u6d4b\\(v_0\\)\u7684\u60c5\u51b5\u4e0b\uff0c\\(v_k\\)\u7684\u503c\u968f\u7740\\(k\\rightarrow \\infty\\)\u4ee5\u6307\u6570\u901f\u5ea6\u6536\u655b\u5230\\(v^*\\)\u3002</p> <p>\u8fd9\u4e2a\u5b9a\u7406\u7684\u8bc1\u660e\u76f4\u63a5\u4ece\u538b\u7f29\u6620\u5c04\u5b9a\u7406\u5f97\u51fa\uff0c\u56e0\u4e3a\\(f(v)\\)\u662f\u538b\u7f29\u6620\u5c04\u3002\u8fd9\u4e2a\u5b9a\u7406\u5f88\u91cd\u8981\uff0c\u56e0\u4e3a\u5b83\u56de\u7b54\u4e86\u4e00\u4e9b\u57fa\u672c\u95ee\u9898\u3002</p> <ul> <li> <p>\\(v^*\\)\u7684\u5b58\u5728\u6027: BOE\u7684\u89e3\u603b\u662f\u5b58\u5728\u7684\u3002</p> </li> <li> <p>\\(v^*\\)\u7684\u552f\u4e00\u6027: \u89e3\\(v^*\\)\u603b\u662f\u552f\u4e00\u7684\u3002</p> </li> <li> <p>\u6c42\u89e3\\(v^*\\)\u7684\u7b97\u6cd5: \u53ef\u4ee5\u901a\u8fc7\u5b9a\u7406\\(3.3\\)\u5efa\u8bae\u7684\u8fed\u4ee3\u7b97\u6cd5\u6765\u6c42\u89e3\\(v^*\\)\u7684\u503c\u3002\u8fd9\u79cd\u8fed\u4ee3\u7b97\u6cd5\u6709\u4e00\u4e2a\u7279\u5b9a\u7684\u540d\u79f0\uff0c\u79f0\u4e3a\u503c\u8fed\u4ee3(value iteration)\u3002\u7b2c\u56db\u7ae0\u5c06\u8be6\u7ec6\u4ecb\u7ecd\u5176\u5b9e\u73b0\u3002\u5728\u672c\u7ae0\u4e2d\uff0c\u6211\u4eec\u4e3b\u8981\u5173\u6ce8BOE\u7684\u57fa\u672c\u6027\u8d28\u3002</p> </li> </ul> <ul> <li>\u6c42\u89e3\\(\\pi^*\\): \u4e00\u65e6\u5f97\u5230\u4e86\\(v^*\\)\u7684\u503c\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u6c42\u89e3\\(\\pi^*\\)\u901a\u8fc7</li> </ul> \\[\\pi^* = \\arg \\max_{\\pi \\in \\Pi} \\left( r_{\\pi} + \\gamma P_{\\pi} v^* \\right).\\] <p>\u5b9a\u7406\\(3.5\\)\u4e2d\u7ed9\u51fa\u4e86\\(\\pi^*\\)\u7684\u503c\u3002\u5c06\u516c\u5f0f\\(3.6\\)\u4ee3\u5165BOE\uff0c</p> \\[v^* = r_{\\pi^*} + \\gamma P_{\\pi^*} v^*.\\] <p>\u56e0\u6b64\uff0c\\(v^*=v_{\\pi^*}\\)\u662f\\(\\pi^*\\)\u7684\u72b6\u6001\u503c\uff0cBOE\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u8d1d\u5c14\u66fc\u516c\u5f0f\uff0c\u5176\u5bf9\u5e94\u7684\u7b56\u7565\u662f\\(\\pi^*\\)\u3002</p> <p>\u6b64\u65f6\uff0c\u867d\u7136\u6211\u4eec\u53ef\u4ee5\u6c42\u89e3\\(v^*\\)\u548c\\(\\pi^*\\)\uff0c\u4f46\u4ecd\u4e0d\u6e05\u695a\u8be5\u89e3\u662f\u5426\u4e3a\u6700\u4f18\u89e3\u3002\u800c\u4e0b\u9762\u7684\u5b9a\u7406\u63ed\u793a\u4e86\u89e3\u7684\u6700\u4f18\u6027\u3002</p> <p>Note</p> <p>\u5b9a\u7406\\(3.4\\)(\\(v^*\\)\u548c\\(\\pi^*\\)\u7684\u6700\u4f18\u6027),\u89e3\\(v^*\\)\u662f\u6700\u4f18\u72b6\u6001\u503c\uff0c\\(\\pi^*\\)\u662f\u6700\u4f18\u7b56\u7565\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5bf9\u4e8e\u4efb\u4f55\u7b56\u7565\\(\\pi\\)\uff0c\u6709</p> \\[v^*=v_{\\pi^*}\\geq v_\\pi,\\] <p>\u5176\u4e2d\\(v_\\pi\\)\u662f\\(\\pi\\)\u7684\u72b6\u6001\u503c\uff0c\\(\\geq\\)\u662f\u5143\u7d20\u6bd4\u8f83\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6e05\u695a\u4e86\u4e3a\u4ec0\u4e48\u5fc5\u987b\u7814\u7a76BOE\uff1a\u5b83\u7684\u89e3\u5bf9\u5e94\u4e8e\u6700\u4f18\u72b6\u6001\u503c\u548c\u6700\u4f18\u7b56\u7565\u3002\u4e0a\u8ff0\u5b9a\u7406\u7684\u8bc1\u660e\u5728\u4e0b\u9762\u7684\u65b9\u6846\u4e2d\u7ed9\u51fa\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6765\u4ed4\u7ec6\u5730\u7814\u7a76\\((3.6)\\)\u4e2d\u7684\\(\\pi^*\\)\u3002\u7279\u522b\u662f\uff0c\u4ee5\u4e0b\u5b9a\u7406\u8868\u660e\uff0c\u603b\u5b58\u5728\u4e00\u79cd\u786e\u5b9a\u6027\u7684Greedy\u7b56\u7565\uff0c\u5b83\u662f\u6700\u4f18\u7684\u3002</p> <p>Note</p> <p>\u5b9a\u74063.5(Greedy\u6700\u4f18\u7b56\u7565). \u5bf9\u4e8e\u4efb\u610f\u72b6\u6001\\(s\\in \\mathcal{S}\\)\uff0c\u786e\u5b9a\u6027Greedy\u7b56\u7565</p> \\[\\pi^*(a|s) = \\begin{cases}1, &amp; \\text{if } a = a^*(s), \\\\0, &amp; \\text{if } a \\neq a^*(s).\\end{cases}\\tag{3.7}\\] <p>\u662f\u89e3\u51b3BOE\u95ee\u9898\u7684\u6700\u4f18\u7b56\u7565\u3002\u5728\u6b64\uff0c</p> \\[a^*(s) = \\arg \\max_a q^*(s, a).\\] <p>\u5728\u8fd9\u91cc</p> \\[q^*(s,a) = \\sum_{r \\in \\mathcal{R}} p(r|s, a) r + \\gamma \\sum_{s' \\in \\mathcal{S}} p(s'|s, a) v^*(s').\\] <p>\\((3.7)\\)\u4e2d\u7684\u7b56\u7565\u662fGreedy\u7684\uff0c\u56e0\u4e3a\u5b83\u5bfb\u6c42\u5177\u6709\u6700\u5927\\(q^*(s, a)\\)\u7684\u52a8\u4f5c\u3002\u6700\u540e\uff0c\u6211\u4eec\u8ba8\u8bba\\(\\pi^*\\)\u7684\u4e24\u4e2a\u91cd\u8981\u6027\u8d28\u3002</p> <ul> <li> <p>\u6700\u4f18\u7b56\u7565\u7684\u552f\u4e00\u6027\uff1a\u5c3d\u7ba1\\(v^*\\)\u7684\u503c\u662f\u552f\u4e00\u7684\uff0c\u4f46\u4e0e\\(v^*\\)\u5bf9\u5e94\u7684\u6700\u4f18\u7b56\u7565\u5374\u53ef\u80fd\u4e0d\u552f\u4e00\u3002\u8fd9\u4e00\u70b9\u53ef\u4ee5\u901a\u8fc7\u53cd\u4f8b\u5f88\u5bb9\u6613\u5730\u9a8c\u8bc1\u3002\u4f8b\u5982\uff0c\u56fe\\(3.3\\)\u4e2d\u6240\u793a\u7684\u4e24\u79cd\u7b56\u7565\u90fd\u662f\u6700\u4f18\u7684\u3002</p> </li> <li> <p>\u6700\u4f18\u7b56\u7565\u7684\u968f\u673a\u6027\uff1a\u5982\u56fe\\(3.3\\)\u6240\u793a\uff0c\u6700\u4f18\u7b56\u7565\u53ef\u4ee5\u662f\u968f\u673a\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u786e\u5b9a\u7684\u3002\u7136\u800c\uff0c\u6839\u636e\u5b9a\u7406\\(3.5\\)\uff0c\u53ef\u4ee5\u786e\u5b9a\u7684\u662f\uff0c\u603b\u662f\u5b58\u5728\u4e00\u4e2a\u786e\u5b9a\u6027\u7684\u6700\u4f18\u7b56\u7565\u3002</p> </li> </ul> <p></p> <p>\u56fe\\(3.3\\)\uff1a\u5c55\u793a\u6700\u4f18\u7b56\u7565\u53ef\u80fd\u4e0d\u552f\u4e00\u7684\u793a\u4f8b\u3002\u8fd9\u4e24\u4e2a\u7b56\u7565\u4e0d\u540c\uff0c\u4f46\u90fd\u662f\u6700\u4f18\u7684\u3002</p>"},{"location":"Chapter-3/3-5/","title":"3.5-\u5f71\u54cd\u6700\u4f18\u7b56\u7565\u7684\u56e0\u7d20","text":""},{"location":"Chapter-3/3-5/#35","title":"3.5 \u5f71\u54cd\u6700\u4f18\u653f\u7b56\u7684\u56e0\u7d20","text":"<p>BOE\u662f\u4e00\u79cd\u7528\u4e8e\u5206\u6790\u6700\u4f18\u7b56\u7565\u7684\u5f3a\u5927\u5de5\u5177\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u5e94\u7528BOE\u6765\u7814\u7a76\u54ea\u4e9b\u56e0\u7d20\u4f1a\u5f71\u54cd\u6700\u4f18\u7b56\u7565\u3002\u901a\u8fc7\u89c2\u5bdfBOE\u7684\u9010\u5143\u7d20\u8868\u8fbe\u5f0f\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\uff1a</p> \\[v(s)=\\max_{\\pi(s)\\in\\Pi(s)}\\sum_{a\\in\\mathcal{A}}\\pi(a|s)\\left(\\sum_{r\\in\\mathcal{R}}p(r|s,a)r+\\gamma\\sum_{s^{\\prime}\\in\\mathcal{S}}p(s^{\\prime}|s,a)v(s^{\\prime})\\right),\\quad s\\in\\mathcal{S}.\\] <p>\u6700\u4f18\u72b6\u6001\u503c\u548c\u6700\u4f18\u7b56\u7565\u7531\u4ee5\u4e0b\u53c2\u6570\u51b3\u5b9a\uff1a1)\u5373\u65f6\u5956\u52b1\\(r\\), 2)\u6298\u73b0\u7387\\(\\gamma\\)\uff0c\u4ee5\u53ca3) \u7cfb\u7edf\u6a21\u578b \\(p(s'|s,a), p(r|s,a)\\)\u3002\u5728\u7cfb\u7edf\u6a21\u578b\u56fa\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u63a5\u4e0b\u6765\u8ba8\u8bba\u5f53\\(r\\)\u548c\\(\\gamma\\)\u7684\u503c\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u6700\u4f18\u7b56\u7565\u5982\u4f55\u53d8\u5316\u3002\u672c\u8282\u4e2d\u6240\u5c55\u793a\u7684\u6240\u6709\u6700\u4f18\u7b56\u7565\u5747\u53ef\u901a\u8fc7\u5b9a\u7406\\(3.3\\)\u4e2d\u7684\u7b97\u6cd5\u83b7\u5f97\u3002\u8be5\u7b97\u6cd5\u7684\u5b9e\u73b0\u7ec6\u8282\u5c06\u5728\u7b2c\\(4\\)\u7ae0\u4e2d\u7ed9\u51fa\u3002\u672c\u7ae0\u4e3b\u8981\u5173\u6ce8\u6700\u4f18\u7b56\u7565\u7684\u57fa\u672c\u6027\u8d28\u3002</p>"},{"location":"Chapter-3/3-5/#_1","title":"\u4e00\u4e2a\u57fa\u7ebf\u4f8b\u5b50","text":"<p>\u8003\u8651\u56fe\\(3.4\\)\u4e2d\u7684\u793a\u4f8b\u3002\u5956\u52b1\u8bbe\u7f6e\u4e3a \\(r_{boundary} = r_{forbidden} = \u22121,r_{target} = 1\\)\u3002\u6b64\u5916\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u6b65\u79fb\u52a8\uff0c\u667a\u80fd\u4f53\u90fd\u4f1a\u83b7\u5f97\\(r_{other}=0\\)\u7684\u5956\u52b1\u3002\u6298\u73b0\u7387\u9009\u62e9\u4e3a\\(\\gamma= 0.9\\)\u3002</p> <p>\u5728\u4e0a\u8ff0\u53c2\u6570\u4e0b\uff0c\u6700\u4f18\u7b56\u7565\u548c\u6700\u4f18\u72b6\u6001\u503c\u5982\u56fe\\(3.4(a)\\)\u6240\u793a\u3002\u6709\u8da3\u7684\u662f\uff0c\u667a\u80fd\u4f53\u5e76\u4e0d\u60e7\u6015\u7a7f\u8fc7\u7981\u533a\u4ee5\u5230\u8fbe\u76ee\u6807\u533a\u57df\u3002\u66f4\u5177\u4f53\u5730\u8bf4\uff0c\u4ece\u72b6\u6001(\u884c=4\uff0c\u5217=1)\u5f00\u59cb\uff0c\u667a\u80fd\u4f53\u6709\u4e24\u79cd\u5230\u8fbe\u76ee\u6807\u533a\u57df\u7684\u9009\u9879\u3002\u7b2c\u4e00\u79cd\u9009\u9879\u662f\u907f\u5f00\u6240\u6709\u7981\u533a\uff0c\u957f\u9014\u8dcb\u6d89\u5230\u8fbe\u76ee\u6807\u533a\u57df\uff1b\u7b2c\u4e8c\u79cd\u9009\u9879\u662f\u7a7f\u8fc7\u7981\u533a\u3002\u5c3d\u7ba1\u667a\u80fd\u4f53\u8fdb\u5165\u7981\u533a\u65f6\u4f1a\u83b7\u5f97\u8d1f\u5956\u52b1\uff0c\u4f46\u7b2c\u4e8c\u79cd\u8def\u5f84\u7684\u7d2f\u79ef\u5956\u52b1\u5374\u5927\u4e8e\u7b2c\u4e00\u79cd\u8def\u5f84\u3002\u56e0\u6b64\uff0c\u7531\u4e8e\\(\\gamma\\)\u503c\u76f8\u5bf9\u8f83\u5927\uff0c\u6700\u4f18\u7b56\u7565\u5177\u6709\u8fdc\u89c1\u6027\u3002</p>"},{"location":"Chapter-3/3-5/#_2","title":"\u6298\u73b0\u7387\u7684\u5f71\u54cd","text":"<p>\u5982\u679c\u6211\u4eec\u628a\u6298\u73b0\u7387\u4ece\\(\\gamma= 0.9\\)\u6539\u4e3a\\(\\gamma= 0.5\\)\uff0c\u5e76\u4fdd\u6301\u5176\u4ed6\u53c2\u6570\u4e0d\u53d8\uff0c\u6700\u4f18\u7b56\u7565\u5c06\u53d8\u4e3a\u56fe\\(3.4(b)\\)\u6240\u793a\u7684\u7b56\u7565\u3002\u6709\u8da3\u7684\u662f\uff0c\u667a\u80fd\u4f53\u4e0d\u518d\u6562\u5192\u9669\uff0c\u800c\u662f\u5b81\u613f\u8d70\u5f88\u957f\u7684\u8def\u5230\u8fbe\u76ee\u6807\uff0c\u540c\u65f6\u907f\u5f00\u6240\u6709\u7981\u533a\u3002\u8fd9\u662f\u56e0\u4e3a\u7531\u4e8e\\(\\gamma\\)\u7684\u503c\u76f8\u5bf9\u8f83\u5c0f\uff0c\u6700\u4f18\u7b56\u7565\u53d8\u5f97\u76ee\u5149\u77ed\u6d45\u3002</p> <p> </p> <p>\u56fe\\(3.4\\): \u7ed9\u5b9a\u4e0d\u540c\u53c2\u6570\u503c\u65f6\u7684\u6700\u4f18\u7b56\u7565\u548c\u6700\u4f18\u72b6\u6001\u503c\u3002</p> <p>\u5728\u6781\u7aef\u60c5\u51b5\u4e0b\uff0c\u5f53\\(\\gamma= 0\\)\u65f6\uff0c\u76f8\u5e94\u7684\u6700\u4f18\u7b56\u7565\u5982\u56fe\\(3.4(c)\\)\u6240\u793a\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u667a\u80fd\u4f53\u65e0\u6cd5\u5230\u8fbe\u76ee\u6807\u533a\u57df\u3002\u8fd9\u56e0\u4e3a\u6bcf\u4e2a\u72b6\u6001\u4e0b\u7684\u6700\u4f18\u7b56\u7565\u662f\u975e\u5e38\u77ed\u89c6\u7684\uff0c\u5b83\u4ec5\u4ec5\u9009\u62e9\u5177\u6709\u6700\u5927\u5373\u65f6\u5956\u52b1\u7684\u52a8\u4f5c\uff0c\u800c\u4e0d\u662f\u9009\u62e9\u5177\u6709\u6700\u5927\u603b\u5956\u52b1\u7684\u52a8\u4f5c\u3002</p> <p>\u6b64\u5916\uff0c\u72b6\u6001\u503c\u7684\u7a7a\u95f4\u5206\u5e03\u5448\u73b0\u51fa\u4e00\u79cd\u6709\u8da3\u7684\u6a21\u5f0f\uff1a\u9760\u8fd1\u76ee\u6807\u7684\u72b6\u6001\u5177\u6709\u8f83\u5927\u7684\u72b6\u6001\u503c\uff0c\u800c\u8fdc\u79bb\u76ee\u6807\u7684\u72b6\u6001\u5219\u5177\u6709\u8f83\u5c0f\u7684\u72b6\u6001\u503c\u3002\u8fd9\u79cd\u6a21\u5f0f\u5728\u56fe\\(3.4\\)\u6240\u793a\u7684\u6240\u6709\u793a\u4f8b\u4e2d\u90fd\u53ef\u4ee5\u89c2\u5bdf\u5230\u3002\u8fd9\u79cd\u73b0\u8c61\u53ef\u4ee5\u7528\u6298\u73b0\u7387\u6765\u89e3\u91ca\uff1a\u5982\u679c\u4e00\u4e2a\u72b6\u6001\u9700\u8981\u6cbf\u7740\u66f4\u957f\u7684\u8f68\u8ff9\u624d\u80fd\u5230\u8fbe\u76ee\u6807\uff0c\u5219\u7531\u4e8e\u6298\u73b0\u7387\u7684\u4f5c\u7528\uff0c\u5176\u72b6\u6001\u503c\u4f1a\u8f83\u5c0f\u3002</p>"},{"location":"Chapter-3/3-5/#_3","title":"\u5956\u52b1\u503c\u7684\u5f71\u54cd","text":"<p>\u5982\u679c\u6211\u4eec\u5e0c\u671b\u4e25\u683c\u7981\u6b62\u667a\u80fd\u4f53\u8fdb\u5165\u4efb\u4f55\u7981\u533a\uff0c\u53ef\u4ee5\u589e\u52a0\u5176\u8fdd\u89c4\u884c\u4e3a\u6240\u53d7\u5230\u7684\u60e9\u7f5a\u3002\u4f8b\u5982\uff0c\u5982\u679c\\(r_{forbidden}\\)\u4ece\\(-1\\)\u6539\\(-10\\)\uff0c\u90a3\u4e48\u5f97\u5230\u7684\u6700\u4f18\u7b56\u7565\u53ef\u4ee5\u907f\u514d\u6240\u6709\u7981\u533a(\u89c1\u56fe \\(3.4(d)\\))\u3002</p> <p>\u7136\u800c\uff0c\u6539\u53d8\u5956\u52b1\u5e76\u4e0d\u603b\u662f\u4f1a\u5bfc\u81f4\u4e0d\u540c\u7684\u6700\u4f18\u7b56\u7565\u3002\u4e00\u4e2a\u91cd\u8981\u7684\u4e8b\u5b9e\u662f\uff0c\u6700\u4f18\u7b56\u7565\u5bf9\u5956\u52b1\u7684\u4eff\u5c04\u53d8\u6362\u662f\u4e0d\u53d8\u7684\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5982\u679c\u6211\u4eec\u5bf9\u6240\u6709\u5956\u52b1\u8fdb\u884c\u7f29\u653e\uff0c\u6216\u8005\u7ed9\u6240\u6709\u5956\u52b1\u52a0\u4e0a\u76f8\u540c\u7684\u503c\uff0c\u6700\u4f18\u7b56\u7565\u4ecd\u7136\u4fdd\u6301\u4e0d\u53d8\u3002</p> <p>Note</p> <p>\u5b9a\u74063.6 (\u6700\u4f18\u7b56\u7565\u4e0d\u53d8\u6027). \u8003\u8651\u4e00\u4e2a\u9a6c\u5c14\u53ef\u592b\u51b3\u7b56\u8fc7\u7a0b\uff0c\u5176\u6700\u4f18\u72b6\u6001\u503c\u4e3a\\(v^\u2217\\in \\mathbb{R}^{|\\mathcal{S}|}\\)\uff0c\u6ee1\u8db3\\(v^\u2217 = max_{\\pi\\in\\Pi}(r_\\pi + \\gamma P_\\pi v^\u2217)\\)\u3002\u5982\u679c\u6bcf\u4e2a\u5956\u52b1\\(r\\in \\mathcal{R}\\)\uff0c\u7ecf\u8fc7\u4eff\u5c04\u53d8\u6362\u53d8\u4e3a \\(\\alpha r + \\beta\\)\uff0c\u5176\u4e2d \\(\\alpha,\\beta\\in \\mathbb{R}\\)\u4e14 \\(\u03b1\\geq 0\\)\uff0c\u5219\u76f8\u5e94\u7684\u6700\u4f18\u72b6\u6001\u503c\\(v^\\prime\\)\u4e5f\u662f\\(v^*\\)\u7684\u4eff\u5c04\u53d8\u6362\uff1a</p> \\[v^\\prime=av^*+\\frac{\\beta}{1-\\gamma}\\mathbf{1},\\tag{3.8}\\] <p>\u8fd9\u91cc\\(\\gamma\\in(0,1)\\)\u662f\u6298\u73b0\u7387\u5e76\u4e14\\(\\mathbb{1}=[1,\\cdots,1]^T\\)\u3002\u56e0\u6b64\uff0c\u4ece\\(v^\\prime\\)\u5bfc\u51fa\u7684\u6700\u4f18\u7b56\u7565\u5bf9\u5956\u52b1\u503c\u7684\u4eff\u5c04\u53d8\u6362\u662f\u4e0d\u53d8\u7684\u3002</p> <p>\u8bfb\u8005\u53ef\u53c2\u8003[9]\u4ee5\u8fdb\u4e00\u6b65\u8ba8\u8bba\u5728\u4f55\u79cd\u6761\u4ef6\u4e0b\u5bf9\u5956\u52b1\u503c\u7684\u4fee\u6539\u80fd\u591f\u4fdd\u6301\u6700\u4f18\u7b56\u7565\u3002</p>"},{"location":"Chapter-3/3-5/#_4","title":"\u907f\u514d\u65e0\u610f\u4e49\u7684\u7ed5\u9053","text":"<p>\u5728\u5956\u52b1\u8bbe\u7f6e\u4e2d\uff0c\u667a\u80fd\u4f53\u5728\u6bcf\u4e2a\u52a8\u4f5c\u6b65\u9aa4\u90fd\u4f1a\u83b7\u5f97\u5956\u52b1\\(r_{other} = 0\\)(\u9664\u975e\u5b83\u8fdb\u5165\u4e86\u7981\u533a\u3001\u76ee\u6807\u533a\u57df\uff0c\u6216\u8bd5\u56fe\u8d85\u51fa\u8fb9\u754c)\u3002\u7531\u4e8e\u96f6\u5956\u52b1\u5e76\u4e0d\u662f\u60e9\u7f5a\uff0c\u90a3\u4e48\u6700\u4f18\u7b56\u7565\u662f\u5426\u4f1a\u5728\u5230\u8fbe\u76ee\u6807\u4e4b\u524d\u91c7\u53d6\u6beb\u65e0\u610f\u4e49\u7684\u7ed5\u9053\u884c\u4e3a\uff1f\u6211\u4eec\u662f\u5426\u5e94\u8be5\u5c06\\(r_{other}\\)\u8bbe\u7f6e\u4e3a\u8d1f\u503c\uff0c\u4ee5\u9f13\u52b1\u667a\u80fd\u4f53\u5c3d\u5feb\u5230\u8fbe\u76ee\u6807\uff1f</p> <p></p> <p>\u56fe\\(3.5\\)\uff1a\u793a\u4f8b\u6700\u4f18\u7b56\u7565\u4e0d\u4f1a\u56e0\u6298\u73b0\u7387\u800c\u91c7\u53d6\u65e0\u610f\u4e49\u7684\u8fc2\u56de\u8def\u7ebf\u3002</p> <p>\u8bf7\u53c2\u8003\u56fe\\(3.5\\)\u4e2d\u7684\u793a\u4f8b\uff0c\u5176\u4e2d\u53f3\u4e0b\u89d2\u7684\u5355\u5143\u683c\u4e3a\u76ee\u6807\u533a\u57df\u3002\u8fd9\u91cc\u7684\u4e24\u79cd\u7b56\u7565\u9664\u4e86\u72b6\u6001\\(s_2\\)\u4e4b\u5916\u662f\u76f8\u540c\u7684\u3002\u6839\u636e\u56fe\\(3.5(a)\\)\u4e2d\u7684\u7b56\u7565\uff0c\u667a\u80fd\u4f53\u5728\\(s_2\\)\u5904\u5411\u4e0b\u79fb\u52a8\uff0c\u7531\u6b64\u4ea7\u751f\u7684\u8f68\u8ff9\u4e3a\\(s_2 \\rightarrow s_4\\)\u3002\u6839\u636e\u56fe\\(3.5(b)\\)\u4e2d\u7684\u7b56\u7565\uff0c\u667a\u80fd\u4f53\u5411\u5de6\u79fb\u52a8\uff0c\u7531\u6b64\u4ea7\u751f\u7684\u8f68\u8ff9\u4e3a\\(s_2 \\rightarrow s_1 \\rightarrow s_3 \\rightarrow s_4\\)\u3002</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u7b2c\u4e8c\u79cd\u7b56\u7565\u5728\u5230\u8fbe\u76ee\u6807\u533a\u57df\u4e4b\u524d\u7ed5\u4e86\u4e00\u4e2a\u5f2f\u8def\u3002\u5982\u679c\u6211\u4eec\u4ec5\u4ec5\u8003\u8651\u5373\u65f6\u5956\u52b1\uff0c\u90a3\u4e48\u7ed5\u8fd9\u4e2a\u5f2f\u8def\u5e76\u4e0d\u91cd\u8981\uff0c\u56e0\u4e3a\u4e0d\u4f1a\u83b7\u5f97\u4efb\u4f55\u8d1f\u9762\u7684\u5373\u65f6\u5956\u52b1\u3002\u7136\u800c\uff0c\u5982\u679c\u6211\u4eec\u8003\u8651\u6298\u73b0\u56de\u62a5\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5f2f\u8def\u5c31\u53d8\u5f97\u91cd\u8981\u4e86\u3002\u7279\u522b\u662f\u5bf9\u4e8e\u7b2c\u4e00\u79cd\u7b56\u7565\uff0c\u5176\u6298\u73b0\u56de\u62a5\u4e3a\uff1a</p> \\[\\mathrm{return}=1+\\gamma1+\\gamma^21+\\cdots=1/(1-\\gamma)=10.\\] <p>\u4f5c\u4e3a\u6bd4\u8f83\uff0c\u7b2c\u4e8c\u79cd\u653f\u7b56\u7684\u6298\u73b0\u56de\u62a5\u662f</p> \\[\\mathrm{return}=0+\\gamma0+\\gamma^21+\\gamma^31+\\cdots=\\gamma^2/(1-\\gamma)=8.1.\\] <p>\u5f88\u660e\u663e\uff0c\u8f68\u8ff9\u8d8a\u77ed\uff0c\u56de\u62a5\u5c31\u8d8a\u5927\u3002\u56e0\u6b64\uff0c\u5c3d\u7ba1\u6bcf\u4e00\u6b65\u7684\u5373\u65f6\u5956\u52b1\u5e76\u4e0d\u9f13\u52b1\u667a\u80fd\u4f53\u5c3d\u5feb\u63a5\u8fd1\u76ee\u6807\uff0c\u4f46\u6298\u73b0\u7387\u786e\u5b9e\u4f1a\u4fc3\u4f7f\u5b83\u8fd9\u6837\u505a\u3002</p> <p>\u521d\u5b66\u8005\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e00\u4e2a\u8bef\u89e3\uff0c\u5373\u4e3a\u4e86\u9f13\u52b1\u667a\u80fd\u4f53\u5c3d\u5feb\u5230\u8fbe\u76ee\u6807\uff0c\u9700\u8981\u5728\u6bcf\u6b21\u884c\u52a8\u6240\u83b7\u5f97\u7684\u5956\u52b1\u57fa\u7840\u4e0a\u989d\u5916\u6dfb\u52a0\u4e00\u4e2a\u8d1f\u5956\u52b1(\u4f8b\u5982\\(-1\\))\u3002\u8fd9\u79cd\u7406\u89e3\u662f\u9519\u8bef\u7684\uff0c\u56e0\u4e3a\u5c06\u76f8\u540c\u7684\u5956\u52b1\u52a0\u5230\u6240\u6709\u5956\u52b1\u4e4b\u4e0a\u662f\u4e00\u79cd\u4eff\u5c04\u53d8\u6362\uff0c\u8fd9\u79cd\u53d8\u6362\u4e0d\u4f1a\u6539\u53d8\u6700\u4f18\u7b56\u7565\u3002\u6b64\u5916\uff0c\u5373\u4f7f\u7ed5\u9053\u53ef\u80fd\u4e0d\u4f1a\u7acb\u5373\u83b7\u5f97\u4efb\u4f55\u8d1f\u5956\u52b1\uff0c\u6700\u4f18\u7b56\u7565\u4e5f\u4e0d\u4f1a\u56e0\u4e3a\u6298\u73b0\u7387\u800c\u91c7\u53d6\u6beb\u65e0\u610f\u4e49\u7684\u7ed5\u9053\u3002</p> <p>Question</p> <p>\u4e3a\u4e86\u907f\u514d\u7ed5\u8fdc\u8def\uff0c\u800c\u6dfb\u52a0\u60e9\u7f5a\u7684\u601d\u60f3\u662f\u4e0d\u53ef\u53d6\u7684\uff0c\u56e0\u4e3a\u7531\u5b9a\u74063.6\uff0c\u5bf9\u5956\u52b1\u5b9e\u65bd\u4eff\u5c04\u53d8\u6362\u5e76\u4e0d\u4f1a\u4f7f\u5f97\u72b6\u6001\u503c\u7684\u76f8\u5bf9\u503c\u53d1\u751f\u53d8\u5316\u3002</p>"},{"location":"Chapter-3/3-6/","title":"3.6-\u603b\u7ed3","text":""},{"location":"Chapter-3/3-6/#36","title":"3.6 \u603b\u7ed3","text":"<p>\u672c\u7ae0\u7684\u6838\u5fc3\u6982\u5ff5\u5305\u62ec\u6700\u4f18\u7b56\u7565\u548c\u6700\u4f18\u72b6\u6001\u503c\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5982\u679c\u4e00\u4e2a\u7b56\u7565\u7684\u72b6\u6001\u503c\u5927\u4e8e\u6216\u7b49\u4e8e\u4efb\u4f55\u5176\u4ed6\u7b56\u7565\u7684\u72b6\u6001\u503c\uff0c\u5219\u8be5\u7b56\u7565\u4e3a\u6700\u4f18\u7b56\u7565\u3002\u6700\u4f18\u7b56\u7565\u7684\u72b6\u6001\u503c\u5373\u4e3a\u6700\u4f18\u72b6\u6001\u503c\u3002\u6700\u4f18\u7b56\u7565\u5206\u6790\u7684\u6838\u5fc3\u5de5\u5177\u662f\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\uff08BOE\uff09\u3002\u8be5\u65b9\u7a0b\u662f\u4e00\u4e2a\u5177\u6709\u826f\u597d\u538b\u7f29\u6027\u8d28\u7684\u975e\u7ebf\u6027\u65b9\u7a0b\uff0c\u6211\u4eec\u53ef\u4ee5\u5e94\u7528\u538b\u7f29\u6620\u5c04\u5b9a\u7406\u6765\u5206\u6790\u8fd9\u4e2a\u65b9\u7a0b\u3002\u7814\u7a76\u8868\u660e\uff0c\u8be5\u65b9\u7a0b\u7684\u89e3\u5bf9\u5e94\u4e8e\u6700\u4f18\u72b6\u6001\u503c\u548c\u6700\u4f18\u7b56\u7565\u3002\u8fd9\u5c31\u662f\u6211\u4eec\u9700\u8981\u7814\u7a76\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u7684\u539f\u56e0\u3002</p> <p>\u672c\u7ae0\u7684\u5185\u5bb9\u5bf9\u4e8e\u6df1\u5165\u7406\u89e3\u5f3a\u5316\u5b66\u4e60\u4e2d\u7684\u8bb8\u591a\u57fa\u672c\u6982\u5ff5\u975e\u5e38\u91cd\u8981\u3002\u4f8b\u5982\uff0c\u5b9a\u7406\\(3.3\\)\u63d0\u51fa\u4e86\u4e00\u79cd\u7528\u4e8e\u6c42\u89e3BOE\u7684\u8fed\u4ee3\u7b97\u6cd5\u3002\u8be5\u7b97\u6cd5\u6b63\u662f\u5c06\u5728\u7b2c\\(4\\)\u7ae0\u4e2d\u4ecb\u7ecd\u7684\u503c\u8fed\u4ee3\u7b97\u6cd5\u3002\u5173\u4e8eBOE\u7684\u8fdb\u4e00\u6b65\u8ba8\u8bba\u53ef\u53c2\u89c1[2]\u3002</p>"},{"location":"Chapter-3/intro/","title":"\u4ecb\u7ecd","text":"<p>\u5f3a\u5316\u5b66\u4e60\u7684\u6700\u7ec8\u76ee\u6807\u662f\u5bfb\u6c42\u6700\u4f18\u7b56\u7565\u3002\u56e0\u6b64\u6709\u5fc5\u8981\u786e\u5b9a\u4ec0\u4e48\u662f\u6700\u4f18\u7b56\u7565\uff0c\u5728\u672c\u7ae0\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u4e00\u4e2a\u6838\u5fc3\u6982\u5ff5\u548c\u91cd\u8981\u5de5\u5177\u3002\u6838\u5fc3\u6982\u5ff5\u662f\u6700\u4f18\u72b6\u6001\u503c\uff0c\u57fa\u4e8e\u6b64\u6211\u4eec\u4fbf\u53ef\u4ee5\u5b9a\u4e49\u6700\u4f18\u7b56\u7565\uff0c\u8d1d\u5c14\u66fc\u6700\u4f18\u516c\u5f0f\u662f\u6c42\u89e3\u6700\u4f18\u72b6\u6001\u503c\u548c\u6700\u4f18\u7b56\u7565\u7684\u91cd\u8981\u5de5\u5177\u3002</p> <p>\u4e0a\u4e00\u7ae0\u3001\u672c\u7ae0\u548c\u540e\u7eed\u7ae0\u8282\u4e4b\u95f4\u7684\u5173\u7cfb\u5982\u4e0b\u3002\u524d\u4e00\u7ae0(\u7b2c2\u7ae0)\u4ecb\u7ecd\u4e86\u4efb\u4f55\u7ed9\u5b9a\u653f\u7b56\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u3002\u672c\u7ae0\u4ecb\u7ecd\u4e86\u8d1d\u5c14\u66fc\u6700\u4f18\u516c\u5f0f\uff0c\u5b83\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u8d1d\u5c14\u66fc\u516c\u5f0f\uff0c\u5176\u5bf9\u5e94\u7684\u7b56\u7565\u662f\u6700\u4f18\u7684\u3002\u4e0b\u4e00\u7ae0(\u7b2c4\u7ae0)\u5c06\u4ecb\u7ecd\u4e00\u4e2a\u91cd\u8981\u7684\u7b97\u6cd5\uff0c\u79f0\u4e3a\u503c\u8fed\u4ee3\uff0c\u8fd9\u6b63\u662f\u672c\u7ae0\u4ecb\u7ecd\u7684\u6c42\u89e3\u8d1d\u5c14\u66fc\u6700\u4f18\u6027\u516c\u5f0f\u7684\u7b97\u6cd5\u3002</p> <p>\u8bf7\u505a\u597d\u51c6\u5907\uff0c\u672c\u7ae0\u7684\u6570\u5b66\u5185\u5bb9\u6709\u70b9\u5bc6\u96c6\u3002\u7136\u800c\uff0c\u8fd9\u662f\u503c\u5f97\u7684\uff0c\u56e0\u4e3a\u8bb8\u591a\u57fa\u672c\u95ee\u9898\u53ef\u4ee5\u5f97\u5230\u660e\u786e\u7684\u56de\u7b54\u3002</p>"},{"location":"Chapter-4/4-1/","title":"4.1-\u503c\u8fed\u4ee3","text":""},{"location":"Chapter-4/4-1/#41","title":"4.1 \u503c\u8fed\u4ee3","text":"<p>\u672c\u8282\u4ecb\u7ecd\u503c\u8fed\u4ee3\u7b97\u6cd5\u3002\u8be5\u7b97\u6cd5\u6b63\u662f\u4e0a\u4e00\u7ae0(\u5b9a\u7406\\(3.3\\))\u4e2d\u6240\u4ecb\u7ecd\u7684\uff0c\u7531\u538b\u7f29\u6620\u5c04\u5b9a\u7406\u63d0\u51fa\u7684\u7528\u4e8e\u6c42\u89e3\u8d1d\u5c14\u66fc\u6700\u4f18\u516c\u5f0f\u7684\u7b97\u6cd5\u3002\u5177\u4f53\u800c\u8a00\uff0c\u8be5\u7b97\u6cd5\u662f</p> \\[v_{k+1}=\\max_{\\pi\\in\\Pi}(r_{\\pi}+\\gamma P_{\\pi}v_{k}),\\quad k=0,1,2,\\ldots\\] <p>\u5b9a\u7406\\(3.3\\)\u4fdd\u8bc1\u4e86\u5f53\\(k\\)\u8d8b\u4e8e\u65e0\u7a77\u65f6\uff0c\\(v_k\\)\u548c\\(\\pi_k\\)\u5206\u522b\u6536\u655b\u5230\u6700\u4f18\u72b6\u6001\u503c\u548c\u6700\u4f18\u7b56\u7565\u3002</p> <p>\u8be5\u7b97\u6cd5\u662f\u8fed\u4ee3\u5f0f\u7684\uff0c\u6bcf\u4e00\u6b65\u8fed\u4ee3\u5305\u542b\u4e24\u4e2a\u6b65\u9aa4\u3002</p> <ul> <li> <p>\u6bcf\u6b21\u8fed\u4ee3\u7684\u7b2c\u4e00\u6b65\u662f\u7b56\u7565\u66f4\u65b0\u6b65\u9aa4(policy update)\u3002\u4ece\u6570\u5b66\u4e0a\u8bb2\uff0c\u5176\u76ee\u6807\u662f\u627e\u5230\u4e00\u4e2a\u80fd\u591f\u89e3\u51b3\u4ee5\u4e0b\u4f18\u5316\u95ee\u9898\u7684\u7b56\u7565\uff1a</p> \\[\\pi_{k+1}=\\arg\\max_\\pi(r_\\pi+\\gamma P_\\pi v_k),\\] <p>\u5176\u4e2d\\(v_k\\)\u662f\u5728\u524d\u4e00\u6b21\u8fed\u4ee3\u4e2d\u83b7\u5f97\u7684\u3002</p> </li> <li> <p>\u7b2c\u4e8c\u6b65\u79f0\u4e3a\u503c\u66f4\u65b0\u6b65\u9aa4(value update)\u3002\u5728\u6570\u5b66\u4e0a\uff0c\u5b83\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u8ba1\u7b97\u4e00\u4e2a\u65b0\u7684\u503c\\(v_{k+1}\\)\uff1a</p> \\[v_{k+1}=r_{\\pi_{k+1}}+\\gamma P_{\\pi_{k+1}}v_{k},\\tag{4.1}\\] <p>\u5176\u4e2d\\(v_{k+1}\\)\u5c06\u5728\u4e0b\u4e00\u6b21\u8fed\u4ee3\u4e2d\u4f7f\u7528\u3002</p> </li> </ul> <p>Note</p> <p>\u6ce8: \u601d\u60f3\u5c31\u662f\u5148\u56fa\u5b9a\\(v_k\\)\uff0c\u627e\u5230\u4e00\u4e2a\u65b0\u7b56\u7565\uff0c\u7136\u540e\u5229\u7528\u65b0\u7b56\u7565\u66f4\u65b0\\(v_k\\)</p> <p>\u4e0a\u9762\u4ecb\u7ecd\u7684\u503c\u8fed\u4ee3\u7b97\u6cd5\u91c7\u7528\u7684\u662f\u77e9\u9635\u5411\u91cf\u5f62\u5f0f\u3002\u4e3a\u4e86\u5b9e\u73b0\u8be5\u7b97\u6cd5\uff0c\u6211\u4eec\u9700\u8981\u8fdb\u4e00\u6b65\u8003\u5bdf\u5176\u9010\u5143\u7d20\u5f62\u5f0f\u3002\u867d\u7136\u77e9\u9635\u5411\u91cf\u5f62\u5f0f\u6709\u52a9\u4e8e\u7406\u89e3\u7b97\u6cd5\u7684\u6838\u5fc3\u601d\u60f3\uff0c\u4f46\u9010\u5143\u7d20\u5f62\u5f0f\u5bf9\u4e8e\u5b9e\u73b0\u7ec6\u8282\u662f\u5fc5\u8981\u7684\u3002</p>"},{"location":"Chapter-4/4-1/#411","title":"4.1.1 \u9010\u5143\u7d20\u5f62\u5f0f\u4e0e\u5b9e\u73b0","text":"<p>\u8003\u8651\u65f6\u95f4\u6b65\\(k\\)\u548c\u72b6\u6001\\(s\\)\u3002</p> <ul> <li> <p>\u9996\u5148\uff0c\u7b56\u7565\u66f4\u65b0\u6b65\u9aa4\\(\\pi_{k+1}=\\arg\\max_\\pi(r_\\pi+\\gamma P_\\pi v_k)\\)\u7684\u9010\u5143\u7d20\u5f62\u5f0f\u662f</p> \\[\\pi_{k+1}(s)=\\arg\\max_{\\pi}\\sum_{a}\\pi(a|s)\\underbrace{\\left(\\sum_{r}p(r|s,a)r+\\gamma\\sum_{s^{\\prime}}p(s^{\\prime}|s,a)v_{k}(s^{\\prime})\\right)}_{q_{k}(s,a)},\\quad s\\in\\mathcal{S}.\\] <p>\u6211\u4eec\u5728\u7b2c\\(3.3.1\\)\u8282\u4e2d\u8868\u660e\uff0c\u80fd\u591f\u89e3\u51b3\u4e0a\u8ff0\u4f18\u5316\u95ee\u9898\u7684\u6700\u4f18\u7b56\u7565\u662f</p> \\[\\pi_{k+1}(a|s)=\\left\\{\\begin{array}{ll}1,&amp;a=a_k^*(s),\\\\0,&amp;a\\neq a_k^*(s),\\end{array}\\right.\\tag{4.2}\\] <p>\u5176\u4e2d\\(a_k^*(s) = \\arg\\max_a q_k(s,a)\\)\u3002\u5982\u679c\\(a_k^*(s) = \\arg\\max_a q_k(s,a)\\)\u6709\u591a\u4e2a\u89e3\uff0c\u6211\u4eec\u53ef\u4ee5\u4efb\u9009\u5176\u4e2d\u4e00\u4e2a\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u7b97\u6cd5\u7684\u6536\u655b\u6027\u3002\u7531\u4e8e\u65b0\u7684\u7b56\u7565\\(\u03c0_{k+1}\\)\u9009\u62e9\\(q_k(s, a)\\)\u6700\u5927\u7684\u884c\u52a8\uff0c\u56e0\u6b64\u8fd9\u79cd\u7b56\u7565\u88ab\u79f0\u4e3aGreedy\u7b56\u7565(greedy)\u3002</p> </li> <li> <p>\u5176\u6b21\uff0c\u503c\u66f4\u65b0\u6b65\u9aa4\u7684\u9010\u5143\u7d20\u5f62\u5f0f\u4e3a\\(v_{k+1}=r_{\\pi_{k+1}}+\\gamma P_{\\pi_{k+1}}v_{k}\\)\u3002</p> \\[v_{k+1}(s)=\\sum_{a}\\pi_{k+1}(a|s)\\underbrace{\\left(\\sum_{r}p(r|s,a)r+\\gamma\\sum_{s^{\\prime}}p(s^{\\prime}|s,a)v_{k}(s^{\\prime})\\right)}_{q_{k}(s,a)},\\quad s\\in\\mathcal{S}.\\] <p>\u5c06\\((4.2)\\)\u4ee3\u5165\u4e0a\u5f0f\uff0c\u5f97\u5230</p> \\[v_{k+1}(s)=\\max_{a}q_{k}(s,a).\\] </li> </ul> <p>\u603b\u4e4b\uff0c\u4e0a\u8ff0\u6b65\u9aa4\u53ef\u4ee5\u6982\u62ec\u4e3a</p> \\[v_k(s)\\to q_k(s,a)\\to\\text{new greedy policy}\\quad\\pi_{k+1}(s)\\to\\mathrm{new~value}\\quad v_{k+1}(s)=\\max_aq_k(s,a)\\] <p>\u5b9e\u73b0\u7ec6\u8282\u5728\u7b97\u6cd5\\(4.1\\)\u4e2d\u8fdb\u884c\u4e86\u603b\u7ed3\u3002</p> <p></p> <p>\u7b97\u6cd5\\(4.1\\): \u503c\u8fed\u4ee3\u7b97\u6cd5\u7684\u4f2a\u4ee3\u7801</p> <p>\u4e00\u4e2a\u53ef\u80fd\u4ee4\u4eba\u56f0\u60d1\u7684\u95ee\u9898\u662f\uff0c\\((4.1)\\)\u4e2d\u7684\\(v_k\\)\u662f\u5426\u4e3a\u72b6\u6001\u503c\u3002\u7b54\u6848\u662f\u5426\u5b9a\u7684\u3002\u5c3d\u7ba1\\(v_k\\)\u6700\u7ec8\u4f1a\u6536\u655b\u5230\u6700\u4f18\u72b6\u6001\u503c\uff0c\u4f46\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u5b83\u6ee1\u8db3\u4efb\u4f55\u7b56\u7565\u7684\u8d1d\u5c14\u66fc\u516c\u5f0f\u3002\u4f8b\u5982\uff0c\u5b83\u901a\u5e38\u4e0d\u6ee1\u8db3\\(v_k = r_{\\pi_{k+1}}+\\gamma P_{\\pi_{k+1}}v_k\\)\u6216\\(v_k = r_{\\pi_{k}}+\\gamma P_{\\pi_{k}}v_k\\)\u3002\u5b83\u4ec5\u4ec5\u662f\u7531\u7b97\u6cd5\u751f\u6210\u7684\u4e00\u4e2a\u4e2d\u95f4\u503c\u3002\u6b64\u5916\uff0c\u7531\u4e8e\\(v_k\\)\u4e0d\u662f\u72b6\u6001\u503c\uff0c\\(q_k\\)\u4e5f\u4e0d\u662f\u52a8\u4f5c\u503c\u3002</p>"},{"location":"Chapter-4/4-1/#412","title":"4.1.2 \u793a\u4f8b","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u7ed9\u51fa\u4e00\u4e2a\u4f8b\u5b50\uff0c\u4ee5\u8bf4\u660e\u503c\u8fed\u4ee3\u7b97\u6cd5\u7684\u9010\u6b65\u5b9e\u73b0\u8fc7\u7a0b\u3002\u8fd9\u4e2a\u4f8b\u5b50\u662f\u4e00\u4e2a\u4e24\u884c\u4e24\u5217\u7684\u7f51\u683c\uff0c\u5176\u4e2d\u5305\u542b\u4e00\u4e2a\u7981\u533a(\u56fe4.2)\u3002\u76ee\u6807\u533a\u57df\u4e3a\\(s_4\\)\u3002\u5956\u52b1\u8bbe\u7f6e\u4e3a\\(r_{boundary} = r_{forbidden} = \u22121\uff0cr_{target} = 1\\)\u3002\u6298\u73b0\u7387\u4e3a\\(\\gamma= 0.9\\)\u3002</p> <p></p> <p>\u56fe\\(4.2\\): \u4e00\u4e2a\u7528\u4e8e\u6f14\u793a\u503c\u8fed\u4ee3\u7b97\u6cd5\u5b9e\u73b0\u7684\u793a\u4f8b\u3002</p> <p>\u6bcf\u4e2a\u72b6\u6001-\u52a8\u4f5c\u5bf9\u7684q\u503c\u8868\u8fbe\u5f0f\u5982\u88684.1\u6240\u793a\u3002</p> <p></p> <p>\u8868\\(4.1\\): \u5982\u56fe\\(4.2\\)\u6240\u793a\u793a\u4f8b\u4e2d\\(q(s, a)\\)\u7684\u8868\u8fbe\u5f0f\u3002</p> <ul> <li> <p>\\(k=0\\):</p> <p>\u4e0d\u5931\u4e00\u822c\u6027\uff0c\u9009\u62e9\u521d\u59cb\u503c\u4e3a \\(v_0(s_1) = v_0(s_2) = v_0(s_3) = v_0(s_4) = 0\\)\u3002</p> <p>\\(q\\)\u503c\u8ba1\u7b97\uff1a\u5c06\\(v_0(s_i)\\)\u4ee3\u5165\u8868\\(4.1\\)\uff0c\u53ef\u5f97\u5230\u8868\\(4.2\\)\u4e2d\u6240\u793a\u7684\\(q\\)\u503c\u3002</p> <p>\u7b56\u7565\u66f4\u65b0: \\(\\pi_1\\)\u662f\u901a\u8fc7\u4e3a\u6bcf\u4e2a\u72b6\u6001\u9009\u62e9\u5177\u6709\u6700\u5927\\(q\\)\u503c\u7684\u52a8\u4f5c\u5f97\u5230\u7684\uff1a</p> \\[\\pi_1(a_5|s_1) = 1, \\quad \\pi_1(a_3|s_2) = 1, \\quad \\pi_1(a_2|s_3) = 1, \\quad \\pi_1(a_5|s_4) = 1.\\] <p>\u8be5\u7b56\u7565\u5728\u56fe\\(4.2\\)(\u4e2d\u95f4\u5b50\u56fe)\u4e2d\u8fdb\u884c\u4e86\u53ef\u89c6\u5316\u3002\u5f88\u660e\u663e\uff0c\u8be5\u7b56\u7565\u4e0d\u662f\u6700\u4f18\u7684\uff0c\u56e0\u4e3a\u5b83\u5728\\(s_1\\)\u65f6\u9009\u62e9\u4fdd\u6301\u4e0d\u52a8\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\\((s_1,a_5)\\)\u548c\\((s_1,a_3)\\)\u7684\\(q\\)\u503c\u5b9e\u9645\u4e0a\u662f\u76f8\u540c\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u968f\u673a\u9009\u62e9\u5176\u4e2d\u4efb\u4e00\u52a8\u4f5c\u3002</p> <p>\u503c\u66f4\u65b0\uff1a\\(v_1\\)\u662f\u901a\u8fc7\u5c06\u6bcf\u4e2a\u72b6\u6001\u7684\u6700\u5927\\(q\\)\u503c\u66f4\u65b0\u4e3a\\(v\\)\u503c\u5f97\u5230\u7684\uff1a</p> \\[v_1(s_1) = 0, \\quad v_1(s_2) = 1, \\quad v_1(s_3) = 1, \\quad v_1(s_4) = 1.\\] </li> </ul> <p></p> <p>\u8868\\(4.2\\): \u5728\\(k = 0\\)\u65f6\\(q(s,a)\\)\u7684\u503c\u3002</p> <ul> <li> <p>\\(k=1\\):  </p> <p>\\(q\\)\u503c\u8ba1\u7b97\uff1a\u5c06\\(v_1(s_i)\\)\u4ee3\u5165\u8868\\(4.1\\)\uff0c\u53ef\u5f97\u5230\u8868\\(4.3\\)\u4e2d\u6240\u793a\u7684\\(q\\)\u503c\u3002</p> <p>\u7b56\u7565\u66f4\u65b0: \\(\\pi_2\\)\u662f\u901a\u8fc7\u4e3a\u6bcf\u4e2a\u72b6\u6001\u9009\u62e9\u5177\u6709\u6700\u5927\\(q\\)\u503c\u7684\u52a8\u4f5c\u5f97\u5230\u7684\uff1a</p> \\[\\pi_1(a_3|s_1) = 1, \\quad \\pi_1(a_3|s_2) = 1, \\quad \\pi_1(a_2|s_3) = 1, \\quad \\pi_1(a_5|s_4) = 1.\\] <p>\u8be5\u7b56\u7565\u5728\u56fe\\(4.2\\)(\u53f3\u5b50\u56fe)\u4e2d\u8fdb\u884c\u4e86\u53ef\u89c6\u5316\u3002</p> <p>\u503c\u66f4\u65b0\uff1a\\(v_2\\)\u662f\u901a\u8fc7\u5c06\u6bcf\u4e2a\u72b6\u6001\u7684\\(v\\)\u503c\u66f4\u65b0\u4e3a\u6700\u5927\u7684\\(q\\)\u503c\u800c\u5f97\u5230\u7684\uff1a</p> \\[v_2(s_1) = \\gamma 1, \\quad v_2(s_2) = 1 + \\gamma 1, \\quad v_2(s_3) = 1 + \\gamma 1, \\quad v_2(s_4) = 1 + \\gamma 1.\\] </li> </ul> <p></p> <p>\u8868\\(4.3\\): \u5728\\(k = 1\\)\u65f6\\(q(s,a)\\)\u7684\u503c\u3002</p> <ul> <li> <p>\\(k=2,3,4,...\\)</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5982\u56fe\\(4.2\\)\u6240\u793a\uff0c\u7b56\u7565\\(\\pi_2\\)\u5df2\u7ecf\u662f\u6700\u4f18\u7684\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5728\u8fd9\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u4e2d\uff0c\u53ea\u9700\u8981\u8fd0\u884c\u4e24\u6b21\u8fed\u4ee3\u5373\u53ef\u83b7\u5f97\u6700\u4f18\u7b56\u7565\u3002\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u4f8b\u5b50\uff0c\u6211\u4eec\u9700\u8981\u8fd0\u884c\u66f4\u591a\u7684\u8fed\u4ee3\uff0c\u76f4\u5230\\(v_k\\)\u7684\u503c\u6536\u655b(\u4f8b\u5982\uff0c\u76f4\u5230\\(\\|v_{k+1}-v_k\\|\\)\u5c0f\u4e8e\u9884\u5148\u8bbe\u5b9a\u7684\u9608\u503c)\u3002</p> </li> </ul>"},{"location":"Chapter-4/4-2/","title":"4.2-\u7b56\u7565\u8fed\u4ee3","text":""},{"location":"Chapter-4/4-2/#_1","title":"\u7b56\u7565\u8fed\u4ee3","text":"<p>\u672c\u8282\u4ecb\u7ecd\u53e6\u4e00\u79cd\u91cd\u8981\u7684\u7b97\u6cd5\uff1a\u7b56\u7565\u8fed\u4ee3\u3002\u4e0e\u503c\u8fed\u4ee3\u4e0d\u540c\uff0c\u7b56\u7565\u8fed\u4ee3\u5e76\u4e0d\u662f\u76f4\u63a5\u6c42\u89e3\u8d1d\u5c14\u66fc\u6700\u4f18\u516c\u5f0f\u3002\u7136\u800c\uff0c\u5b83\u4e0e\u503c\u8fed\u4ee3\u6709\u7740\u5bc6\u5207\u7684\u5173\u7cfb\u3002\u7b56\u7565\u8fed\u4ee3\u7684\u601d\u60f3\u975e\u5e38\u91cd\u8981\uff0c\u5176\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u4e2d\u3002</p>"},{"location":"Chapter-4/4-2/#421","title":"4.2.1 \u7b97\u6cd5\u5206\u6790","text":"<p>\u7b56\u7565\u8fed\u4ee3\u662f\u4e00\u79cd\u8fed\u4ee3\u7b97\u6cd5\u3002\u6bcf\u6b21\u8fed\u4ee3\u5305\u542b\u4e24\u4e2a\u6b65\u9aa4\u3002</p> <ul> <li> <p>\u7b2c\u4e00\u6b65\u662f\u7b56\u7565\u8bc4\u4f30(policy evaluation)\u6b65\u9aa4\u3002\u987e\u540d\u601d\u4e49\uff0c\u8fd9\u4e00\u6b65\u901a\u8fc7\u8ba1\u7b97\u76f8\u5e94\u7684\u72b6\u6001\u503c\u6765\u8bc4\u4f30\u7ed9\u5b9a\u7684\u7b56\u7565\u3002\u5373\u6c42\u89e3\u4ee5\u4e0b\u8d1d\u5c14\u66fc\u65b9\u7a0b\uff1a</p> \\[v_{\\pi_k}=r_{\\pi_k}+\\gamma P_{\\pi_k}v_{\\pi_k},\\tag{4.3}\\] <p>\u5176\u4e2d\uff0c\\(\\pi_k\\)\u662f\u4e0a\u4e00\u6b21\u8fed\u4ee3\u4e2d\u5f97\u5230\u7684\u7b56\u7565\uff0c\\(v_{\\pi_k}\\)\u662f\u5f85\u8ba1\u7b97\u7684\u72b6\u6001\u503c\u3002\\(r_{\\pi_k}\\)\u548c\\(P_{\\pi_k}\\)\u7684\u503c\u53ef\u4ece\u7cfb\u7edf\u6a21\u578b\u4e2d\u83b7\u5f97\u3002</p> </li> <li> <p>\u7b2c\u4e8c\u4e2a\u662f\u7b56\u7565\u6539\u8fdb(policy improvement)\u6b65\u9aa4\u3002\u987e\u540d\u601d\u4e49\uff0c\u8fd9\u4e00\u6b65\u7528\u4e8e\u6539\u8fdb\u7b56\u7565\u3002\u5177\u4f53\u800c\u8a00\uff0c\u4e00\u65e6\u5728\u7b2c\u4e00\u6b65\u4e2d\u8ba1\u7b97\u51fa\\(v_{\\pi_k}\\)\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u7b56\u7565\\(\\pi_{k+1}\\)\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> \\[\\pi_{k+1}=\\arg\\max_\\pi(r_\\pi+\\gamma P_\\pi v_{\\pi_k}).\\] </li> </ul> <p>\u5728\u4e0a\u8ff0\u7b97\u6cd5\u63cf\u8ff0\u4e4b\u540e\uff0c\u81ea\u7136\u4f1a\u5f15\u51fa\u4e09\u4e2a\u95ee\u9898\u3002</p> <ul> <li>\u5728\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u4e2d\uff0c\u5982\u4f55\u6c42\u89e3\u72b6\u6001\u503c \\(v_{\\pi_k}\\)\uff1f </li> <li>\u5728\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u4e2d\uff0c\u4e3a\u4ec0\u4e48\u65b0\u7b56\u7565\\(\u03c0_{k+1}\\)\u6bd4\\(\\pi_k\\)\u66f4\u4f18\uff1f </li> <li>\u4e3a\u4ec0\u4e48\u8be5\u7b97\u6cd5\u6700\u7ec8\u80fd\u591f\u6536\u655b\u5230\u6700\u4f18\u7b56\u7565\uff1f</li> </ul> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u9010\u4e00\u56de\u7b54\u8fd9\u4e9b\u95ee\u9898\u3002</p>"},{"location":"Chapter-4/4-2/#q1-v_pi_k","title":"Q1: \u5728\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u4e2d\uff0c\u5982\u4f55\u6c42\u89e3\u72b6\u6001\u503c \\(v_{\\pi_k}\\)\uff1f","text":"<p>\u6211\u4eec\u5728\u7b2c\\(2\\)\u7ae0\u4e2d\u4ecb\u7ecd\u4e86\u4e24\u79cd\u6c42\u89e3\u5f0f\\((4.3)\\)\u4e2d\u7684\u8d1d\u5c14\u66fc\u516c\u5f0f\u7684\u65b9\u6cd5\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u7b80\u8981\u56de\u987e\u8fd9\u4e24\u79cd\u65b9\u6cd5\u3002\u7b2c\u4e00\u79cd\u65b9\u6cd5\u662f\u5c01\u95ed\u5f0f\u89e3\uff1a\\(v_{\\pi_k}=(I-\\gamma P_{\\pi_k})^{-1}r_{\\pi_k}\\)\u3002\u8fd9\u79cd\u5c01\u95ed\u5f62\u5f0f\u7684\u89e3\u5728\u7406\u8bba\u5206\u6790\u4e2d\u5f88\u6709\u7528\uff0c\u4f46\u7531\u4e8e\u8ba1\u7b97\u9006\u77e9\u9635\uff0c\u56e0\u6b64\u5b9e\u73b0\u8d77\u6765\u6548\u7387\u8f83\u4f4e\u3002\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u662f\u4e00\u79cd\u6613\u4e8e\u5b9e\u73b0\u7684\u8fed\u4ee3\u7b97\u6cd5\uff1a</p> \\[v_{\\pi_k}^{(j+1)}=r_{\\pi_k}+\\gamma P_{\\pi_k}v_{\\pi_k}^{(j)},\\quad j=0,1,2,...,\\tag{4.4}\\] <p>\u5176\u4e2d\uff0c\\(v^{(j)}_{\u03c0_k}\\)\u8868\u793a\\(v_{\\pi_k}\\)\u7684\u7b2c\\(j\\)\u6b21\u4f30\u8ba1\u3002\u4ece\u4efb\u610f\u521d\u59cb\u731c\u6d4b\\(v^{(0)}_{\\pi_k}\\)\u5f00\u59cb\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u5f53\\(j \\rightarrow \\infty\\)\u65f6\uff0c\\(v^{(j)}_{\\pi_k}\\rightarrow v_{\\pi_k}\\)\u3002\u5177\u4f53\u7ec6\u8282\u8bf7\u53c2\u89c1\u7b2c\\(2.7\\)\u8282\u3002</p> <p>\u6709\u8da3\u7684\u662f\uff0c\u7b56\u7565\u8fed\u4ee3\u662f\u4e00\u4e2a\u8fed\u4ee3\u7b97\u6cd5\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u53e6\u4e00\u4e2a\u8fed\u4ee3\u7b97\u6cd5\\((4.4)\\)\uff0c\u8be5\u7b97\u6cd5\u5728\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u4e2d\u6267\u884c\u3002\u4ece\u7406\u8bba\u4e0a\u8bb2\uff0c\u8fd9\u4e2a\u5305\u542b\u7684\u8fed\u4ee3\u7b97\u6cd5\u9700\u8981\u65e0\u9650\u6b21\u7684\u6b65\u9aa4(\u5373 \\(j \\to \\infty\\))\u624d\u80fd\u6536\u655b\u5230\u771f\u5b9e\u7684\u72b6\u6001\u503c \\(v_{\\pi_k}\\)\u3002\u7136\u800c\uff0c\u8fd9\u662f\u4e0d\u53ef\u80fd\u5b9e\u73b0\u7684\u3002\u5728\u5b9e\u9645\u64cd\u4f5c\u4e2d\uff0c\u8fed\u4ee3\u8fc7\u7a0b\u4f1a\u5728\u6ee1\u8db3\u67d0\u4e2a\u6807\u51c6\u65f6\u7ec8\u6b62\u3002\u4f8b\u5982\uff0c\u7ec8\u6b62\u6807\u51c6\u53ef\u4ee5\u662f \\(\\| v_{\\pi_k}^{(j+1)} - v_{\\pi_k}^{(j)}\\|\\)\u5c0f\u4e8e\u9884\u8bbe\u7684\u9608\u503c\uff0c\u6216\u8005\\(j\\)\u8d85\u8fc7\u9884\u8bbe\u7684\u503c\u3002\u5982\u679c\u6211\u4eec\u4e0d\u8fdb\u884c\u65e0\u9650\u6b21\u7684\u8fed\u4ee3\uff0c\u6211\u4eec\u53ea\u80fd\u5f97\u5230\u4e00\u4e2a\u4e0d\u7cbe\u786e\u7684\\(v_{\\pi_k}\\)\u503c\uff0c\u8fd9\u4e2a\u503c\u5c06\u5728\u968f\u540e\u7684\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u4e2d\u4f7f\u7528\u3002\u8fd9\u4f1a\u9020\u6210\u95ee\u9898\u5417\uff1f\u7b54\u6848\u662f\u5426\u5b9a\u7684\u3002\u539f\u56e0\u5c06\u5728\u6211\u4eec\u540e\u9762\u4ecb\u7ecd\u7684\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5(\\(4.3\\)\u8282)\u4e2d\u53d8\u5f97\u6e05\u6670\u3002</p> <p>Note</p> <p>\u6ce8: \u8fd9\u4e2a\u5730\u65b9\u9700\u8981\u91cd\u70b9\u7406\u89e3\u4e00\u4e0b\u8fd9\u4e24\u4e2a\u8fed\u4ee3\u4e4b\u95f4\u7684\u533a\u522b\uff0c\u907f\u514d\u540e\u9762\u5f04\u6df7\u3002</p>"},{"location":"Chapter-4/4-2/#q2-_k1pi_k","title":"Q2: \u5728\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u4e2d\uff0c\u4e3a\u4ec0\u4e48\u65b0\u7b56\u7565\\(\u03c0_{k+1}\\)\u6bd4\\(\\pi_k\\)\u66f4\u4f18\uff1f","text":"<p>\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u53ef\u4ee5\u6539\u8fdb\u7ed9\u5b9a\u7684\u7b56\u7565\uff0c\u5982\u4e0b\u6240\u793a\u3002</p> <p>Info</p> <p>\u5f15\u74064.1(\u7b56\u7565\u6539\u8fdb). \u82e5 \\(\\pi_{k+1} = \\arg\\max_\\pi(r_\\pi + \\gamma P_\\pi v_\\pi^k)\\)\uff0c\u5219\\(v_{\\pi_{k+1}} \\geq v_{\\pi_k}\\)\u3002</p> <p>\u8fd9\u91cc\uff0c\\(v_{\\pi_{k+1}}  \\geq v_{\\pi_k}\\)\u8868\u793a\u5bf9\u4e8e\u6240\u6709\u72b6\u6001\\(s\\)\uff0c\u6709\\(v_{\\pi_{k+1}}(s) \u2265 v_{\\pi_k}(s)\\)\u3002\u8be5\u5f15\u7406\u7684\u8bc1\u660e\u89c1\u65b9\u6846 4.1\u3002</p>"},{"location":"Chapter-4/4-2/#q3","title":"Q3: \u4e3a\u4ec0\u4e48\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u6700\u7ec8\u80fd\u591f\u627e\u5230\u6700\u4f18\u7b56\u7565\uff1f","text":"<p>\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u751f\u6210\u4e24\u4e2a\u5e8f\u5217\u3002\u7b2c\u4e00\u4e2a\u662f\u7b56\u7565\u5e8f\u5217\uff1a\\(\\{\\pi_0,\\pi_1,...,\\pi_k, ...\\}\\)\u3002\u7b2c\u4e8c\u4e2a\u662f\u72b6\u6001\u503c\u5e8f\u5217\uff1a\\(\\{v_{\\pi_0}, v_{\\pi_1},...,v_{\\pi_k},...\\}\\)\u3002\u5047\u8bbe\\(v^*\\)\u662f\u6700\u4f73\u72b6\u6001\u503c\uff0c\u5219\u5bf9\u4e8e\u6240\u6709\\(k\\)\uff0c\u6709\\(v_{\\pi_k}\\leq v^*\\)\u3002\u7531\u4e8e\u6839\u636e\u5f15\u74064.1\uff0c\u7b56\u7565\u4e0d\u65ad\u6539\u8fdb\uff0c\u56e0\u6b64\u6211\u4eec\u77e5\u9053</p> \\[v_{\\pi_0}\\leq v_{\\pi_1}\\leq v_{\\pi_2}\\leq\\cdots\\leq v_{\\pi_k}\\leq\\cdots\\leq v^*.\\] <p>\u7531\u4e8e\\(v_{\\pi_k}\\)\u662f\u975e\u9012\u51cf\u7684\uff0c\u5e76\u4e14\u59cb\u7ec8\u88ab\\(v^\u2217\\)\u4e0a\u754c\u6240\u9650\u5236\uff0c\u56e0\u6b64\u6839\u636e\u5355\u8c03\u6536\u655b\u5b9a\u7406[12]\uff0c\u5f53\\(k\\rightarrow\\infty\\) \u65f6\uff0c\\(v_{\\pi_k}\\)\u6536\u655b\u5230\u4e00\u4e2a\u5e38\u6570\u503c\uff0c\u8bb0\u4e3a \\(v_\\infty\\)\u3002\u4ee5\u4e0b\u5206\u6790\u8868\u660e\\(v_\\infty=v^*\\)\u3002</p> <p>Info</p> <p>\u5b9a\u74064.1. (\u7b56\u7565\u8fed\u4ee3\u7684\u6536\u655b\u6027)\u7531\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u751f\u6210\u7684\u72b6\u6001\u503c\u5e8f\u5217\\(\\{v_{\\pi_k}\\}_{k=0}^{\\infty}\\)\u6536\u655b\u5230\u6700\u4f18\u72b6\u6001\u503c\\(v^\u2217\\)\u3002\u56e0\u6b64\uff0c\u7b56\u7565\u5e8f\u5217\\(\\{\\pi_k\\}^\\infty_{k=0}\\)\u6536\u655b\u5230\u4e00\u4e2a\u6700\u4f18\u7b56\u7565\u3002</p> <p>\u8be5\u5b9a\u7406\u7684\u8bc1\u660e\u89c1\u65b9\u6846\\(4.2\\)\u3002\u8be5\u8bc1\u660e\u4e0d\u4ec5\u8868\u660e\u4e86\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u7684\u6536\u655b\u6027\uff0c\u8fd8\u63ed\u793a\u4e86\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u4e0e\u503c\u8fed\u4ee3\u7b97\u6cd5\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u4ece\u76f4\u89c2\u4e0a\u8bb2\uff0c\u5982\u679c\u4e24\u79cd\u7b97\u6cd5\u5747\u4ece\u76f8\u540c\u7684\u521d\u59cb\u731c\u6d4b\u5f00\u59cb\uff0c\u7531\u4e8e\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u4e2d\u5d4c\u5165\u4e86\u989d\u5916\u7684\u8fed\u4ee3\uff0c\u7b56\u7565\u8fed\u4ee3\u7684\u6536\u655b\u901f\u5ea6\u5c06\u6bd4\u503c\u8fed\u4ee3\u66f4\u5feb\u3002\u5f53\u6211\u4eec\u5c06\u5728\u7b2c\\(4.3\\)\u8282\u4e2d\u4ecb\u7ecd\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u65f6\uff0c\u8fd9\u4e00\u70b9\u5c06\u53d8\u5f97\u66f4\u52a0\u6e05\u6670\u3002</p>"},{"location":"Chapter-4/4-2/#422","title":"4.2.2 \u9010\u5143\u7d20\u5f62\u5f0f\u4e0e\u5b9e\u73b0","text":"<p>\u4e3a\u4e86\u5b9e\u73b0\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\uff0c\u6211\u4eec\u9700\u8981\u7814\u7a76\u5176\u9010\u5143\u7d20\u5f62\u5f0f\u3002</p> <ul> <li> <p>\u9996\u5148\uff0c\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u901a\u8fc7\\((4.4)\\)\u4e2d\u7684\u8fed\u4ee3\u7b97\u6cd5\u6765\u6c42\u89e3\\(v_{\\pi_k} = r_{\\pi_k} + \\gamma P_{\\pi_k}v_{\\pi_k}\\)\u4e2d\u7684\\(v_{\\pi_k}\\)\uff0c\u8be5\u7b97\u6cd5\u7684\u9010\u5143\u7d20\u5f62\u5f0f\u4e3a</p> \\[v_{\\pi_{k}}^{(j+1)}(s)=\\sum_{a}\\pi_{k}(a|s)\\left(\\sum_{r}p(r|s,a)r+\\gamma\\sum_{s^{\\prime}}p(s^{\\prime}|s,a)v_{\\pi_{k}}^{(j)}(s^{\\prime})\\right),\\quad s\\in\\mathcal{S},\\] <p>\u5728\u8fd9\u91cc\\(j=0,1,2,...\\)</p> <p>\u5f53\\(j\\to\\infty\\)\uff0c\\(j\\)\u8db3\u591f\u5927\u6216\\(\\|v_{\\pi_{k}}^{(j+1)}-v_{\\pi_{k}}^{(j)}\\|\\)\u8db3\u591f\u5c0f\u65f6\u65f6\u505c\u6b62\u8fed\u4ee3\u3002</p> </li> <li> <p>\u5176\u6b21\uff0c\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u6c42\u89e3\\(\\pi_{k+1} = \\arg \\max_\\pi(r_\\pi + \\gamma P_\\pi v_{\\pi_k})\\)\u3002\u8be5\u65b9\u7a0b\u7684\u5143\u7d20\u5f62\u5f0f\u4e3a</p> \\[\\pi_{k+1}(s)=\\arg\\max_{\\pi}\\sum_{a}\\pi(a|s)\\underbrace{\\left(\\sum_{r}p(r|s,a)r+\\gamma\\sum_{s^{\\prime}}p(s^{\\prime}|s,a)v_{\\pi_{k}}(s^{\\prime})\\right)}_{q_{\\pi_{k}}(s,a)},\\quad s\\in\\mathcal{S},\\] <p>\u5176\u4e2d \\(q_{\\pi_k}(s,a)\\)\u662f\u7b56\u7565\\(\\pi_k\\)\u4e0b\u7684\u884c\u52a8\u503c\u3002\u4ee4\\(a^*_k(s) =\\arg\\max_a q_{\\pi_k}(s,a)\\)\u3002\u90a3\u4e48\uff0cGreedy\u6700\u4f18\u7b56\u7565\u4e3a</p> \\[\\pi_{k+1}(a|s)=\\left\\{\\begin{array}{ll}1,&amp;a=a_k^*(s),\\\\0,&amp;a\\neq a_k^*(s).\\end{array}\\right.\\] </li> </ul> <p>\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\u5728\u7b97\u6cd5\\(4.2\\)\u4e2d\u603b\u7ed3\u3002</p> <p></p> <p>\u7b97\u6cd5\\(4.2\\): \u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u7684\u4f2a\u4ee3\u7801</p>"},{"location":"Chapter-4/4-2/#423","title":"4.2.3 \u793a\u4f8b","text":""},{"location":"Chapter-4/4-2/#_2","title":"\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50","text":"<p>\u8003\u8651\u56fe\\(4.3\\)\u4e2d\u6240\u793a\u7684\u4e00\u4e2a\u7b80\u5355\u793a\u4f8b\u3002\u6709\u4e24\u4e2a\u72b6\u6001\uff0c\u6bcf\u4e2a\u72b6\u6001\u6709\u4e09\u79cd\u53ef\u80fd\u7684\u52a8\u4f5c\uff1a\\(\\mathcal{A} = \\{a_l, a_0, a_r\\}\\)\u3002\u8fd9\u4e09\u79cd\u52a8\u4f5c\u5206\u522b\u8868\u793a\u5411\u5de6\u79fb\u52a8\u3001\u4fdd\u6301\u4e0d\u53d8\u548c\u5411\u53f3\u79fb\u52a8\u3002\u5956\u52b1\u8bbe\u7f6e\u4e3a\\(r_{boundary} = \u22121\\)\u548c\\(r_{target} = 1\\)\u3002\u6298\u73b0\u7387\u4e3a\\(\\gamma = 0.9\\)\u3002</p> <p></p> <p>\u56fe4.3: \u4e00\u4e2a\u7528\u4e8e\u8bf4\u660e\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u5b9e\u73b0\u7684\u793a\u4f8b\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u9010\u6b65\u4ecb\u7ecd\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u7684\u5b9e\u73b0\u8fc7\u7a0b\u3002\u5f53\\(k = 0\\)\u65f6\uff0c\u6211\u4eec\u4ece\u56fe\\(4.3(a)\\)\u6240\u793a\u7684\u521d\u59cb\u7b56\u7565\u5f00\u59cb\u3002\u8be5\u7b56\u7565\u5e76\u4e0d\u7406\u60f3\uff0c\u56e0\u4e3a\u5b83\u6ca1\u6709\u671d\u7740\u76ee\u6807\u533a\u57df\u79fb\u52a8\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u5c55\u793a\u5982\u4f55\u5e94\u7528\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u6765\u83b7\u5f97\u6700\u4f18\u7b56\u7565\u3002</p> <ul> <li> <p>\u9996\u5148\uff0c\u5728\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u6c42\u89e3\u8d1d\u5c14\u66fc\u516c\u5f0f:</p> \\[\\begin{aligned}v_{\\pi_0}(s_1) &amp;= -1 + \\gamma v_{\\pi_0}(s_1), \\\\v_{\\pi_0}(s_2) &amp;= 0 + \\gamma v_{\\pi_0}(s_1).\\end{aligned}\\] <p>\u7531\u4e8e\u8be5\u516c\u5f0f\u5f88\u7b80\u5355\uff0c\u53ef\u4ee5\u624b\u52a8\u6c42\u89e3\u5f97\u51fa\uff1a</p> \\[v_{\\pi_0}(s_1) = -10, \\\\v_{\\pi_0}(s_2)= -9.\\] <p>\u5728\u5b9e\u8df5\u4e2d\uff0c\u8be5\u65b9\u7a0b\u53ef\u4ee5\u901a\u8fc7\\((4.4)\\)\u4e2d\u7684\u8fed\u4ee3\u7b97\u6cd5\u6c42\u89e3\u3002\u4f8b\u5982\uff0c\u9009\u62e9\u521d\u59cb\u72b6\u6001\u503c\u4e3a\\(v_{\\pi_0}^{(0)}(s_1) = v_{\\pi_0}^{(0)}(s_2) = 0.\\)\u3002\u6839\u636e(4.4)\u53ef\u77e5\uff0c</p> \\[\\begin{cases}v_{\\pi_0}^{(1)}(s_1) = -1 + \\gamma v_{\\pi_0}^{(0)}(s_1) = -1, \\\\ v_{\\pi_0}^{(1)}(s_2) = 0 + \\gamma v_{\\pi_0}^{(0)}(s_1) = 0, \\end{cases}\\] \\[\\begin{cases}v_{\\pi_0}^{(2)}(s_1) = -1 + \\gamma v_{\\pi_0}^{(1)}(s_1) = -1.9, \\\\ v_{\\pi_0}^{(2)}(s_2) = 0 + \\gamma v_{\\pi_0}^{(1)}(s_1) = -0.9, \\end{cases}\\] \\[\\begin{cases}v_{\\pi_0}^{(3)}(s_1) = -1 + \\gamma v_{\\pi_0}^{(2)}(s_1) = -2.71, \\\\ v_{\\pi_0}^{(3)}(s_2) = 0 + \\gamma v_{\\pi_0}^{(2)}(s_1) = -1.71.\\end{cases}\\] <p>\u968f\u7740\u66f4\u591a\u6b21\u8fed\u4ee3\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u8d8b\u52bf\uff1a\u968f\u7740\\(j\\)\u7684\u589e\u52a0\uff0c\u6709\\(v_{\\pi_{0}}^{(j)}(s_{1})\\to v_{\\pi_{0}}(s_{1})=-10\\),\\(v_{\\pi_{0}}^{(j)}(s_{2})\\to v_{\\pi_{0}}(s_{2})=-9\\)</p> </li> <li> <p>\u5176\u6b21\uff0c\u5728\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u4e2d\uff0c\u5173\u952e\u662f\u8981\u4e3a\u6bcf\u4e2a\u72b6\u6001-\u52a8\u4f5c\u5bf9\u8ba1\u7b97\\(q_{\\pi_0}(s,a)\\)\u3002\u4ee5\u4e0b\\(q\\)\u8868\u53ef\u4ee5\u7528\u6765\u6f14\u793a\u8fd9\u4e00\u8fc7\u7a0b\uff1a</p> <p></p> <p>\u8868\\(4.4\\): \u56fe\\(4.3\\)\u4e2d\u793a\u4f8b\u7684\\(q_{\\pi_k}(s,a)\\)\u7684\u8868\u8fbe\u5f0f\u3002</p> <p>\u5c06\u4e0a\u4e00\u6b65\u7b56\u7565\u8bc4\u4f30\u4e2d\u5f97\u5230\u7684\\(v_{\\pi_0}(s_1) = \u221210\\)\u548c\\(v_{\\pi_0}(s_2) = \u22129\\) \u4ee3\u5165\u8868\\(4.4\\)\uff0c\u53ef\u5f97\u5230\u8868\\(4.5\\)\u3002</p> <p></p> <p>\u8868\\(4.5\\): \u5f53\\(k=0\\)\u65f6\uff0c\\(q_{\\pi_k}(s,a)\\)\u7684\u503c\u3002</p> <p>\u901a\u8fc7\u5bfb\u6c42\\(q_{\\pi_0}\\)\u7684\u6700\u5927\u503c\uff0c\u53ef\u4ee5\u5f97\u5230\u6539\u8fdb\u540e\u7684\u7b56\u7565\\(\\pi_1\\)\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> \\[\\pi_1(a_r|s_1)=1,\\quad\\pi_1(a_0|s_2)=1.\\] <p>\u4e0a\u8ff0\u8fc7\u7a0b\u8868\u660e\uff0c\u5728\u8fd9\u4e2a\u7b80\u5355\u793a\u4f8b\u4e2d\uff0c\u4e00\u6b21\u8fed\u4ee3\u5c31\u8db3\u4ee5\u627e\u5230\u6700\u4f18\u7b56\u7565\u3002\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u793a\u4f8b\uff0c\u5219\u9700\u8981\u66f4\u591a\u7684\u8fed\u4ee3\u3002</p> </li> </ul>"},{"location":"Chapter-4/4-2/#_3","title":"\u4e00\u4e2a\u590d\u6742\u7684\u4f8b\u5b50","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u56fe\\(4.4\\)\u6240\u793a\u7684\u4e00\u4e2a\u66f4\u590d\u6742\u7684\u4f8b\u5b50\u6765\u6f14\u793a\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u3002\u5956\u52b1\u8bbe\u7f6e\u4e3a\uff1a\\(r_{boundary} = \u22121\uff0cr_{forbidden} = \u221210\uff0cr_{target} = 1\\)\u3002\u6298\u73b0\u7387\u4e3a\\(\\gamma = 0.9\\)\u3002\u5f53\u4ece\u4e00\u4e2a\u968f\u673a\u521d\u59cb\u7b56\u7565(\u56fe\\(4.4(a)\\))\u5f00\u59cb\u65f6\uff0c\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u53ef\u4ee5\u6536\u655b\u5230\u6700\u4f18\u7b56\u7565(\u56fe\\(4.4(h)\\))\u3002</p> <p></p> <p>\u56fe\\(4.4\\): \u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u751f\u6210\u7684\u7b56\u7565\u7684\u6f14\u5316\u8fc7\u7a0b\u3002</p> <p>\u5728\u8fed\u4ee3\u8fc7\u7a0b\u4e2d\u89c2\u5bdf\u5230\u4e24\u79cd\u6709\u8da3\u7684\u73b0\u8c61\u3002</p> <ul> <li> <p>\u9996\u5148\uff0c\u5982\u679c\u6211\u4eec\u89c2\u5bdf\u653f\u7b56\u7684\u6f14\u53d8\u8fc7\u7a0b\uff0c\u4f1a\u53d1\u73b0\u4e00\u4e2a\u6709\u8da3\u7684\u89c4\u5f8b\uff1a\u90a3\u4e9b\u9760\u8fd1\u76ee\u6807\u533a\u57df\u7684\u72b6\u6001\u4f1a\u6bd4\u8fdc\u79bb\u76ee\u6807\u533a\u57df\u7684\u72b6\u6001\u66f4\u65e9\u627e\u5230\u6700\u4f18\u7b56\u7565\u3002\u53ea\u6709\u5f53\u9760\u8fd1\u76ee\u6807\u533a\u57df\u7684\u72b6\u6001\u80fd\u591f\u7387\u5148\u627e\u5230\u901a\u5f80\u76ee\u6807\u7684\u8def\u5f84\u65f6\uff0c\u8fdc\u79bb\u76ee\u6807\u533a\u57df\u7684\u72b6\u6001\u624d\u80fd\u901a\u8fc7\u7ecf\u8fc7\u8fd9\u4e9b\u9760\u8fd1\u76ee\u6807\u7684\u72b6\u6001\u6765\u627e\u5230\u901a\u5f80\u76ee\u6807\u7684\u8def\u5f84\u3002</p> </li> <li> <p>\u5176\u6b21\uff0c\u72b6\u6001\u503c\u7684\u7a7a\u95f4\u5206\u5e03\u5448\u73b0\u51fa\u4e00\u79cd\u6709\u8da3\u7684\u6a21\u5f0f\uff1a\u8ddd\u79bb\u76ee\u6807\u8d8a\u8fd1\u7684\u72b6\u6001\uff0c\u5176\u72b6\u6001\u503c\u8d8a\u5927\u3002\u8fd9\u79cd\u6a21\u5f0f\u7684\u539f\u56e0\u5728\u4e8e\uff0c\u4ece\u8f83\u8fdc\u72b6\u6001\u5f00\u59cb\u7684\u667a\u80fd\u4f53\u9700\u8981\u7ecf\u8fc7\u8bb8\u591a\u6b65\u624d\u80fd\u83b7\u5f97\u6b63\u5411\u5956\u52b1\u3002\u800c\u8fd9\u79cd\u5956\u52b1\u4f1a\u88ab\u4e25\u91cd\u6298\u73b0\uff0c\u56e0\u6b64\u76f8\u5bf9\u8f83\u5c0f\u3002</p> </li> </ul>"},{"location":"Chapter-4/4-3/","title":"4.3-\u622a\u65ad\u7b56\u7565\u8fed\u4ee3","text":""},{"location":"Chapter-4/4-3/#43","title":"4.3 \u622a\u65ad\u7b56\u7565\u8fed\u4ee3","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e00\u79cd\u66f4\u901a\u7528\u7684\u7b97\u6cd5\uff0c\u79f0\u4e3a\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u3002\u6211\u4eec\u4f1a\u770b\u5230\uff0c\u503c\u8fed\u4ee3\u7b97\u6cd5\u548c\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u662f\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u7684\u4e24\u79cd\u7279\u6b8a\u60c5\u51b5\u3002</p>"},{"location":"Chapter-4/4-3/#431","title":"4.3.1 \u6bd4\u8f83\u503c\u8fed\u4ee3\u4e0e\u7b56\u7565\u8fed\u4ee3","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u901a\u8fc7\u5217\u51fa\u4ee5\u4e0b\u6b65\u9aa4\u6765\u6bd4\u8f83\u503c\u8fed\u4ee3\u548c\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u3002</p> <ul> <li> <p>\u7b56\u7565\u8fed\u4ee3\uff1a\u9009\u62e9\u4efb\u610f\u4e00\u4e2a\u7684\u521d\u59cb\u7b56\u7565 \\(\\pi_0\\)\u3002\u5728\u7b2c\\(k\\)\u6b21\u8fed\u4ee3\u4e2d\uff0c\u6267\u884c\u4ee5\u4e0b\u4e24\u4e2a\u6b65\u9aa4\u3002</p> <ul> <li> <p>\u6b65\u9aa4 1\uff1a\u7b56\u7565\u8bc4\u4f30(PE)\u3002\u7ed9\u5b9a\\(\\pi_k\\)\uff0c\u6c42\u89e3\\(v_{\\pi_k}\\)\uff0c\u6ee1\u8db3</p> \\[v_{\\pi_k}=r_{\\pi_k}+\\gamma P_{\\pi_k}v_{\\pi_k}.\\] </li> <li> <p>\u6b65\u9aa4 2\uff1a\u7b56\u7565\u6539\u8fdb(PI)\u3002\u7ed9\u5b9a\\(v_{\\pi_k}\\)\uff0c\u4ece\u4ee5\u4e0b\u516c\u5f0f\u6c42\u89e3\\(\\pi_{k+1}\\)\uff1a</p> \\[\\pi_{k+1}=\\arg\\max_\\pi(r_\\pi+\\gamma P_\\pi v_{\\pi_k}).\\] </li> </ul> </li> <li> <p>\u503c\u8fed\u4ee3\uff1a\u9009\u62e9\u4efb\u610f\u4e00\u4e2a\u7684\u521d\u59cb\u503c\\(v_0\\)\u3002\u5728\u7b2c\\(k\\)\u6b21\u8fed\u4ee3\u4e2d\uff0c\u6267\u884c\u4ee5\u4e0b\u4e24\u4e2a\u6b65\u9aa4\u3002</p> <ul> <li> <p>\u6b65\u9aa4 1\uff1a\u7b56\u7565\u66f4\u65b0(PU)\u3002\u7ed9\u5b9a\\(v_k\\)\uff0c\u4ece\u4ee5\u4e0b\u516c\u5f0f\u6c42\u89e3\\(\\pi_{k+1}\\)\uff1a</p> \\[\\pi_{k+1}=\\arg\\max_\\pi(r_\\pi+\\gamma P_\\pi v_{\\pi_k}).\\] </li> <li> <p>\u6b65\u9aa42: \u503c\u66f4\u65b0(VU)\u3002\u7ed9\u5b9a\\(\\pi_{k+1}\\)\uff0c\u4ece\u4ee5\u4e0b\u5f0f\u5b50\u4e2d\u6c42\u89e3\\(v_{k+1}\\)\uff1a</p> \\[v_{k+1}=r_{\\pi_{k+1}}+\\gamma P_{\\pi_{k+1}}v_{k}.\\] </li> </ul> </li> </ul> <p>\u4e0a\u8ff0\u4e24\u4e2a\u7b97\u6cd5\u7684\u6b65\u9aa4\u53ef\u4ee5\u8868\u793a\u4e3a:</p> \\[\\begin{aligned}\\text{Policy iteration:} \\quad \\pi_0 \\xrightarrow{\\text{PE}} &amp;v_{\\pi_0} \\xrightarrow{\\text{PI}} \\pi_1 \\xrightarrow{\\text{PE}} v_{\\pi_1} \\xrightarrow{\\text{PI}} \\pi_2 \\xrightarrow{\\text{PE}} v_{\\pi_2} \\xrightarrow{\\text{PI}} \\cdots\\\\\\text{Value iteration:} \\quad &amp;v_0 \\xrightarrow{\\text{PU}} \\pi_1^\\prime \\xrightarrow{\\text{VU}} v_1 \\xrightarrow{\\text{PU}} \\pi_2^\\prime \\xrightarrow{\\text{VU}} v_2 \\xrightarrow{\\text{PU}} \\cdots\\end{aligned}\\] <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u4e24\u79cd\u7b97\u6cd5\u7684\u6b65\u9aa4\u975e\u5e38\u76f8\u4f3c\u3002</p> <p></p> <p>\u56fe\\(4.6\\): \u7b56\u7565\u8fed\u4ee3\u4e0e\u503c\u8fed\u4ee3\u7684\u5b9e\u73b0\u6b65\u9aa4\u6bd4\u8f83\u3002</p> <p>\u6211\u4eec\u66f4\u4ed4\u7ec6\u5730\u8003\u5bdf\u5b83\u4eec\u7684\u4ef7\u503c\u6b65\u9aa4\uff0c\u4ee5\u4e86\u89e3\u8fd9\u4e24\u79cd\u7b97\u6cd5\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u7279\u522b\u5730\uff0c\u8ba9\u4e24\u79cd\u7b97\u6cd5\u90fd\u4ece\u76f8\u540c\u7684\u521d\u59cb\u6761\u4ef6\u5f00\u59cb\uff1a\\(v_0 = v_{\\pi_0}\\)\u3002\u4e24\u79cd\u7b97\u6cd5\u7684\u6b65\u9aa4\u5217\u4e8e\u8868\\(4.6\\)\u4e2d\u3002\u5728\u6700\u521d\u7684\u4e09\u4e2a\u6b65\u9aa4\u4e2d\uff0c\u7531\u4e8e\\(v_0=v_{\\pi_0}\\)\uff0c\u4e24\u79cd\u7b97\u6cd5\u751f\u6210\u4e86\u76f8\u540c\u7684\u7ed3\u679c\u3002\u5b83\u4eec\u5728\u7b2c\u56db\u6b65\u53d8\u5f97\u6709\u6240\u4e0d\u540c\u3002\u5728\u7b2c\u56db\u6b65\u4e2d\uff0c\u503c\u8fed\u4ee3\u7b97\u6cd5\u6267\u884c\\(v_1=r_{\\pi_1}+\\gamma P_{\\pi_1}v_0,\\)\uff0c\u8fd9\u662f\u4e00\u4e2a\u4e00\u6b65\u8ba1\u7b97\uff1b\u800c\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u6c42\u89e3\\(v_{\\pi_{1}}=r_{\\pi_{1}}+\\gamma P_{\\pi_{1}}v_{\\pi_{1}},\\)\uff0c\u5219\u9700\u8981\u8fdb\u884c\u65e0\u9650\u6b21\u8fed\u4ee3\u3002\u5982\u679c\u6211\u4eec\u663e\u5f0f\u5199\u51fa\u7b2c\u56db\u6b65\u4e2d\u6c42\u89e3\\(v_{\\pi_1}=r_{\\pi_1}+\\gamma P_{\\pi_1}v_{\\pi_1}\\)\u7684\u8fed\u4ee3\u8fc7\u7a0b\uff0c\u4e00\u5207\u5c31\u4f1a\u53d8\u5f97\u6e05\u6670\u3002\u901a\u8fc7\u4ee4\\(v_{\\pi_1}^{(0)}=v_0\\)\uff0c\u6211\u4eec\u6709</p> <p>Note</p> <p>\u6ce8: \u53ef\u4ee5\u53d1\u73b0\uff0c\\(v_1\\)\u5e76\u4e0d\u662f\u771f\u6b63\u7684\u72b6\u6001\u503c\uff0c\\(v_{\\pi_1}\\)\u5374\u662f\u72b6\u6001\u503c\u3002</p> <p>\u4ece\u4e0a\u8ff0\u8fc7\u7a0b\u53ef\u4ee5\u5f97\u51fa\u4ee5\u4e0b\u89c2\u5bdf\u7ed3\u679c\u3002</p> <ul> <li>\u5982\u679c\u8fed\u4ee3\u4ec5\u8fd0\u884c\u4e00\u6b21\uff0c\u5219 \\( v_{\\pi_1}^{(1)} \\) \u5b9e\u9645\u4e0a\u5c31\u662f\u5728\u503c\u8fed\u4ee3\u7b97\u6cd5\u4e2d\u8ba1\u7b97\u51fa\u7684 \\( v_1 \\)\u3002</li> <li>\u5982\u679c\u8fed\u4ee3\u8fd0\u884c\u65e0\u9650\u6b21\uff0c\u5219 \\( v_{\\pi_1}^{(\\infty)} \\) \u5b9e\u9645\u4e0a\u5c31\u662f\u5728\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u4e2d\u8ba1\u7b97\u51fa\u7684 \\( v_{\\pi_1} \\)\u3002</li> <li>\u5982\u679c\u8fed\u4ee3\u8fd0\u884c\u6709\u9650\u6b21\u6570\uff08\u8bb0\u4e3a \\( j_{\\text{truncate}} \\)\uff09\uff0c\u5219\u8be5\u7b97\u6cd5\u79f0\u4e3a\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u3002\u4e4b\u6240\u4ee5\u79f0\u4e3a\u622a\u65ad\uff0c\u662f\u56e0\u4e3a\u4ece \\( j_{\\text{truncate}} \\) \u5230 \\( \\infty \\) \u7684\u5269\u4f59\u8fed\u4ee3\u88ab\u622a\u65ad\u4e86\u3002</li> </ul> <p>\u56e0\u6b64\uff0c\u503c\u8fed\u4ee3\u7b97\u6cd5\u548c\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u53ef\u4ee5\u88ab\u89c6\u4e3a\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u7684\u4e24\u79cd\u6781\u7aef\u60c5\u51b5\uff1a\u503c\u8fed\u4ee3\u5728\\(j_{\\text{truncate}}=1\\)\u65f6\u7ec8\u6b62\uff0c\u7b56\u7565\u8fed\u4ee3\u5728\\(j_{\\text{truncate}}=\\infty\\)\u65f6\u7ec8\u6b62\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5c3d\u7ba1\u4e0a\u8ff0\u6bd4\u8f83\u5177\u6709\u8bf4\u660e\u6027\uff0c\u4f46\u5b83\u57fa\u4e8e\\(v_{\\pi_1}^{(0)} = v_0 = v_{\\pi_0}\\)\u7684\u6761\u4ef6\u3002\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u6761\u4ef6\uff0c\u8fd9\u4e24\u79cd\u7b97\u6cd5\u5c31\u65e0\u6cd5\u76f4\u63a5\u8fdb\u884c\u6bd4\u8f83\u3002</p> <p></p>"},{"location":"Chapter-4/4-3/#432","title":"4.3.2 \u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5","text":"<p>\u7b80\u800c\u8a00\u4e4b\uff0c\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u4e0e\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u76f8\u540c\uff0c\u53ea\u662f\u5728\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u4e2d\u4ec5\u6267\u884c\u6709\u9650\u6b21\u6570\u7684\u8fed\u4ee3\u3002\u5176\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\u603b\u7ed3\u5728\u7b97\u6cd5\\(4.3\\)\u4e2d\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u7b97\u6cd5\u4e2d\u7684\\(v_k\\)\u548c\\(v^{(j)}_k\\)\u5e76\u4e0d\u662f\u72b6\u6001\u503c\uff0c\u800c\u662f\u5bf9\u771f\u5b9e\u72b6\u6001\u503c\u7684\u8fd1\u4f3c\uff0c\u56e0\u4e3a\u5728\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u4e2d\u4ec5\u6267\u884c\u4e86\u6709\u9650\u6b21\u6570\u7684\u8fed\u4ee3\u3002</p> <p>\u5982\u679c\\(v_k\\)\u4e0d\u7b49\u4e8e\\(v_{\\pi_k}\\)\uff0c\u7b97\u6cd5\u662f\u5426\u4ecd\u7136\u80fd\u591f\u627e\u5230\u6700\u4f18\u7b56\u7565\uff1f\u7b54\u6848\u662f\u80af\u5b9a\u7684\u3002\u76f4\u89c2\u4e0a\u8bb2\uff0c\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u4ecb\u4e8e\u503c\u8fed\u4ee3\u548c\u7b56\u7565\u8fed\u4ee3\u4e4b\u95f4\u3002\u4e00\u65b9\u9762\uff0c\u7531\u4e8e\u5728\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u4e2d\u5b83\u6267\u884c\u4e86\u4e0d\u6b62\u4e00\u6b21\u8fed\u4ee3\uff0c\u56e0\u6b64\u5176\u6536\u655b\u901f\u5ea6\u6bd4\u503c\u8fed\u4ee3\u7b97\u6cd5\u66f4\u5feb\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u7531\u4e8e\u5b83\u53ea\u6267\u884c\u6709\u9650\u6b21\u6570\u7684\u8fed\u4ee3\uff0c\u56e0\u6b64\u5176\u6536\u655b\u901f\u5ea6\u53c8\u6bd4\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u6162\u3002\u8fd9\u79cd\u76f4\u89c2\u89e3\u91ca\u5728\u56fe\\(4.5\\)\u4e2d\u5f97\u5230\u4e86\u8bf4\u660e\u3002\u8fd9\u79cd\u76f4\u89c2\u8ba4\u8bc6\u4e5f\u5f97\u5230\u4e86\u4ee5\u4e0b\u5206\u6790\u7684\u652f\u6301\u3002</p> <p></p> <p>\u56fe\\(4.5\\): \u503c\u8fed\u4ee3\u3001\u7b56\u7565\u8fed\u4ee3\u548c\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u4e4b\u95f4\u5173\u7cfb\u7684\u793a\u610f\u56fe\u3002</p> <p>Note</p> <p>\u547d\u98984.1(\u4ef7\u503c\u6539\u8fdb)\u3002\u8003\u8651\u8fed\u4ee3\u7b97\u6cd5\u4e2d\u7684\u8bc4\u4f30\u8bc4\u4f30\u6b65\u9aa4: </p> \\[v_{\\pi_k}^{(j+1)}=r_{\\pi_k}+\\gamma P_{\\pi_k}v_{\\pi_k}^{(j)},\\quad j=0,1,2,...\\] <p>\u5982\u679c\u521d\u59cb\u731c\u6d4b\u9009\u62e9\u4e3a\\(v^{(0)}_{\\pi_k} = v_{\\pi_{k\u22121}}\\)\uff0c\u5219\u6709</p> \\[v_{\\pi_k}^{(j+1)}\\geq v_{\\pi_k}^{(j)},\\quad j=0,1,2,...\\] <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u547d\u9898\\(4.1\\)\u8981\u6c42\u5047\u8bbe\\(v_{\\pi_{k}}^{(0)}=v_{\\pi_{k-1}}\\)\u3002\u7136\u800c\uff0c\u5728\u5b9e\u9645\u4e2d\\(v_{\\pi_{k\u22121}}\\)\u662f\u4e0d\u53ef\u7528\u7684\uff0c\u53ea\u6709\\(v_{k\u22121}\\)\u53ef\u7528\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u547d\u9898\\(4.1\\)\u4ecd\u7136\u4e3a\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u7684\u6536\u655b\u6027\u63d0\u4f9b\u4e86\u542f\u793a\u3002\u5173\u4e8e\u8fd9\u4e00\u4e3b\u9898\u7684\u66f4\u6df1\u5165\u8ba8\u8bba\u53ef\u53c2\u89c1[2\uff0c\u7b2c6.5\u8282]\u3002</p> <p>\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7684\u4f18\u52bf\u5f88\u660e\u663e\u3002\u4e0e\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u76f8\u6bd4\uff0c\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u4ec5\u9700\u5728\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u4e2d\u8fdb\u884c\u6709\u9650\u6b21\u6570\u7684\u8fed\u4ee3\uff0c\u56e0\u6b64\u8ba1\u7b97\u6548\u7387\u66f4\u9ad8\u3002\u4e0e\u503c\u8fed\u4ee3\u76f8\u6bd4\uff0c\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u5728\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u4e2d\u591a\u8fd0\u884c\u51e0\u6b21\u8fed\u4ee3\uff0c\u53ef\u4ee5\u52a0\u5feb\u5176\u6536\u655b\u901f\u5ea6\u3002</p>"},{"location":"Chapter-4/4-4/","title":"4.4-\u603b\u7ed3","text":""},{"location":"Chapter-4/4-4/#_1","title":"\u603b\u7ed3","text":"<p>\u672c\u7ae0\u4ecb\u7ecd\u4e86\u4e09\u79cd\u53ef\u7528\u4e8e\u5bfb\u627e\u6700\u4f18\u7b56\u7565\u7684\u7b97\u6cd5\u3002</p> <ul> <li> <p>\u503c\u8fed\u4ee3(Value Iteration)\uff1a\u503c\u8fed\u4ee3\u7b97\u6cd5\u4e0e\u7531\u538b\u7f29\u6620\u5c04\u5b9a\u7406\u63d0\u51fa\u7684\u7528\u4e8e\u6c42\u89e3\u8d1d\u5c14\u66fc\u6700\u4f18\u516c\u5f0f\u7684\u7b97\u6cd5\u76f8\u540c\u3002\u5b83\u53ef\u5206\u89e3\u4e3a\u4e24\u4e2a\u6b65\u9aa4\uff1a\u503c\u66f4\u65b0\u548c\u7b56\u7565\u66f4\u65b0\u3002</p> </li> <li> <p>\u7b56\u7565\u8fed\u4ee3(Policy Iteration)\uff1a\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u6bd4\u503c\u8fed\u4ee3\u7b97\u6cd5\u7a0d\u590d\u6742\uff0c\u540c\u6837\u5305\u542b\u4e24\u4e2a\u6b65\u9aa4\uff1a\u7b56\u7565\u8bc4\u4f30\u548c\u7b56\u7565\u6539\u8fdb\u3002</p> </li> <li> <p>\u622a\u65ad\u7b56\u7565\u8fed\u4ee3(Truncated Policy Iteration)\uff1a\u503c\u8fed\u4ee3\u548c\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u53ef\u88ab\u89c6\u4e3a\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u7684\u4e24\u4e2a\u6781\u7aef\u60c5\u51b5\u3002</p> </li> </ul> <p>\u8fd9\u4e09\u79cd\u7b97\u6cd5\u7684\u5171\u540c\u7279\u70b9\u662f\uff0c\u6bcf\u6b21\u8fed\u4ee3\u90fd\u5305\u542b\u4e24\u4e2a\u6b65\u9aa4\uff1a\u4e00\u4e2a\u6b65\u9aa4\u7528\u4e8e\u66f4\u65b0\u503c\uff0c\u53e6\u4e00\u4e2a\u6b65\u9aa4\u7528\u4e8e\u66f4\u65b0\u7b56\u7565\u3002\u503c\u4e0e\u7b56\u7565\u66f4\u65b0\u4e4b\u95f4\u76f8\u4e92\u4f5c\u7528\u7684\u601d\u60f3\u5e7f\u6cdb\u5b58\u5728\u4e8e\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u4e2d\uff0c\u8fd9\u79cd\u601d\u60f3\u4e5f\u88ab\u79f0\u4e3a\u5e7f\u4e49\u7b56\u7565\u8fed\u4ee3(Generalized Policy Iteration)[3]\u3002</p> <p>\u6700\u540e\uff0c\u672c\u7ae0\u4ecb\u7ecd\u7684\u7b97\u6cd5\u90fd\u9700\u8981\u7cfb\u7edf\u6a21\u578b\u3002\u4ece\u7b2c\\(5\\)\u7ae0\u5f00\u59cb\uff0c\u6211\u4eec\u5c06\u7814\u7a76\u65e0\u6a21\u578b\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u3002\u6211\u4eec\u5c06\u770b\u5230\uff0c\u901a\u8fc7\u6269\u5c55\u672c\u7ae0\u4ecb\u7ecd\u7684\u7b97\u6cd5\uff0c\u53ef\u4ee5\u5f97\u5230\u65e0\u6a21\u578b\u7684\u7b97\u6cd5\u3002</p>"},{"location":"Chapter-4/intro/","title":"\u4ecb\u7ecd","text":"<p>\u5728\u524d\u51e0\u7ae0\u7684\u51c6\u5907\u57fa\u7840\u4e0a\uff0c\u6211\u4eec\u73b0\u5728\u53ef\u4ee5\u4ecb\u7ecd\u80fd\u591f\u627e\u5230\u6700\u4f18\u7b56\u7565\u7684\u7b2c\u4e00\u4e2a\u7b97\u6cd5\u3002\u672c\u7ae0\u5c06\u4ecb\u7ecd\u4e09\u4e2a\u5f7c\u6b64\u5bc6\u5207\u76f8\u5173\u7684\u7b97\u6cd5\u3002\u7b2c\u4e00\u4e2a\u662f\u503c\u8fed\u4ee3\u7b97\u6cd5\uff0c\u5b83\u6b63\u662f\u4e0a\u4e00\u7ae0\u4e2d\u6240\u8ba8\u8bba\u7684\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u6c42\u89e3\u8fc7\u7a0b\u4e2d\uff0c\u7531\u538b\u7f29\u6620\u5c04\u5b9a\u7406\u6240\u5efa\u8bae\u7684\u7b97\u6cd5\u3002\u672c\u7ae0\u6211\u4eec\u5c06\u66f4\u5173\u6ce8\u8be5\u7b97\u6cd5\u7684\u5b9e\u73b0\u7ec6\u8282\u3002\u7b2c\u4e8c\u4e2a\u662f\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\uff0c\u5176\u601d\u60f3\u5728\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u4e2d\u88ab\u5e7f\u6cdb\u4f7f\u7528\u3002\u7b2c\u4e09\u4e2a\u662f\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\uff0c\u5b83\u662f\u4e00\u4e2a\u7edf\u4e00\u7684\u7b97\u6cd5\uff0c\u5305\u62ec\u503c\u8fed\u4ee3\u7b97\u6cd5\u548c\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u4f5c\u4e3a\u7279\u4f8b\u3002</p> <p>\u672c\u7ae0\u4ecb\u7ecd\u7684\u7b97\u6cd5\u79f0\u4e3a\u52a8\u6001\u89c4\u5212\u7b97\u6cd5(dynamic programming)[10, 11]\uff0c\u5b83\u4eec\u9700\u8981\u7cfb\u7edf\u6a21\u578b\u3002\u8fd9\u4e9b\u7b97\u6cd5\u662f\u540e\u7eed\u7ae0\u8282\u4e2d\u4ecb\u7ecd\u7684\u65e0\u6a21\u578b\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u7684\u91cd\u8981\u57fa\u7840\u3002\u4f8b\u5982\uff0c\u7b2c\\(5\\)\u7ae0\u4ecb\u7ecd\u7684\u8499\u7279\u5361\u6d1b\u7b97\u6cd5\u53ef\u4ee5\u901a\u8fc7\u6269\u5c55\u672c\u7ae0\u4ecb\u7ecd\u7684\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u800c\u83b7\u5f97\u3002</p>"},{"location":"Chapter-5/5-1/","title":"5.1-\u542f\u53d1\u793a\u4f8b:\u671f\u671b\u503c\u4f30\u8ba1","text":""},{"location":"Chapter-5/5-1/#51","title":"5.1 \u542f\u53d1\u6027\u793a\u4f8b: \u671f\u671b\u503c\u4f30\u8ba1","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4ecb\u7ecd\u671f\u671b\u503c\u4f30\u8ba1\u95ee\u9898\uff0c\u4ee5\u5c55\u793a\u5982\u4f55\u4ece\u6570\u636e\u800c\u975e\u6a21\u578b\u4e2d\u5b66\u4e60\u3002\u6211\u4eec\u5c06\u770b\u5230\uff0c\u5747\u503c\u4f30\u8ba1\u53ef\u4ee5\u901a\u8fc7\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u5b9e\u73b0\uff0c\u8fd9\u79cd\u65b9\u6cd5\u662f\u4e00\u7c7b\u5e7f\u6cdb\u4f7f\u7528\u7684\u6280\u672f\uff0c\u5b83\u5229\u7528\u968f\u673a\u6837\u672c\u89e3\u51b3\u4f30\u8ba1\u95ee\u9898\u3002\u8bfb\u8005\u53ef\u80fd\u4f1a\u597d\u5947\uff0c\u6211\u4eec\u4e3a\u4ec0\u4e48\u5173\u6ce8\u5747\u503c\u4f30\u8ba1\u95ee\u9898\u3002\u8fd9\u4ec5\u4ec5\u662f\u56e0\u4e3a\u72b6\u6001\u503c\u548c\u884c\u52a8\u503c\u90fd\u88ab\u5b9a\u4e49\u4e3a\u56de\u62a5\u7684\u5747\u503c\u3002\u56e0\u6b64\uff0c\u4f30\u8ba1\u4e00\u4e2a\u72b6\u6001\u503c\u6216\u52a8\u4f5c\u503c\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u5747\u503c\u4f30\u8ba1\u95ee\u9898\u3002</p> <p>\u8003\u8651\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\\(X\\)\uff0c\u5b83\u53ef\u4ee5\u53d6\u81ea\u4e00\u4e2a\u6709\u9650\u7684\u5b9e\u6570\u96c6\u5408\uff0c\u8bb0\u4e3a\\(\\mathcal{X}\\)\u3002\u5047\u8bbe\u6211\u4eec\u7684\u4efb\u52a1\u662f\u8ba1\u7b97\\(X\\)\u7684\u671f\u671b\u503c\uff1a\\(E[X]\\)\u3002\u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u7528\u6765\u8ba1\u7b97\\(E[X]\\)\u3002</p> <ul> <li> <p>\u7b2c\u4e00\u79cd\u65b9\u6cd5\u662f\u57fa\u4e8e\u6a21\u578b\u7684\u3002\u8fd9\u91cc\u7684\u6a21\u578b\u6307\u7684\u662f\\(X\\)\u7684\u6982\u7387\u5206\u5e03\u3002\u5982\u679c\u6a21\u578b\u5df2\u77e5\uff0c\u5219\u53ef\u4ee5\u6839\u636e\u671f\u671b\u503c\u7684\u5b9a\u4e49\u76f4\u63a5\u8ba1\u7b97\u51fa\u5747\u503c\uff1a</p> \\[\\mathbb{E}[X]=\\sum_{x\\in\\mathcal{X}}p(x)x.\\] <p>\u5728\u8fd9\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u4ea4\u66ff\u4f7f\u7528\u671f\u671b\u503c\u3001\u5747\u503c\u548c\u5e73\u5747\u503c\u8fd9\u4e9b\u672f\u8bed\u3002</p> </li> <li> <p>\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u662f\u65e0\u6a21\u578b\u65b9\u6cd5\u3002\u5f53\\(X\\)\u7684\u6982\u7387\u5206(\u5373\u6a21\u578b)\u672a\u77e5\u65f6\uff0c\u5047\u8bbe\u6211\u4eec\u6709\\(X\\)\u7684\u82e5\u5e72\u6837\u672c\\(\\{x_1,x_2,...,x_n\\}\\)\u3002\u6b64\u65f6\uff0c\u5747\u503c\u53ef\u4ee5\u8fd1\u4f3c\u4e3a</p> \\[\\mathbb{E}[X]\\approx\\bar{x}=\\frac{1}{n}\\sum_{j=1}^{n}x_{j}.\\] <p>\u5f53\\(n\\)\u8f83\u5c0f\u65f6\uff0c\u8fd9\u79cd\u8fd1\u4f3c\u53ef\u80fd\u4e0d\u591f\u51c6\u786e\u3002\u7136\u800c\uff0c\u968f\u7740\\(n\\)\u7684\u589e\u52a0\uff0c\u8fd9\u79cd\u8fd1\u4f3c\u4f1a\u53d8\u5f97\u8d8a\u6765\u8d8a\u51c6\u786e\u3002\u5f53\\(n\\to\\infty\\)\uff0c\u6211\u4eec\u6709\\(\\bar{x}\\to E[X]\\)\u3002</p> <p>\u8fd9\u662f\u7531\u5927\u6570\u5b9a\u5f8b(law of large numbers)\u4fdd\u8bc1\u7684\uff1a\u5927\u91cf\u6837\u672c\u7684\u5e73\u5747\u503c\u63a5\u8fd1\u4e8e\u671f\u671b\u503c\u3002\u5927\u6570\u5b9a\u5f8b\u5728\u65b9\u68465.1\u8282\u4e2d\u4ecb\u7ecd\u3002</p> </li> </ul> <p>\u4ee5\u4e0b\u793a\u4f8b\u8bf4\u660e\u4e86\u4e0a\u8ff0\u4e24\u79cd\u65b9\u6cd5\u3002\u8003\u8651\u4e00\u4e2a\u629b\u786c\u5e01\u6e38\u620f\u3002\u8bbe\u968f\u673a\u53d8\u91cf\\(X\\)\u8868\u793a\u786c\u5e01\u843d\u5730\u65f6\u671d\u4e0a\u7684\u9762\u3002\\(X\\)\u6709\u4e24\u4e2a\u53ef\u80fd\u7684\u53d6\u503c\uff1a\u5f53\u6b63\u9762\u671d\u4e0a\u65f6\\(X = 1\\)\uff0c\u5f53\u53cd\u9762\u671d\u4e0a\u65f6\\(X=\u22121\\)\u3002\u5047\u8bbe\\(X\\)\u7684\u771f\u5b9e\u6982\u7387\u5206\u5e03(\u5373\u6a21\u578b)\u4e3a</p> \\[p(X=1)=0.5,\\quad p(X=-1)=0.5.\\] <p>\u5982\u679c\u6982\u7387\u5206\u5e03\u5df2\u77e5\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u8ba1\u7b97\u5747\u503c\u4e3a\uff1a</p> \\[\\mathbb{E}[X]=0.5\\cdot1+0.5\\cdot(-1)=0.\\] <p>\u5982\u679c\u6982\u7387\u5206\u5e03\u672a\u77e5\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u591a\u6b21\u629b\u63b7\u786c\u5e01\uff0c\u5e76\u8bb0\u5f55\u6837\u672c\u7ed3\u679c\\(\\{x_i\\}_{i=1}^n\\)\u3002\u901a\u8fc7\u8ba1\u7b97\u6837\u672c\u7684\u5e73\u5747\u503c\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u5747\u503c\u7684\u4f30\u8ba1\u503c\u3002\u5982\u56fe\\(5.2\\)\u6240\u793a\uff0c\u968f\u7740\u6837\u672c\u6570\u91cf\u7684\u589e\u52a0\uff0c\u4f30\u8ba1\u7684\u5747\u503c\u4f1a\u53d8\u5f97\u8d8a\u6765\u8d8a\u51c6\u786e\u3002</p> <p></p> <p>\u56fe\\(5.2\\)\uff1a\u4e00\u4e2a\u6f14\u793a\u5927\u6570\u5b9a\u5f8b\u7684\u4f8b\u5b50\u3002\u8fd9\u91cc\uff0c\u6837\u672c\u662f\u4ece{+1,\u22121}\u4e2d\u6309\u7167\u5747\u5300\u5206\u5e03\u62bd\u53d6\u7684\u3002\u968f\u7740\u6837\u672c\u6570\u91cf\u7684\u589e\u52a0\uff0c\u6837\u672c\u7684\u5e73\u5747\u503c\u9010\u6e10\u6536\u655b\u5230\u96f6\uff0c\u5373\u771f\u5b9e\u7684\u671f\u671b\u503c\u3002</p> <p>\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u7528\u4e8e\u5747\u503c\u4f30\u8ba1\u7684\u6837\u672c\u5fc5\u987b\u662f\u72ec\u7acb\u540c\u5206\u5e03\u7684(\\(i.i.d.\\)\u6216\\(iid\\))\u3002\u5426\u5219\uff0c\u5982\u679c\u6837\u672c\u503c\u4e4b \u95f4\u5b58\u5728\u76f8\u5173\u6027\uff0c\u5219\u53ef\u80fd\u65e0\u6cd5\u6b63\u786e\u4f30\u8ba1\u671f\u671b\u503c\u3002\u4e00\u4e2a\u6781\u7aef\u60c5\u51b5\u662f\uff0c\u6240\u6709\u6837\u672c\u503c\u90fd\u4e0e\u7b2c\u4e00\u4e2a\u6837\u672c\u76f8\u540c\uff0c\u65e0\u8bba\u7b2c\u4e00\u4e2a\u6837\u672c\u662f\u4ec0\u4e48\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u65e0\u8bba\u4f7f\u7528\u591a\u5c11\u4e2a\u6837\u672c\uff0c\u6837\u672c\u7684\u5e73\u5747\u503c\u59cb\u7ec8\u7b49\u4e8e\u7b2c\u4e00\u4e2a\u6837\u672c\u3002</p>"},{"location":"Chapter-5/5-2/","title":"5.2-MC Basic:\u6700\u7b80\u5355\u7684\u57fa\u4e8e\u8499\u7279\u5361\u6d1b\u7684\u7b97\u6cd5","text":""},{"location":"Chapter-5/5-2/#52-","title":"5.2- \u6700\u7b80\u5355\u7684\u57fa\u4e8e\u8499\u7279\u5361\u6d1b\u7684\u7b97\u6cd5","text":"<p>\u672c\u8282\u4ecb\u7ecd\u7b2c\u4e00\u4e2a\u4e5f\u662f\u6700\u7b80\u5355\u7684\u57fa\u4e8e\u8499\u7279\u5361\u6d1b(MC)\u7684\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u3002\u8be5\u7b97\u6cd5\u901a\u8fc7\u7528\u65e0\u6a21\u578b\u7684MC\u4f30\u8ba1\u6b65\u9aa4\u66ff\u6362\u7b2c\\(4.2\\)\u8282\u4e2d\u4ecb\u7ecd\u7684\u57fa\u4e8e\u6a21\u578b\u7684\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u4e2d\u7684\u6a21\u578b\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u800c\u5f97\u5230\u3002</p>"},{"location":"Chapter-5/5-2/#521","title":"5.2.1 \u5c06\u7b56\u7565\u8fed\u4ee3\u8f6c\u5316\u4e3a\u65e0\u6a21\u578b\u65b9\u6cd5","text":"<p>\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u7684\u6bcf\u4e00\u6b65\u8fed\u4ee3\u5305\u542b\u4e24\u4e2a\u6b65\u9aa4(\u89c1\u7b2c\\(4.2\\)\u8282)\u3002\u7b2c\u4e00\u6b65\u662f\u7b56\u7565\u8bc4\u4f30\uff0c\u5176\u76ee\u7684\u662f\u901a\u8fc7\u6c42\u89e3\u65b9\u7a0b\\(v_{\\pi_k} = r_{\\pi_k} + \\gamma P_{\\pi_k}v_{\\pi_k}\\)\u6765\u8ba1\u7b97\\(v_{\\pi_k}\\)\u3002\u7b2c\u4e8c\u6b65\u662f\u7b56\u7565\u6539\u8fdb\uff0c\u5176\u76ee\u7684\u662f\u8ba1\u7b97Greedy\u7b56\u7565\\(\\pi_{k+1} = \\arg\\max_{\\pi} \\left( r_{\\pi} + \\gamma P_{\\pi} v_{\\pi k} \\right).\\)\u3002\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u7684\u9010\u5143\u7d20\u5f62\u5f0f\u4e3a</p> \\[\\begin{aligned}\\pi_{k+1}(s) &amp;= \\arg\\max_{\\pi} \\sum_a \\pi(a|s) \\left[ \\sum_r p(r|s,a)r + \\gamma \\sum_{s'} p(s'|s,a)v_{\\pi k}(s') \\right] \\\\&amp;= \\arg\\max_{\\pi} \\sum_a \\pi(a|s)q_{\\pi_k}(s,a), \\quad s \\in S.\\end{aligned}\\] <p>\u884c\u52a8\u503c\\(q_{\\pi_k}(s,a)\\)\u662f\u6700\u6838\u5fc3\u7684\u91cf\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5728\u7b2c\u4e00\u6b65\u4e2d\uff0c\u72b6\u6001\u503c\u88ab\u8ba1\u7b97\u51fa\u6765\uff0c\u4ee5\u4fbf\u4e8e\u8ba1\u7b97\u884c\u52a8\u503c\u3002\u5728\u7b2c\u4e8c\u6b65\u4e2d\uff0c\u57fa\u4e8e\u8ba1\u7b97\u51fa\u7684\u52a8\u4f5c\u503c\u751f\u6210\u65b0\u7684\u7b56\u7565\u3002\u8ba1\u7b97\u884c\u52a8\u503c\u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u4f9b\u9009\u62e9\u3002</p> <ul> <li> <p>\u7b2c\u4e00\u79cd\u65b9\u6cd5\u662f\u57fa\u4e8e\u6a21\u578b\u7684\u65b9\u6cd5\u3002\u8fd9\u79cd\u65b9\u6cd5\u5728\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u6240\u91c7\u7528\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u6211\u4eec\u9996\u5148\u53ef\u4ee5\u901a\u8fc7\u6c42\u89e3\u8d1d\u5c14\u66fc\u65b9\u7a0b\u6765\u8ba1\u7b97\u72b6\u6001\u503c\\(v_{\\pi_k}\\)\u3002\u7136\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u4ee5\u4e0b\u516c\u5f0f\u6765\u8ba1\u7b97\u52a8\u4f5c\u503c\uff1a</p> \\[q_{\\pi_k}(s,a) = \\sum_r p(r|s,a)r + \\gamma \\sum_{s'} p(s'|s,a)v_{\\pi k}(s').\\tag{5.1}\\] <p>\u8fd9\u79cd\u65b9\u6cd5\u8981\u6c42\u5df2\u77e5\u7cfb\u7edf\u6a21\u578b\\(p(r|s,a), p(s^\\prime|s,a)\\)\u3002</p> </li> <li> <p>\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u662f\u65e0\u6a21\u578b\u65b9\u6cd5\u3002\u56de\u60f3\u4e00\u4e0b\uff0c\u884c\u52a8\u503c\u7684\u5b9a\u4e49\u662f</p> \\[\\begin{aligned}q_{\\pi_k}(s,a) &amp;= \\mathbb{E}[G | S_t = s, A_t = a]\\\\&amp;= \\mathbb{E}[R_{t+1} + \\gamma R_{t+2} + \\gamma^2 R_{t+3} + ... | S_t = s, A_t = a],\\end{aligned}\\] <p>\u8fd9\u662f\u4ece\\((s,a)\\)\u5f00\u59cb\u65f6\u6240\u83b7\u5f97\u7684\u671f\u671b\u56de\u62a5\u3002\u7531\u4e8e\\(q_{\\pi_k}(s,a)\\)\u662f\u4e00\u4e2a\u671f\u671b\u503c\uff0c\u56e0\u6b64\u53ef\u4ee5\u901a\u8fc7\u7b2c\\(5.1\\)\u8282\u4e2d\u6240\u5c55\u793a\u7684\u8499\u7279\u5361\u6d1b(MC)\u65b9\u6cd5\u8fdb\u884c\u4f30\u8ba1\u3002\u4e3a\u6b64\uff0c\u4ece\\((s,a)\\)\u5f00\u59cb\uff0c\u667a\u80fd\u4f53\u53ef\u4ee5\u6309\u7167\u7b56\u7565\\(\\pi_k\\)\u4e0e\u73af\u5883\u4ea4\u4e92\uff0c\u7136\u540e\u83b7\u5f97\u4e00\u5b9a\u6570\u91cf\u7684\u56de\u5408\u3002\u5047\u8bbe\u5171\u6709\\(n\\)\u6761\u56de\u5408\uff0c\u7b2c\\(i\\)\u6761\u56de\u5408\u7684\u56de\u62a5\u4e3a\\(g^{(i)}_{\\pi_k}(s,a)\\)\uff0c\u90a3\u4e48\\(q_{\\pi_k}(s,a)\\)\u53ef\u4ee5\u8fd1\u4f3c\u4e3a\uff1a</p> \\[q_{\\pi k}(s,a) = \\mathbb{E}[G | S_t = s, A_t = a] \\approx \\frac{1}{n} \\sum_{i=1}^{n} g_{\\pi_k}^{(i)}(s,a).\\] <p>\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\uff0c\u5982\u679c\u8bd5\u9a8c\u6b21\u6570\\(n\\)\u8db3\u591f\u5927\uff0c\u6839\u636e\u5927\u6570\u5b9a\u5f8b\uff0c\u8fd9\u79cd\u8fd1\u4f3c\u5c06\u4f1a\u8db3\u591f\u7cbe\u786e\u3002</p> </li> </ul> <p>\u57fa\u4e8e\u8499\u7279\u5361\u6d1b(MC)\u7684\u5f3a\u5316\u5b66\u4e60\u7684\u57fa\u672c\u601d\u60f3\u662f\uff0c\u4f7f\u7528\u4e00\u79cd\u65e0\u6a21\u578b\u7684\u65b9\u6cd5\u6765\u4f30\u8ba1\u52a8\u4f5c\u503c\uff0c\u5982\u5f0f\\((5.2)\\)\u6240\u793a\uff0c\u4ee5\u66ff\u4ee3\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u4e2d\u57fa\u4e8e\u6a21\u578b\u7684\u65b9\u6cd5\u3002</p>"},{"location":"Chapter-5/5-2/#522","title":"5.2.2 \u57fa\u4e8e\u8499\u7279\u5361\u6d1b\u7684\u7b97\u6cd5","text":"<p>\u6211\u4eec\u73b0\u5728\u4ecb\u7ecd\u7b2c\u4e00\u4e2a\u57fa\u4e8e\u8499\u7279\u5361\u6d1b(MC)\u7684\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u3002\u8be5\u7b97\u6cd5\u4ece\u521d\u59cb\u7b56\u7565\\(\\pi_0\\)\u5f00\u59cb\uff0c\u5728\u7b2c\\(k\\)\u6b21\u8fed\u4ee3\\((k=0,1,2,...)\\)\u4e2d\u5305\u542b\u4e24\u4e2a\u6b65\u9aa4\u3002</p> <ul> <li> <p>\u6b65\u9aa4\u4e00. \u7b56\u7565\u8bc4\u4f30\u3002\u6b64\u6b65\u9aa4\u7528\u4e8e\u4f30\u8ba1\u6240\u6709\u72b6\u6001-\u52a8\u4f5c\u5bf9\\((s,a)\\)\u7684\\(q_{\\pi_k}(s,a)\\)\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\\((s,a)\\)\uff0c\u6211\u4eec\u6536\u96c6\u8db3\u591f\u591a\u7684\u56de\u5408\uff0c\u5e76\u4f7f\u7528\u56de\u62a5\u7684\u5e73\u5747\u503c\\(q_k(s,a)\\)\u6765\u8fd1\u4f3c\\(q_{\\pi_k}(s, a)\\)\u3002</p> </li> <li> <p>\u6b65\u9aa4\u4e8c. \u7b56\u7565\u6539\u8fdb\u3002 \u8fd9\u4e00\u6b65\u9aa4\u901a\u8fc7\u6c42\u89e3\\(\\pi_{k+1}(s)=\\arg\\max_\\pi \\sum_a\\pi(a|s)q_k(s,a)\\)\u6765\u786e\u5b9a\u6240\u6709\u72b6\u6001\\(s\\in \\mathcal{S}\\)\u4e0b\u7684\u6700\u4f18\u7b56\u7565\u3002Greedy\u6700\u4f18\u7b56\u7565\u4e3a\\(\\pi_{k+1}(a_{k}^{*}|s)=1\\)\uff0c\u5176\u4e2d\\(a_{k}^{*}=\\arg\\max_{a}q_{k}(s,a).\\)\u3002</p> </li> </ul> <p>\u8fd9\u662f\u57fa\u4e8e\u8499\u7279\u5361\u6d1b\uff08MC\uff09\u7684\u5f3a\u5316\u5b66\u4e60\u4e2d\u6700\u7b80\u5355\u7684\u7b97\u6cd5\uff0c\u5728\u672c\u4e66\u4e2d\u79f0\u4e3aMC Basic\u3002MC Basic\u7b97\u6cd5\u7684\u4f2a\u4ee3\u7801\u89c1\u7b97\u6cd5\\(5.1\\)\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u5b83\u4e0e\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u975e\u5e38\u76f8\u4f3c\uff0c\u552f\u4e00\u7684\u533a\u522b\u5728\u4e8e\uff0cMC Basic\u76f4\u63a5\u4ece\u7ecf\u9a8c\u6837\u672c\u4e2d\u8ba1\u7b97\u884c\u52a8\u503c\uff0c\u800c\u7b56\u7565\u8fed\u4ee3\u5219\u662f\u5148\u8ba1\u7b97\u72b6\u6001\u503c\uff0c\u518d\u6839\u636e\u7cfb\u7edf\u6a21\u578b\u8ba1\u7b97\u884c\u52a8\u503c\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u65e0\u6a21\u578b\u7b97\u6cd5\u76f4\u63a5\u4f30\u8ba1\u884c\u52a8\u503c\u3002\u5982\u679c\u6539\u4e3a\u4f30\u8ba1\u72b6\u6001\u503c\uff0c\u5219\u4ecd\u9700\u4f7f\u7528\u7cfb\u7edf\u6a21\u578b\u4ece\u8fd9\u4e9b\u72b6\u6001\u503c\u8ba1\u7b97\u52a8\u4f5c\u503c\uff0c\u5982\u5f0f(5.1)\u6240\u793a\u3002</p> <p>Note</p> <p>\u6ce8: \u4e0e\u7b56\u7565\u8fed\u4ee3\u76f8\u6bd4\uff0c\u7b2c\u4e00\u6b65\u6709\u6240\u4e0d\u540c\uff0c\u5373\u5bf9\u4e8e\u884c\u52a8\u503c\u7684\u4f30\u8ba1\u6709\u6240\u4e0d\u540c\uff0c\u800c\u7b2c\u4e8c\u6b65\u662f\u76f8\u540c\u7684</p> <p>\u7531\u4e8e\u7b56\u7565\u8fed\u4ee3\u662f\u6536\u655b\u7684\uff0c\u56e0\u6b64\u5728\u7ed9\u5b9a\u8db3\u591f\u6837\u672c\u7684\u60c5\u51b5\u4e0b\uff0cMC Basic\u7b97\u6cd5\u4e5f\u662f\u6536\u655b\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\\((s,a)\\)\uff0c\u5047\u8bbe\u4ece\\((s,a)\\)\u5f00\u59cb\u7684\u8db3\u591f\u591a\u7684\u56de\u5408(episode)\uff0c\u90a3\u4e48\u8fd9\u4e9b\u56de\u5408\u56de\u62a5\u7684\u5e73\u5747\u503c\u53ef\u4ee5\u5f88\u597d\u5730\u8fd1\u4f3c\\((s,a)\\)\u7684\u884c\u52a8\u503c\u3002\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u65e0\u6cd5\u4e3a\u6bcf\u4e2a\\((s,a)\\)\u90fd\u83b7\u5f97\u8db3\u591f\u591a\u7684\u56de\u5408\uff0c\u56e0\u6b64\u52a8\u4f5c\u503c\u7684\u8fd1\u4f3c\u53ef\u80fd\u5e76\u4e0d\u51c6\u786e\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u8be5\u7b97\u6cd5\u901a\u5e38\u4ecd\u7136\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u3002\u8fd9\u4e0e\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u7c7b\u4f3c\uff0c\u5728\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u4e2d\uff0c\u52a8\u4f5c\u503c\u4e5f\u5e76\u975e\u7cbe\u786e\u8ba1\u7b97\u5f97\u5230\u3002</p> <p>MC Basic\u7531\u4e8e\u5176\u6837\u672c\u6548\u7387\u8f83\u4f4e\uff0c\u8fc7\u4e8e\u7b80\u5355\u800c\u96be\u4ee5\u5b9e\u9645\u5e94\u7528\u3002\u6211\u4eec\u4ecb\u7ecd\u8fd9\u4e2a\u7b97\u6cd5\u7684\u539f\u56e0\u662f\u60f3\u8ba9\u8bfb\u8005\u638c\u63e1\u57fa\u4e8eMC\u7684\u5f3a\u5316\u5b66\u4e60\u4e2d\u7684\u6838\u5fc3\u601d\u60f3\u3002\u5728\u5b66\u4e60\u672c\u7ae0\u540e\u9762\u66f4\u590d\u6742\u7684\u7b97\u6cd5\u4e4b\u524d\u5145\u5206\u7406\u89e3MC Basic\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002\u6211\u4eec\u5c06\u770b\u5230\uff0c\u901a\u8fc7\u6269\u5c55MC Basic\u7b97\u6cd5\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u83b7\u5f97\u6837\u672c\u6548\u7387\u66f4\u9ad8\u7684\u7b97\u6cd5\u3002</p> <p>\u7b97\u6cd55.1\uff1aMC Basic\u7b97\u6cd5(\u4e00\u79cd\u65e0\u6a21\u578b\u7684\u7b56\u7565\u8fed\u4ee3\u53d8\u4f53)</p> <p></p> <p>\u7b97\u6cd5\\(5.1\\)\uff1aMC Basis\u7b97\u6cd5(\u4e00\u79cd\u65e0\u6a21\u578b\u7684\u7b56\u7565\u8fed\u4ee3\u53d8\u4f53)</p>"},{"location":"Chapter-5/5-2/#523","title":"5.2.3 \u793a\u4f8b","text":""},{"location":"Chapter-5/5-2/#_1","title":"\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50: \u9010\u6b65\u5b9e\u65bd","text":"<p>\u56fe\\(5.3\\): \u4e00\u4e2a\u7528\u4e8e\u8bf4\u660eMC Basic\u7b97\u6cd5\u7684\u793a\u4f8b\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u6765\u6f14\u793aMC Basic\u7b97\u6cd5\u7684\u5b9e\u73b0\u7ec6\u8282\u3002\u5956\u52b1\u8bbe\u7f6e\u4e3a \\(r_\\text{boundary} = r_\\text{forbidden} = \u22121\uff0cr_\\text{target} = 1\\)\u3002\u6298\u73b0\u7387\u4e3a \\(\\gamma = 0.9\\)\u3002\u521d\u59cb\u7b56\u7565\\(\\pi_0\\)\u5982\u56fe\\(5.3\\)\u6240\u793a\u3002\u8be5\u521d\u59cb\u7b56\u7565\u5bf9\u4e8e\u72b6\u6001\\(s_1\\)\u6216\\(s_3\\)\u5e76\u975e\u6700\u4f18\u7b56\u7565\u3002</p> <p>Note</p> <p>\u6ce8: \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u6709\\(9\\)\u4e2a\u72b6\u6001\uff0c\u6bcf\u4e2a\u72b6\u6001\u5bf9\u5e94\\(5\\)\u4e2a\u884c\u52a8\uff0c\u6709\\(45\\)\u4e2a\u72b6\u6001\u884c\u52a8\u5bf9\uff0c\u6240\u4ee5\u8981\u627e\u5230\\(45\\)\u4e2a\\(q_{\\pi_k} (s,a)\\)\uff0c\u5047\u8bbe\u4ece\u6bcf\u4e00\u4e2a\\((s,a)\\)\u51fa\u53d1\u90fd\u6709\\(N\\)\u4e2a\u56de\u5408\uff0c\u6700\u540e\u8981\u6c42\\(N\\)\u6761\u56de\u5408\u7684\u5e73\u5747\u7684\\(return\\)\uff0c\u90a3\u4e48\u4e00\u5171\u6709\\(45\\times N\\)\u4e2a\u56de\u5408\u3002</p> <p>\u867d\u7136\u6240\u6709\u884c\u52a8\u503c\u90fd\u5e94\u8be5\u88ab\u8ba1\u7b97\u51fa\u6765\uff0c\u4f46\u7531\u4e8e\u7bc7\u5e45\u9650\u5236\uff0c\u6211\u4eec\u4ec5\u5c55\u793a\u4e86\\(s_1\\)\u7684\u884c\u52a8\u503c\u3002\u5728\\(s_1\\)\u5904\uff0c\u6709\u4e94\u79cd\u53ef\u80fd\u7684\u52a8\u4f5c\u3002\u5bf9\u4e8e\u6bcf\u79cd\u52a8\u4f5c\uff0c\u6211\u4eec\u9700\u8981\u6536\u96c6\u8db3\u591f\u957f\u7684\u591a\u4e2a\u8f68\u8ff9\uff0c\u4ee5\u4fbf\u6709\u6548\u5730\u8fd1\u4f3c\u884c\u52a8\u503c\u3002\u7136\u800c\uff0c\u7531\u4e8e\u8fd9\u4e2a\u4f8b\u5b50\u5728\u7b56\u7565\u548c\u6a21\u578b\u65b9\u9762\u90fd\u662f\u786e\u5b9a\u6027\u7684\uff0c\u591a\u6b21\u8fd0\u884c\u5c06\u751f\u6210\u76f8\u540c\u7684\u8f68\u8ff9\u3002\u56e0\u6b64\uff0c\u6bcf\u4e2a\u884c\u52a8\u503c\u7684\u4f30\u8ba1\u4ec5\u9700\u8981\u4e00\u4e2a\u56de\u5408\u5373\u53ef\u3002</p> <p>\u5728\\(\\pi_0\\)\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5206\u522b\u4ece\\((s_1, a_1),(s_1,a_2),...,(s_1,a_5)\\)\u5f00\u59cb\uff0c\u5f97\u5230\u4ee5\u4e0b\u56de\u5408\u3002</p> <ul> <li> <p>\u4ece\\((s_1,a_1)\\)\u5f00\u59cb\uff0c\u8be5\u56de\u5408\u4e3a\\(s_1\\xrightarrow{a_1}s_1\\xrightarrow{a_1}s_1\\xrightarrow{a_1}\\ldots\\)\u3002\u884c\u52a8\u503c\u7b49\u4e8e\u8be5\u56de\u5408\u7684\u6298\u73b0\u56de\u62a5\uff1a</p> \\[q_{\\pi_0}(s_1,a_1)=-1+\\gamma(-1)+\\gamma^2(-1)+\\cdots=\\frac{-1}{1-\\gamma}.\\] </li> <li> <p>\u4ece\\((s_1,a_2)\\)\u5f00\u59cb\uff0c\u8be5\u56de\u5408\u4e3a\\(s_1\\xrightarrow{a_2}s_2\\xrightarrow{a_3}s_5\\xrightarrow{a_3}\\ldots\\)\u3002\u884c\u52a8\u503c\u7b49\u4e8e\u8be5\u56de\u5408\u7684\u6298\u73b0\u56de\u62a5\uff1a</p> \\[q_{\\pi_0}(s_1,a_2)=0+\\gamma0+\\gamma^20+\\gamma^3(1)+\\gamma^4(1)+\\cdots=\\frac{\\gamma^3}{1-\\gamma}.\\] </li> <li> <p>\u4ece\\((s_1,a_3)\\)\u5f00\u59cb\uff0c\u8be5\u56de\u5408\u4e3a\\(s_1\\xrightarrow{a_3}s_4\\xrightarrow{a_2}s_5\\xrightarrow{a_3}\\ldots\\)\u3002\u884c\u52a8\u503c\u7b49\u4e8e\u8be5\u56de\u5408\u7684\u6298\u73b0\u56de\u62a5\uff1a</p> \\[q_{\\pi_0}(s_1,a_3)=0+\\gamma0+\\gamma^20+\\gamma^3(1)+\\gamma^4(1)+\\cdots=\\frac{\\gamma^3}{1-\\gamma}.\\] </li> <li> <p>\u4ece\\((s_1,a_4)\\)\u5f00\u59cb\uff0c\u8be5\u56de\u5408\u4e3a\\(s_1\\xrightarrow{a_4}s_1\\xrightarrow{a_1}s_1\\xrightarrow{a_1}\\ldots\\)\u3002\u884c\u52a8\u503c\u7b49\u4e8e\u8be5\u56de\u5408\u7684\u6298\u73b0\u56de\u62a5\uff1a</p> \\[q_{\\pi_0}(s_1,a_4)=-1+\\gamma(-1)+\\gamma^2(-1)+\\cdots=\\frac{-1}{1-\\gamma}.\\] </li> <li> <p>\u4ece\\((s_1,a_5)\\)\u5f00\u59cb\uff0c\u8be5\u56de\u5408\u4e3a\\(s_1\\xrightarrow{a_5}s_1\\xrightarrow{a_1}s_1\\xrightarrow{a_1}\\ldots\\)\u3002\u884c\u52a8\u503c\u7b49\u4e8e\u8be5\u56de\u5408\u7684\u6298\u73b0\u56de\u62a5\uff1a</p> \\[q_{\\pi_0}(s_1,a_5)=0+\\gamma(-1)+\\gamma^2(-1)+\\cdots=\\frac{-\\gamma}{1-\\gamma}.\\] </li> </ul> <p>\u901a\u8fc7\u6bd4\u8f83\u8fd9\u4e94\u4e2a\u884c\u52a8\u503c\uff0c\u6211\u4eec\u53d1\u73b0</p> \\[q_{\\pi_0}(s_1,a_2)=q_{\\pi_0}(s_1,a_3)=\\frac{\\gamma^3}{1-\\gamma}&gt;0\\] <p>\u662f\u6700\u5927\u503c\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u5f97\u5230\u65b0\u7684\u7b56\u7565\u4e3a\uff1a</p> \\[\\pi_1(a_2|s_1)=1\\quad\\mathrm{or}\\quad\\pi_1(a_3|s_1)=1.\\] <p>\u5f88\u660e\u663e\uff0c\u6539\u8fdb\u540e\u7684\u7b56\u7565\u5728\u72b6\u6001\\(s_1\\)\u5904\u9009\u62e9\\(a_2\\)\u6216\\(a_3\\)\u662f\u6700\u4f73\u7684\u3002\u5728\u8fd9\u4e2a\u7b80\u5355\u4f8b\u5b50\u4e2d\uff0c\u521d\u59cb\u7b56\u7565\u5bf9\u4e8e\u9664\\(s_1\\)\u548c\\(s_3\\)\u4e4b\u5916\u7684\u6240\u6709\u72b6\u6001\u6765\u8bf4\u5df2\u7ecf\u662f\u6700\u4f18\u7684\uff0c\u56e0\u6b64\u7b56\u7565\u53ea\u9700\u7ecf\u8fc7\u4e00\u6b21\u8fed\u4ee3\u5373\u53ef\u8fbe\u5230\u6700\u4f18\u3002\u5f53\u7b56\u7565\u5bf9\u4e8e\u5176\u4ed6\u72b6\u6001\u6765\u8bf4\u4e0d\u662f\u6700\u4f18\u65f6\uff0c\u5219\u9700\u8981\u66f4\u591a\u7684\u8fed\u4ee3\u6b21\u6570\u3002</p> <p>Note</p> <p>\u6ce8: \u8fd9\u4e2a\u5730\u65b9\u5927\u5bb6\u53ef\u4ee5\u518d\u8ba1\u7b97\u4e00\u4e0b\u72b6\u6001\\(s_3\\)\u5904\u7684\u884c\u52a8\u503c\uff0c\u4ece\\(a_1\\)\u5230\\(a_5\\)\uff0c\u884c\u52a8\u503c\u4f9d\u6b21\u4e3a\\(-10,-10,8,7.29,-9\\)</p>"},{"location":"Chapter-5/5-2/#_2","title":"\u4e00\u4e2a\u7efc\u5408\u793a\u4f8b\uff1a\u56de\u5408\u957f\u5ea6\u4e0e\u7a00\u758f\u5956\u52b1","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u66f4\u590d\u6742\u7684\u4f8b\u5b50\u6765\u8ba8\u8bbaMC Basic\u7b97\u6cd5\u7684\u4e00\u4e9b\u6027\u8d28\u3002\u8be5\u4f8b\u5b50\u662f\u4e00\u4e2a\\(5\\times5\\)\u7684\u7f51\u683c\u4e16\u754c(\u56fe\\(5.4\\))\u3002\u5956\u52b1\u8bbe\u7f6e\u4e3a\uff1a\\(r_\\text{boundary} = \u22121,r_\\text{forbidden} = \u221210\uff0cr_\\text{target} = 1\\)\u3002\u6298\u73b0\u7387\u4e3a\\(\\gamma = 0.9\\)\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u8bc1\u660e\u4e86\u56de\u5408\u957f\u5ea6(episode length)\u5bf9\u6700\u4f18\u7b56\u7565\u6709\u663e\u8457\u5f71\u54cd\u3002\u5177\u4f53\u800c\u8a00\uff0c\u56fe\\(5.4\\)\u5c55\u793a\u4e86MC Basic\u7b97\u6cd5\u5728\u4e0d\u540c\u56de\u5408\u957f\u5ea6\u4e0b\u751f\u6210\u7684\u6700\u7ec8\u7ed3\u679c\u3002\u5f53\u6bcf\u4e2a\u56de\u5408\u7684\u957f\u5ea6\u8fc7\u77ed\u65f6\uff0c\u7b56\u7565\u548c\u4ef7\u503c\u4f30\u8ba1\u5747\u65e0\u6cd5\u8fbe\u5230\u6700\u4f18(\u89c1\u56fe\\(5.4(a)-(d)\\))\u3002\u5728\u56de\u5408\u957f\u5ea6\u4e3a\\(1\\)\u7684\u6781\u7aef\u60c5\u51b5\u4e0b\uff0c\u53ea\u6709\u4e0e\u76ee\u6807\u76f8\u90bb\u7684\u72b6\u6001\u624d\u5177\u6709\u975e\u96f6\u503c\uff0c\u800c\u5176\u4ed6\u6240\u6709\u72b6\u6001\u7684\u503c\u5747\u4e3a\u96f6\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u56de\u5408\u90fd\u592a\u77ed\uff0c\u65e0\u6cd5\u8fbe\u5230\u76ee\u6807\u6216\u83b7\u5f97\u6b63\u5956\u52b1(\u89c1\u56fe\\(5.4(a)\\))\u3002\u968f\u7740\u56de\u5408\u957f\u5ea6\u7684\u589e\u52a0\uff0c\u7b56\u7565\u548c\u4ef7\u503c\u4f30\u8ba1\u4f1a\u9010\u6e10\u63a5\u8fd1\u6700\u4f18\u503c(\u89c1\u56fe\\(5.4(h)\\))\u3002</p> <p></p> <p>\u56fe\\(5.4\\): \u5f53\u7ed9\u5b9a\u4e0d\u540c\u7684\u56de\u5408\u957f\u5ea6\u65f6\uff0cMC\u57fa\u672c\u7b97\u6cd5\u6240\u83b7\u5f97\u7684\u7b56\u7565\u548c\u72b6\u6001\u503c\u3002\u53ea\u6709\u5f53\u6bcf\u4e2a\u56de\u5408\u7684\u957f\u5ea6\u8db3\u591f\u957f\u65f6\uff0c\u72b6\u6001\u503c\u624d\u80fd\u88ab\u51c6\u786e\u4f30\u8ba1\u3002</p> <p>\u968f\u7740\u56de\u5408\u957f\u5ea6\u7684\u589e\u52a0\uff0c\u9010\u6e10\u663e\u73b0\u51fa\u6765\u4e00\u79cd\u73b0\u8c61\uff1a\u8ddd\u79bb\u76ee\u6807\u8f83\u8fd1\u7684\u72b6\u6001\u4f1a\u6bd4\u8ddd\u79bb\u76ee\u6807\u8f83\u8fdc\u7684\u72b6\u6001\u66f4\u65e9\u83b7\u5f97\u4e00\u4e2a\u975e\u96f6\u503c\u3002\u8fd9\u79cd\u73b0\u8c61\u7684\u539f\u56e0\u662f\u56e0\u4e3a\uff0c\u667a\u80fd\u4f53\u4ece\u67d0\u4e2a\u72b6\u6001\u51fa\u53d1\u81f3\u5c11\u9700\u8981\u7ecf\u8fc7\u4e00\u5b9a\u6570\u91cf\u7684\u6b65\u6570\u624d\u80fd\u5230\u8fbe\u76ee\u6807\u72b6\u6001\u5e76\u83b7\u5f97\u6b63\u5956\u52b1\u3002\u5982\u679c\u56de\u5408\u957f\u5ea6\u5c0f\u4e8e\u9700\u8981\u7684\u6700\u5c0f\u6b65\u6570\uff0c\u90a3\u4e48\u56de\u62a5\u4e00\u5b9a\u4e3a\u96f6\uff0c\u72b6\u6001\u503c\u7684\u4f30\u8ba1\u503c\u4e5f\u4f1a\u4e3a\u96f6\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u56de\u5408\u957f\u5ea6\u5fc5\u987b\u4e0d\u5c11\u4e8e\\(15\\)\u6b65\uff0c\u8fd9\u662f\u4ece\u5de6\u4e0b\u89d2\u72b6\u6001\u51fa\u53d1\u5230\u8fbe\u76ee\u6807\u72b6\u6001\u6240\u9700\u7684\u6700\u5c11\u6b65\u6570\u3002</p> <p>\u4e0a\u8ff0\u5206\u6790\u8868\u660e\uff0c\u6bcf\u4e2a\u56de\u5408\u5fc5\u987b\u8db3\u591f\u957f\uff0c\u4f46\u8fd9\u4e9b\u56de\u5408\u5e76\u4e0d\u4e00\u5b9a\u9700\u8981\u65e0\u9650\u957f\u3002\u5982\u56fe\\(5.4(g)\\)\u6240\u793a\uff0c\u5f53\u56de\u5408\u957f\u5ea6\u4e3a\\(30\\)\u65f6\uff0c\u7b97\u6cd5\u53ef\u4ee5\u627e\u5230\u6700\u4f18\u7b56\u7565\uff0c\u5c3d\u7ba1\u6b64\u65f6\u7684\u503c\u4f30\u8ba1\u5c1a\u672a\u8fbe\u5230\u6700\u4f18\u3002</p> <p>\u4e0a\u8ff0\u5206\u6790\u6d89\u53ca\u4e00\u79cd\u91cd\u8981\u7684\u5956\u52b1\u8bbe\u8ba1\u95ee\u9898\uff0c\u5373\u7a00\u758f\u5956\u52b1(sparse reward)\u3002\u7a00\u758f\u5956\u52b1\u662f\u6307\u5728\u672a\u8fbe\u5230\u76ee\u6807\u65f6\u65e0\u6cd5\u83b7\u5f97\u4efb\u4f55\u6b63\u5956\u52b1\u7684\u60c5\u51b5\u3002\u5728\u8fd9\u79cd\u8bbe\u7f6e\u4e0b\uff0c\u667a\u80fd\u4f53\u9700\u8981\u8d70\u8fc7\u8f83\u957f\u7684\u56de\u5408\u957f\u5ea6\u624d\u80fd\u8fbe\u5230\u76ee\u6807\u3002\u5f53\u72b6\u6001\u7a7a\u95f4\u8f83\u5927\u65f6\uff0c\u8fd9\u4e00\u8981\u6c42\u5f88\u96be\u6ee1\u8db3\uff0c\u4ece\u800c\u4ea7\u751f\u7a00\u758f\u5956\u52b1\u95ee\u9898\u4ece\u800c\u964d\u4f4e\u4e86\u5b66\u4e60\u6548\u7387\u3002\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\u7684\u4e00\u79cd\u7b80\u5355\u65b9\u6cd5\u662f\u8bbe\u8ba1\u975e\u7a00\u758f\u5956\u52b1\u3002\u4f8b\u5982\uff0c\u5728\u4e0a\u8ff0\u7f51\u683c\u4e16\u754c\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u91cd\u65b0\u8bbe\u8ba1\u5956\u52b1\u8bbe\u7f6e\uff0c\u4f7f\u667a\u80fd\u4f53\u5728\u63a5\u8fd1\u76ee\u6807\u7684\u72b6\u6001\u65f6\u83b7\u5f97\u8f83\u5c0f\u7684\u6b63\u5956\u52b1\u3002\u8fd9\u6837\uff0c\u76ee\u6807\u5468\u56f4\u5c31\u4f1a\u5f62\u6210\u4e00\u4e2a\u201c\u5f15\u529b\u573a\u201d\uff0c\u4f7f\u667a\u80fd\u4f53\u66f4\u5bb9\u6613\u627e\u5230\u76ee\u6807\u3002\u6709\u5173\u7a00\u758f\u5956\u52b1\u95ee\u9898\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u53ef\u53c2\u89c1\u6587\u732e[17\u201319]\u3002</p>"},{"location":"Chapter-5/5-3/","title":"5.3-MC Exploring Starts\u7b97\u6cd5","text":""},{"location":"Chapter-5/5-3/#53-mc-exploring-starts","title":"5.3 MC Exploring Starts\u7b97\u6cd5","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06MC Basic\u7b97\u6cd5\u6269\u5c55\uff0c\u5f97\u5230\u53e6\u4e00\u79cd\u57fa\u4e8e\u8499\u7279\u5361\u6d1b(MC)\u7684\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\uff0c\u8be5\u7b97\u6cd5\u7a0d\u663e\u590d\u6742\uff0c\u4f46\u6837\u672c\u6548\u7387\u66f4\u9ad8\u3002</p>"},{"location":"Chapter-5/5-3/#531","title":"5.3.1 \u66f4\u6709\u6548\u5730\u5229\u7528\u6837\u672c","text":"<p>\u57fa\u4e8e\u8499\u7279\u5361\u6d1b(MC)\u7684\u5f3a\u5316\u5b66\u4e60\u7684\u4e00\u4e2a\u91cd\u8981\u65b9\u9762\u662f\u5982\u4f55\u66f4\u6709\u6548\u5730\u5229\u7528\u6837\u672c\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5047\u8bbe\u6211\u4eec\u901a\u8fc7\u9075\u5faa\u7b56\u7565\\(\\pi\\)\u83b7\u5f97\u4e86\u4e00\u4e2a\u56de\u5408\uff1a</p> \\[s_1\\xrightarrow{a_2}s_2\\xrightarrow{a_4}s_1\\xrightarrow{a_2}s_2\\xrightarrow{a_3}s_5\\xrightarrow{a_1}\\ldots\\tag{5.3}\\] <p>Note</p> <p>\u6bcf\u5f53\u56de\u5408\u4e2d\u51fa\u73b0\u4e00\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\u65f6\uff0c\u5c31\u79f0\u4e3a\u5bf9\u8be5\u72b6\u6001-\u884c\u52a8\u5bf9\u7684\u4f9d\u6b21\u8bbf\u95ee(visit)\u3002\u6bd4\u5982\u4e0a\u9762\u4f8b\u5b50(s_1,a_2)\u5c31\u79f0\u4e3a\u4e00\u6b21\u8bbf\u95ee,(s_2,a_4)\u5c31\u79f0\u4e3a\u4e00\u6b21\u8bbf\u95ee\u3002</p> <p>\u5176\u4e2d\u4e0b\u6807\u6307\u7684\u662f\u72b6\u6001\u6216\u884c\u52a8\u7684\u7d22\u5f15\uff0c\u800c\u975e\u65f6\u95f4\u6b65\u3002\u6bcf\u5f53\u4e00\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\u5728\u4e00\u6b21\u7ecf\u5386\u4e2d\u51fa\u73b0\u65f6\uff0c\u5c31\u79f0\u4e3a\u5bf9\u8be5\u72b6\u6001-\u52a8\u4f5c\u5bf9\u7684\u4e00\u6b21\u8bbf\u95ee\u3002\u53ef\u4ee5\u91c7\u7528\u4e0d\u540c\u7684\u7b56\u7565\u6765\u5229\u7528\u8fd9\u4e9b\u8bbf\u95ee\u3002</p> <p>\u7b2c\u4e00\u4e2a\u4e5f\u662f\u6700\u7b80\u5355\u7684\u7b56\u7565\u662f\u4f7f\u7528\u9996\u6b21\u8bbf\u95ee(initial visit)\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u4e2a\u56de\u5408\u4ec5\u7528\u4e8e\u4f30\u8ba1\u8be5\u56de\u5408\u5f00\u59cb\u65f6\u7684\u521d\u59cb\u72b6\u6001-\u52a8\u4f5c\u5bf9\u7684\u884c\u52a8\u503c\u3002\u5bf9\u4e8e\\((5.3)\\)\u4e2d\u7684\u4f8b\u5b50\uff0c\u9996\u6b21\u8bbf\u95ee\u7b56\u7565\u4ec5\u4f30\u8ba1\u8be5\u56de\u5408\u4e2d\u72b6\u6001-\u884c\u52a8\u5bf9\\((s1, a2)\\)\u7684\u884c\u52a8\u503c\u3002MC Basic\u7b97\u6cd5\u5c31\u91c7\u7528\u4e86\u9996\u6b21\u8bbf\u95ee\u7b56\u7565\u3002\u7136\u800c\uff0c\u8fd9\u79cd\u7b56\u7565\u5e76\u4e0d\u662f\u6837\u672c\u9ad8\u6548\u7684\uff0c\u56e0\u4e3a\u8be5\u56de\u5408\u8fd8\u8bbf\u95ee\u4e86\u8bb8\u591a\u5176\u4ed6\u72b6\u6001-\u884c\u52a8\u5bf9\uff0c\u4f8b\u5982\\((s_2,a_4),(s_2,a_3),(s_5,a_1)\\)\u3002\u8fd9\u4e9b\u8bbf\u95ee\u4e5f\u53ef\u4ee5\u7528\u6765\u4f30\u8ba1\u76f8\u5e94\u7684\u884c\u52a8\u503c\u3002\u7279\u522b\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\\((5.3)\\)\u4e2d\u7684\u56de\u5408\u5206\u89e3\u4e3a\u591a\u4e2a\u5b50\u56de\u5408\uff1a</p> \\[\\begin{aligned}s_{1}\\xrightarrow{a_{2}}s_{2}\\xrightarrow{a_{4}}s_{1}\\xrightarrow{a_{2}}s_{2}\\xrightarrow{a_{3}}s_{5}\\xrightarrow{a_{1}}\\ldots&amp;\\begin{aligned}[\\text{original episode}]\\end{aligned}[\\text{original episode}]\\\\s_{2}\\xrightarrow{a_{4}}s_{1}\\xrightarrow{a_{2}}s_{2}\\xrightarrow{a_{3}}s_{5}\\xrightarrow{a_{1}}\\ldots&amp;[\\text{subepisode starting from }(s_2,a_4)]\\\\s_{1}\\xrightarrow{a_{2}}s_{2}\\xrightarrow{a_{3}}s_{5}\\xrightarrow{a_{1}}\\ldots&amp;[\\text{subepisode starting from }(s_1,a_2)]\\begin{aligned}[\\text{subepisode starting from }(s_1,a_2)]\\end{aligned}\\\\s_{2}\\xrightarrow{a_{3}}s_{5}\\xrightarrow{a_{1}}\\ldots&amp;[\\text{subepisode starting from }(s_2,a_3)]\\\\s_{5}\\xrightarrow{a_{1}}\\ldots&amp;[\\text{subepisode starting from }(s_5,a_1)]\\end{aligned}\\] <p>\u5728\u8bbf\u95ee\u4e86\u4e00\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\u4e4b\u540e\u751f\u6210\u7684\u8f68\u8ff9\u53ef\u4ee5\u88ab\u89c6\u4e3a\u4e00\u4e2a\u65b0\u7684\u56de\u5408\u3002\u8fd9\u4e9b\u65b0\u7684\u56de\u5408\u53ef\u7528\u4e8e\u4f30\u8ba1\u66f4\u591a\u7684\u884c\u52a8\u503c\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u56de\u5408\u4e2d\u7684\u6837\u672c\u53ef\u4ee5\u5f97\u5230\u66f4\u6709\u6548\u7684\u5229\u7528\u3002</p> <p>\u6b64\u5916\uff0c\u5728\u4e00\u4e2a\u56de\u5408\u4e2d\uff0c\u4e00\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\u53ef\u80fd\u4f1a\u88ab\u591a\u6b21\u8bbf\u95ee\u3002\u4f8b\u5982\uff0c\u5728\\((5.3)\\)\u4e2d\u7684\u56de\u5408\u4e2d\uff0c\\((s_1,a_2)\\)\u88ab\u8bbf\u95ee\u4e86\u4e24\u6b21\u3002\u5982\u679c\u6211\u4eec\u53ea\u8ba1\u7b97\u9996\u6b21\u8bbf\u95ee\uff0c\u8fd9\u79cd\u7b56\u7565\u79f0\u4e3a\u9996\u6b21\u8bbf\u95ee\u7b56\u7565(first-visit)\uff1b\u5982\u679c\u6211\u4eec\u8003\u8651\u8be5\u72b6\u6001-\u52a8\u4f5c\u5bf9\u5728\u8f68\u8ff9\u4e2d\u7684\u6240\u6709\u51fa\u73b0\uff0c\u7d2f\u79ef\u6bcf\u6b21\u7684\u56de\u62a5\uff0c\u5219\u8fd9\u79cd\u7b56\u7565\u79f0\u4e3a\u6bcf\u6b21\u8bbf\u95ee\u7b56\u7565(every-visit)[20]\u3002</p> <p>\u5728\u6837\u672c\u4f7f\u7528\u6548\u7387\u65b9\u9762\uff0c\u6bcf\u6b21\u8bbf\u95ee\u7b56\u7565(every-visit)\u662f\u6700\u597d\u7684\u3002\u5982\u679c\u4e00\u4e2a\u56de\u5408\u8db3\u591f\u957f\uff0c\u80fd\u591f\u591a\u6b21\u8bbf\u95ee\u6240\u6709\u72b6\u6001-\u884c\u52a8\u5bf9\uff0c\u90a3\u4e48\u4ec5\u51ed\u8fd9\u4e00\u56de\u5408\u7684\u6837\u672c\u5c31\u8db3\u4ee5\u4f7f\u7528\u6bcf\u6b21\u8bbf\u95ee\u7b56\u7565\u6765\u4f30\u8ba1\u6240\u6709\u884c\u52a8\u503c\u3002\u7136\u800c\uff0c\u6bcf\u6b21\u8bbf\u95ee\u7b56\u7565\u6240\u83b7\u5f97\u7684\u6837\u672c\u4e4b\u95f4\u5b58\u5728\u76f8\u5173\u6027\uff0c\u56e0\u4e3a\u4ece\u7b2c\u4e8c\u6b21\u8bbf\u95ee\u5f00\u59cb\u7684\u8f68\u8ff9\u4ec5\u4ec5\u662f\u7b2c\u4e00\u6b21\u8bbf\u95ee\u8f68\u8ff9\u7684\u4e00\u90e8\u5206\u3002\u4e0d\u8fc7\uff0c\u5982\u679c\u4e24\u6b21\u8bbf\u95ee\u5728\u8f68\u8ff9\u4e2d\u76f8\u8ddd\u8f83\u8fdc\uff0c\u8fd9\u79cd\u76f8\u5173\u6027\u5c31\u4e0d\u4f1a\u5f88\u5f3a\u3002</p>"},{"location":"Chapter-5/5-3/#532","title":"5.3.2 \u66f4\u9ad8\u6548\u5730\u66f4\u65b0\u7b56\u7565","text":"<p>\u57fa\u4e8e\u8499\u7279\u5361\u6d1b(MC)\u7684\u5f3a\u5316\u5b66\u4e60\u7684\u53e6\u4e00\u4e2a\u65b9\u9762\u662f\u4f55\u65f6\u66f4\u65b0\u7b56\u7565\u3002\u6709\u4e24\u79cd\u7b56\u7565\u53ef\u4f9b\u9009\u62e9\u3002</p> <ul> <li>\u7b2c\u4e00\u79cd\u7b56\u7565\u662f\u5728\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u4e2d\uff0c\u6536\u96c6\u4ece\u540c\u4e00\u72b6\u6001-\u884c\u52a8\u5bf9\u5f00\u59cb\u7684\u6240\u6709\u56de\u5408\uff0c\u7136\u540e\u4f7f\u7528\u8fd9\u4e9b\u56de\u5408\u7684\u5e73\u5747\u56de\u62a5\u6765\u8fd1\u4f3c\u884c\u52a8\u503c\u3002</li> </ul> <p>\u8fd9\u79cd\u7b56\u7565\u88ab\u91c7\u7528\u5728MC Basic\u7b97\u6cd5\u4e2d\u3002\u8fd9\u79cd\u7b56\u7565\u7684\u7f3a\u70b9\u662f\uff0c\u667a\u80fd\u4f53\u5fc5\u987b\u7b49\u5230\u6240\u6709\u56de\u5408\u90fd\u88ab\u6536\u96c6\u5b8c\u6bd5\u540e\u624d\u80fd\u66f4\u65b0\u4f30\u8ba1\u503c\u3002</p> <ul> <li>\u7b2c\u4e8c\u79cd\u7b56\u7565\u53ef\u4ee5\u514b\u670d\u8fd9\u4e00\u7f3a\u70b9\uff0c\u5373\u5229\u7528\u5355\u4e2a\u56de\u5408\u7684\u56de\u62a5\u6765\u8fd1\u4f3c\u76f8\u5e94\u7684\u884c\u52a8\u503c\u3002\u5982\u6b64\u5f53\u6211\u4eec\u83b7\u5f97\u4e00\u4e2a\u56de\u5408\u65f6\uff0c\u5c31\u53ef\u4ee5\u7acb\u5373\u5f97\u5230\u4e00\u4e2a\u7c97\u7565\u7684\u4f30\u8ba1\u503c\u3002\u7136\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u9010\u4e2a\u56de\u5408\u7684\u57fa\u7840\u4e0a\u9010\u6b65\u6539\u8fdb\u7b56\u7565\u3002</li> </ul> <p>Note</p> <p>\u7531\u4e8e\u5355\u4e2a\u56de\u5408\u7684\u56de\u62a5\u65e0\u6cd5\u51c6\u786e\u8fd1\u4f3c\u76f8\u5e94\u7684\u884c\u52a8\u503c\uff0c\u4eba\u4eec\u53ef\u80fd\u4f1a\u6000\u7591\u7b2c\u4e8c\u79cd\u7b56\u7565\u662f\u5426\u6709\u6548\u3002\u5728\u4e0a\u4e00\u7ae0\u4ecb\u7ecd\u7684\u622a\u65ad\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u4e2d\uff0c\u7b2c\u4e00\u6b65\u505a\u7684\u662f policy evaluation\uff0c\u5728\u90a3\u4e00\u6b65\u4e2d\u8981\u6c42\u51fa\u5f53\u524d\u7b56\u7565\u7684\u72b6\u6001\u503c\uff0c\u6c42\u72b6\u6001\u503c\u8981\u6c42\u89e3\u8d1d\u5c14\u66fc\u516c\u5f0f\uff0c\u53c8\u9700\u8981\u65e0\u7a77\u591a\u6b65\u8fed\u4ee3\uff0c\u5f53\u65f6\u5728\u90a3\u4e2a\u7b97\u6cd5\u4e2d\u6211\u4eec\u53ea\u505a\u6709\u9650\u6b65\u8fed\u4ee3\uff0c\u867d\u7136\u5f97\u4e0d\u5230\u975e\u5e38\u7cbe\u786e\u7684\u72b6\u6001\u503c\uff0c\u4f46\u8fd9\u4e2a\u7b97\u6cd5\u4ecd\u7136\u53ef\u884c\u3002\u4e0e\u73b0\u5728\u8fd9\u4e2a\u601d\u60f3\u7c7b\u4f3c\uff0c\u7528\u4e00\u4e2a\u56de\u5408\u6765\u4f30\u8ba1\u884c\u52a8\u503c\uff0c\u8fd9\u663e\u7136\u662f\u4e0d\u7cbe\u786e\u7684\uff0c\u4f46\u662f\u6ca1\u5173\u7cfb\u3002</p>"},{"location":"Chapter-5/5-3/#533","title":"5.3.3 \u7b97\u6cd5\u63cf\u8ff0","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u7b2c\\(5.3.1\\)\u8282\u548c\u7b2c\\(5.3.2\\)\u8282\u4e2d\u4ecb\u7ecd\u7684\u6280\u672f\u6765\u63d0\u9ad8MC Basic\u7b97\u6cd5\u7684\u6548\u7387\uff0c\u4ece\u800c\u5f97\u5230\u4e00\u79cd\u65b0\u7684\u7b97\u6cd5\uff0c\u79f0\u4e3aMC Exploring Starts\u3002</p> <p>MC Exploring Starts\u7684\u7ec6\u8282\u5728\u7b97\u6cd5\\(5.2\\)\u4e2d\u7ed9\u51fa\u3002\u8be5\u7b97\u6cd5\u91c7\u7528\u4e86\u6bcf\u6b21\u8bbf\u95ee\u7b56\u7565\u3002\u6709\u8da3\u7684\u662f\uff0c\u5728\u8ba1\u7b97\u4ece\u6bcf\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\u5f00\u59cb\u83b7\u5f97\u7684\u6298\u73b0\u56de\u62a5\u65f6\uff0c\u8fc7\u7a0b\u662f\u4ece\u7ed3\u675f\u72b6\u6001\u5f00\u59cb\uff0c\u9006\u5411\u56de\u5230\u8d77\u59cb\u72b6\u6001\u3002\u8fd9\u6837\u7684\u6280\u672f\u53ef\u4ee5\u63d0\u9ad8\u7b97\u6cd5\u7684\u6548\u7387\uff0c\u4f46\u4e5f\u4f7f\u5f97\u7b97\u6cd5\u53d8\u5f97\u66f4\u52a0\u590d\u6742\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u9996\u5148\u5f15\u5165\u4e0d\u4f7f\u7528\u8fd9\u4e9b\u6280\u672f\u7684MC Basic\u7b97\u6cd5\uff0c\u4ee5\u63ed\u793a\u57fa\u4e8eMC\u7684\u5f3a\u5316\u5b66\u4e60\u7684\u6838\u5fc3\u601d\u60f3\u3002</p> <p>Note</p> <p>\u63a2\u7d22(Exploring Starts)\u6307\u7684\u662f\u6211\u4ece\u6bcf\u4e00\u4e2a\\((s,a)\\)\u51fa\u53d1\uff0c\u90fd\u8981\u6709\u4e00\u4e2a\u56de\u5408\uff0c\u624d\u80fd\u4f30\u8ba1return\uff0c\u8fdb\u4e00\u6b65\u4f30\u8ba1\u884c\u52a8\u503c\uff0c\u5982\u679c\u6ca1\u6709\u6f0f\u6389\u67d0\u4e2a\u884c\u52a8\uff0c\u90a3\u4e48\u8fd9\u4e2a\u53ef\u80fd\u662f\u6700\u4f18\u7684\uff0c\u4f46\u662f\u5374\u6ca1\u6709\u8bbf\u95ee\u5230\u3002</p> <p>\u8d77\u59cb(starts)\u5bf9\u6bcf\u4e2a\\((s,a)\\)\u751f\u6210return\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e00\u79cd\u662f\u6bcf\u4e00\u4e2a\\((s,a)\\)\u5f00\u59cb\u90fd\u6709\u4e00\u4e2a\u56de\u5408\uff0c\u53eb\u505astart,\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u662f\u4ece\u5176\u4ed6\\((s,a)\\)\u5f00\u59cb\uff0c\u4f46\u4e5f\u80fd\u7ecf\u8fc7\u5f53\u524d\u7684\\((s,a)\\)\uff0c\u90a3\u4e48\u540e\u9762\u7684\u6570\u636e\u4e5f\u53ef\u4ee5\u4f30\u8ba1\u5f53\u524d\\((s,a)\\)\u7684return\uff0c\u53eb\u505avisit\u3002</p> <p>\u5f53\u524d\u6765\u770b,visit\u65b9\u6cd5\u6ca1\u6cd5\u786e\u4fdd\uff0c\u56e0\u4e3a\u5b83\u4e0d\u80fd\u4fdd\u8bc1\u4ece\u5176\u4ed6\\((s,a)\\)\u51fa\u53d1\u53ef\u4ee5\u7ecf\u8fc7\u5269\u4e0b\u7684\u6240\u6709\\((s,a)\\)\u3002</p> <p>Question</p> <p>\u6211\u5728\u5b66\u4e60\u8fd9\u90e8\u5206\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6709\u70b9\u7591\u60d1\uff0c\u540e\u9762\u6211\u4f1a\u5728\u53e6\u5f00\u4e00\u7ae0\uff0c\u540e\u9762\u53e6\u5f00\u4e00\u7ae0\u8fdb\u884c\u8bb2\u89e3\u3002</p> <p>\u63a2\u7d22\u5f00\u59cb(Exploring Starts)\u8981\u6c42\u4ece\u6bcf\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\u5f00\u59cb\u8db3\u591f\u591a\u7684\u56de\u5408\u3002\u53ea\u6709\u5f53\u6bcf\u4e2a\u72b6\u6001-\u52a8\u4f5c\u5bf9\u90fd\u88ab\u5145\u5206\u63a2\u7d22\u65f6\uff0c\u6211\u4eec\u624d\u80fd\u6839\u636e\u5927\u6570\u5b9a\u5f8b\u51c6\u786e\u4f30\u8ba1\u5b83\u4eec\u7684\u884c\u52a8\u503c\uff0c\u4ece\u800c\u6210\u529f\u627e\u5230\u6700\u4f18\u7b56\u7565\u3002\u5426\u5219\uff0c\u5982\u679c\u67d0\u4e2a\u52a8\u4f5c\u6ca1\u6709\u88ab\u5145\u5206\u63a2\u7d22\uff0c\u5176\u884c\u52a8\u503c\u53ef\u80fd\u4f1a\u88ab\u9519\u8bef\u4f30\u8ba1\uff0c\u5373\u4f7f\u8be5\u884c\u52a8\u5b9e\u9645\u4e0a\u662f\u6700\u4f73\u884c\u52a8\uff0c\u4e5f\u53ef\u80fd\u4e0d\u4f1a\u88ab\u7b56\u7565\u9009\u62e9\u3002MC Basic\u548cMC Exploring Starts\u90fd\u9700\u8981\u6ee1\u8db3\u8fd9\u4e00\u6761\u4ef6\u3002\u7136\u800c\uff0c\u5728\u8bb8\u591a\u5e94\u7528\u4e2d\uff0c\u5c24\u5176\u662f\u6d89\u53ca\u4e0e\u73af\u5883\u7684\u7269\u7406\u4ea4\u4e92\u65f6\uff0c\u8fd9\u4e00\u6761\u4ef6\u5f88\u96be\u6ee1\u8db3\u3002\u90a3\u4e48\uff0c\u6211\u4eec\u80fd\u5426\u53bb\u6389\u63a2\u7d22\u5f00\u59cb\u7684\u8981\u6c42\u5462\uff1f\u7b54\u6848\u662f\u80af\u5b9a\u7684\uff0c\u6211\u4eec\u5c06\u5728\u4e0b\u8282\u4e2d\u8fdb\u884c\u63a2\u7d22\u3002</p> <p></p> <p>\u7b97\u6cd5\\(5.2\\): MC Exploring Starts(MC\u57fa\u672c\u7b97\u6cd5\u7684\u4e00\u79cd\u9ad8\u6548\u53d8\u4f53)</p>"},{"location":"Chapter-5/5-4/","title":"5.4-MC-Greedy\u7b97\u6cd5","text":""},{"location":"Chapter-5/5-4/#54-mc-varepsilon-greedy","title":"5.4- MC \\(\\varepsilon\\)-Greedy\u7b97\u6cd5","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u901a\u8fc7\u79fb\u9664\u63a2\u7d22\u5f00\u59cb(Exploring Starts)\u6761\u4ef6\u6765\u6269\u5c55MC Exploring Starts\u7b97\u6cd5\u3002\u8fd9\u4e00\u6761\u4ef6\u5b9e\u9645\u4e0a\u8981\u6c42\u6bcf\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\u90fd\u80fd\u88ab\u8bbf\u95ee\u8db3\u591f\u591a\u6b21\uff0c\u8fd9\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8f6f\u7b56\u7565\u6765\u5b9e\u73b0\u3002</p>"},{"location":"Chapter-5/5-4/#541-varepsilon-greedy","title":"5.4.1 \\(\\varepsilon\\)-greedy\u7b56\u7565","text":"<p>\u5982\u679c\u4e00\u4e2a\u7b56\u7565\u5728\u4efb\u4f55\u72b6\u6001\u4e0b\u91c7\u53d6\u4efb\u4f55\u884c\u52a8\u7684\u6982\u7387\u90fd\u4e3a\u6b63(\u5373\u53ef\u80fd\u9009\u62e9\u4efb\u4f55\u4e00\u79cd\u884c\u52a8)\uff0c\u5219\u8be5\u7b56\u7565\u662f\u8f6f\u7b56\u7565\u3002\u8003\u8651\u4e00\u79cd\u6781\u7aef\u60c5\u51b5\uff0c\u5373\u6211\u4eec\u53ea\u6709\u4e00\u4e2a\u56de\u5408\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u91c7\u7528\u8f6f\u7b56\u7565\uff0c\u4e00\u4e2a\u8db3\u591f\u957f\u7684\u56de\u5408\u53ef\u4ee5\u591a\u6b21\u8bbf\u95ee\u6bcf\u4e2a\u72b6\u6001-\u52a8\u4f5c\u5bf9(\u89c1\u56fe\\(5.8\\)\u4e2d\u7684\u4f8b\u5b50)\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u4ece\u4e0d\u540c\u7684\u72b6\u6001-\u52a8\u4f5c\u5bf9\u5f00\u59cb\u751f\u6210\u5927\u91cf\u56de\u5408\uff0c\u8fd9\u65f6\u4fbf\u53ef\u4ee5\u79fb\u9664\u63a2\u7d22\u5f00\u59cb\u7684\u8981\u6c42\u3002</p> <p>Note</p> <p>\u6ce8: \u7b56\u7565\u5206\u4e3adeterministic\u548cstochastic\u4e24\u79cd\uff0c\u4e4b\u524d\u8bb2\u7684Greedy\u7b56\u7565\u5c31\u662fdeterministic\uff0c\u800c\u73b0\u5728\u8981\u8bb2\u7684\u8f6f\u7b56\u7565\u548c\\(\\varepsilon\\)-Greedy\u90fd\u662fstochastic\u7684\u3002</p> <p>\u4e00\u79cd\u5e38\u89c1\u7684\u8f6f\u7b56\u7565\u662f\\(\\varepsilon\\)-Greedy\u7b56\u7565\u3002\\(\\varepsilon\\)-Greedy\u7b56\u7565\u662f\u4e00\u79cd\u968f\u673a\u7b56\u7565\uff0c\u5b83\u9009\u62e9Greedy\u52a8\u4f5c\u7684\u6982\u7387\u8f83\u9ad8\uff0c\u800c\u9009\u62e9\u4efb\u4f55\u5176\u4ed6\u52a8\u4f5c\u7684\u6982\u7387\u5219\u76f8\u540c\u4e14\u4e0d\u4e3a\u96f6\u3002\u8fd9\u91cc\u7684Greedy\u52a8\u4f5c\u662f\u6307\u5177\u6709\u6700\u5927\u52a8\u4f5c\u503c\u7684\u52a8\u4f5c\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5047\u8bbe\\(\\varepsilon\\in[0,1]\\)\uff0c\u76f8\u5e94\u7684\\(\\varepsilon\\)-Greedy\u7b56\u7565\u5177\u6709\u4ee5\u4e0b\u5f62\u5f0f\uff1a</p> <p>Note</p> <p>\u6ce8: \u4e3a\u4ec0\u4e48\u8981\u5f15\u5165soft policy\uff1f</p> <p>\u91c7\u7528\u8f6f\u7b56\u7565\u7684\u8bdd\uff0c\u4ece\u4e00\u4e2a\\((s,a)\\)\u51fa\u53d1\uff0c\u5982\u679c\u56de\u5408\u5f88\u957f\u7684\u8bdd\uff0c\u80fd\u591f\u786e\u4fdd\u4efb\u4f55\u4e00\u4e2a\\(s\\)\u548c\\(a\\)\u90fd\u53ef\u4ee5\u88ab\u8be5\u56de\u5408\u8bbf\u95ee\u5230\u3002\u4e00\u4e9b\u8db3\u591f\u957f\u7684\u56de\u5408\u5c31\u53ef\u4ee5\u8bbf\u95ee\u6240\u6709\u7684\\((s,a)\\)\u3002\u4ece\u800c\u4e0d\u9700\u8981\u5927\u91cf\u7684\u56de\u5408\u5373\u53ef\uff0c\u53ea\u9700\u8981\u4ece\u4e00\u4e2a\u6216\u8005\u51e0\u4e2a\u51fa\u53d1\uff0c\u8fd9\u6837\u5c31\u80fd\u79fb\u9664exploring starts\u6761\u4ef6\u3002</p> \\[\\left.\\pi(a|s)=\\left\\{\\begin{array}{ll}1-\\frac{\\varepsilon}{|\\mathcal{A}(s)|}(|\\mathcal{A}(s)|-1),&amp;\\text{for the greedy action,}\\\\\\\\\\frac{\\varepsilon}{|\\mathcal{A}(s)|},&amp;\\text{for the other}|\\mathcal{A}(s)|-1\\mathrm{actions,}\\end{array}\\right.\\right.\\] <p>\u5176\u4e2d\\(|\\mathcal{A}(s)|\\)\u8868\u793a\u4e0e\u72b6\u6001\\(s\\)\u76f8\u5173\u8054\u7684\u52a8\u4f5c\u6570\u91cf\u3002</p> <p>\u5f53\\(\\varepsilon=0\\)\u65f6\uff0c\\(\\varepsilon\\)-Greedy\u7b56\u7565\u53d8\u4e3aGreedy\u7b56\u7565\u3002\u5f53\\(\\varepsilon = 1\\)\u65f6\uff0c\u91c7\u53d6\u4efb\u4f55\u52a8\u4f5c\u7684\u6982\u7387\u90fd\u7b49\u4e8e\\(\\frac{1}{|\\mathcal{A}(s)|}\\)\u3002</p> <p>\u91c7\u53d6Greedy\u884c\u52a8\u7684\u6982\u7387\u603b\u662f\u5927\u4e8e\u91c7\u53d6\u4efb\u4f55\u5176\u4ed6\u52a8\u4f5c\u7684\u6982\u7387,\u56e0\u4e3a\u5bf9\u4e8e\u4efb\u610f\\(\\varepsilon\\in[0,1]\\)\u6709</p> \\[1-\\frac{\\varepsilon}{|\\mathcal{A}(s)|}(|\\mathcal{A}(s)|-1)=1-\\varepsilon+\\frac{\\varepsilon}{|\\mathcal{A}(s)|}\\geq\\frac{\\varepsilon}{|\\mathcal{A}(s)|}\\] <p>\u867d\u7136 \\(\\varepsilon\\)-Greedy\u7b56\u7565\u662f\u968f\u673a\u7684\uff0c\u4f46\u6211\u4eec\u5982\u4f55\u6309\u7167\u8fd9\u6837\u7684\u7b56\u7565\u9009\u62e9\u4e00\u4e2a\u52a8\u4f5c\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u9996\u5148\u6309\u7167\u5747\u5300\u5206\u5e03\u751f\u6210\u4e00\u4e2a\u4f4d\u4e8e\\([0,1]\\)\u4e4b\u95f4\u7684\u968f\u673a\u6570\\(x\\)\u3002\u5982\u679c\\(x \\geq \\varepsilon\\)\uff0c\u5219\u9009\u62e9Greedy\u52a8\u4f5c\u3002\u5982\u679c\\(x &lt; \\varepsilon\\)\uff0c\u5219\u4ee5\u6982\u7387 \\(\\frac{1}{|A(s)|}\\) \u4ece\\(A(s)\\)\u4e2d\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u52a8\u4f5c\uff08\u53ef\u80fd\u4f1a\u518d\u6b21\u9009\u62e9Greedy\u52a8\u4f5c\uff09\u3002\u8fd9\u6837\uff0c\u9009\u62e9Greedy\u52a8\u4f5c\u7684\u603b\u6982\u7387\u662f \\(1 - \\varepsilon + \\frac{\\varepsilon}{|A(s)|}\\)\uff0c\u800c\u9009\u62e9\u5176\u4ed6\u52a8\u4f5c\u7684\u6982\u7387\u662f \\(\\frac{\\varepsilon}{|A(s)|}\\)\u3002</p>"},{"location":"Chapter-5/5-4/#542","title":"5.4.2 \u7b97\u6cd5\u63cf\u8ff0","text":"<p>\u4e3a\u4e86\u5c06\\(\\varepsilon\\)-Greedy\u7b56\u7565\u96c6\u6210\u5230MC\u5b66\u4e60\u4e2d\uff0c\u6211\u4eec\u53ea\u9700\u5c06\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u4e2d\u7684Greedy\u6539\u4e3a\\(\\varepsilon\\)-Greedy\u5373\u53ef\u3002</p> <p>\u7279\u522b\u5730\uff0cMC Basic\u6216MC Exploring Starts\u4e2d\u7684\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u65e8\u5728\u89e3\u51b3(\u5728\u7b2c\u4e00\u6b65\u4e2d\u6c42\u89e3\u4e86\\(q_{\\pi_k}(s,a)\\)\uff0c\u8fd9\u4e00\u6b65\u8981\u6c42\u89e3\u4e0b\u9762\u8fd9\u4e2a\u4f18\u5316\u95ee\u9898\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u7b56\u7565)</p> \\[\\pi_{k+1}(s) = \\arg \\max_{\\pi \\in \\Pi} \\sum_{a} \\pi(a|s) q_{\\pi_k}(s, a),\\tag{5.4}\\] <p>\u5176\u4e2d\\(\\Pi\\)\u8868\u793a\u6240\u6709\u53ef\u80fd\u7b56\u7565\u7684\u96c6\u5408\u3002\u6211\u4eec\u77e5\u9053\uff0c\\((5.4)\\)\u7684\u89e3\u662f\u4e00\u4e2aGreedy\u7b56\u7565\uff1a</p> \\[\\pi_{k+1}(a|s) = \\begin{cases}1, &amp; \\text{if } a = a^*; \\\\0, &amp; \\text{if } a \\neq a^*;\\end{cases}\\] <p>\u5176\u4e2d\\(a^* = \\arg \\max_a q_\\pi(s, a)\\)\u3002</p> <p>\u73b0\u5728\uff0c\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u88ab\u66f4\u6539\u4e3a\u6c42\u89e3\uff1a</p> \\[\\pi_{k+1}(s) = \\arg \\max_{\\pi \\in \\Pi_\\varepsilon} \\sum_{a} \\pi(a|s) q_{\\pi_k}(s, a),\\tag{5.5}\\] <p>\u5176\u4e2d\\(\\Pi_\\varepsilon\\)\u8868\u793a\u6240\u6709\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u96c6\u5408\uff0c\u7ed9\u5b9a\\(\\varepsilon\\)\u7684\u503c\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u6211\u4eec\u5f3a\u5236\u7b56\u7565\u4e3a\\(\\varepsilon\\)-Greedy\u3002\\((5.5)\\)\u7684\u89e3\u662f\uff1a</p> \\[\\pi_{k+1}(a|s) = \\begin{cases}1 - \\frac{|A(s)| - 1}{|A(s)|} \\varepsilon, &amp; \\text{if } a = a^*; \\\\\\frac{\\varepsilon}{|A(s)|}, &amp; \\text{if } a \\neq a^*;\\end{cases}\\] <p>\u5176\u4e2d\\(a^* = \\arg \\max_a q_{\\pi_k}(s, a)\\)\u3002\u901a\u8fc7\u4e0a\u8ff0\u6539\u52a8\uff0c\u6211\u4eec\u83b7\u5f97\u4e86\u53e6\u4e00\u4e2a\u7b97\u6cd5\uff0c\u79f0\u4e3aMC \\(\\varepsilon\\)-Greedy\u7b97\u6cd5\u3002\u8be5\u7b97\u6cd5\u7684\u8be6\u7ec6\u5185\u5bb9\u5728\u7b97\u6cd5\\(5.3\\)\u4e2d\u7ed9\u51fa\u3002\u8fd9\u91cc\u91c7\u7528\u6bcf\u6b21\u8bbf\u95ee(every-visit)\u7684\u7b56\u7565\u6765\u66f4\u597d\u5730\u5229\u7528\u6837\u672c\u3002</p> <p>Note</p> <p>\u6ce8: \u7b80\u800c\u8a00\u4e4b\uff0c\u8fd9\u91cc\u5c31\u662f\u628a\u6700\u5927\u7684\u6982\u7387\u7ed9Greedy\u884c\u52a8\uff0c\u800c\u5269\u4e0b\u7684\u6240\u6709\u884c\u52a8\u4f1a\u7ed9\u4e00\u4e2a\u76f8\u540c\u8f83\u5c0f\u7684\u6982\u7387\u3002</p> <p>\u5982\u679c\u5728\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u4e2d\u7528\\(\\varepsilon\\)-Greedy\u7b56\u7565\u53d6\u4ee3Greedy\u7b56\u7565\uff0c\u6211\u4eec\u8fd8\u80fd\u4fdd\u8bc1\u5f97\u5230\u6700\u4f18\u7b56\u7565\u5417\uff1f\u7b54\u6848\u662f\u65e2\u80af\u5b9a\u53c8\u5426\u5b9a\u3002\u80af\u5b9a\u662f\u6307\uff0c\u5f53\u7ed9\u5b9a\u8db3\u591f\u591a\u7684\u6837\u672c\u65f6\uff0c\u8be5\u7b97\u6cd5\u53ef\u4ee5\u6536\u655b\u5230\u4e00\u4e2a\u5728\u96c6\u5408\\(\\Pi_\\varepsilon\\)\u4e2d\u4e3a\u6700\u4f18\u7684\\(\\varepsilon\\)-Greedy\u7b56\u7565\uff1b\u5426\u5b9a\u662f\u6307\uff0c\u8be5\u7b56\u7565\u4ec5\u5728\\(\\Pi_\\varepsilon\\)\u4e2d\u4e3a\u6700\u4f18\uff0c\u4f46\u5728\\(\\Pi\\)\u4e2d\u53ef\u80fd\u5e76\u975e\u6700\u4f18\u3002\u7136\u800c\uff0c\u5982\u679c\\(\\varepsilon\\)\u8db3\u591f\u5c0f\uff0c\u90a3\u4e48\u5728\\(\\Pi_\\varepsilon\\)\u4e2d\u7684\u6700\u4f18\u7b56\u7565\u5c06\u63a5\u8fd1\u4e8e\u5728\\(\\Pi\\)\u4e2d\u7684\u6700\u4f18\u7b56\u7565\u3002</p> <p></p> <p>\u7b97\u6cd5\\(5.3\\):MC \\(\\varepsilon\\)-Greedy(MC exploring starts\u7684\u53d8\u4f53)</p>"},{"location":"Chapter-5/5-4/#543","title":"5.4.3 \u793a\u4f8b","text":"<p>\u8003\u8651\u56fe\\(5.5\\)\u6240\u793a\u7684\u7f51\u683c\u4e16\u754c\u793a\u4f8b\u3002\u76ee\u6807\u662f\u4e3a\u6bcf\u4e2a\u72b6\u6001\u627e\u5230\u6700\u4f18\u7b56\u7565\u3002\u5728MC \\(\\varepsilon\\)-Greedy\u7b97\u6cd5\u7684\u6bcf\u6b21\u8fed\u4ee3\u4e2d\uff0c\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u5305\u542b\u4e00\u767e\u4e07\u6b65\u7684\u5355\u4e00\u56de\u5408\u3002\u8fd9\u91cc\uff0c\u6211\u4eec\u7279\u610f\u8003\u8651\u4e86\u4ec5\u5305\u542b\u4e00\u4e2a\u56de\u5408\u7684\u6781\u7aef\u60c5\u51b5\u3002\u6211\u4eec\u8bbe\u5b9a\\(r_\\text{boundary} = r_\\text{forbidden} = \u22121,r_\\text{target} = 1\\)\uff0c\u4ee5\u53ca\\(\\gamma= 0.9\\)\u3002</p> <p>\u521d\u59cb\u7b56\u7565\u662f\u4e00\u79cd\u5747\u5300\u7b56\u7565\uff0c\u91c7\u53d6\u4efb\u4f55\u52a8\u4f5c\u7684\u6982\u7387\u5747\u4e3a\\(0.2\\)\uff0c\u5982\u56fe\\(5.5\\)\u6240\u793a\u3002\u7ecf\u8fc7\u4e24\u6b21\u8fed\u4ee3\u540e\uff0c\u53ef\u4ee5\u83b7\u5f97\\(\\varepsilon=0.5\\)\u7684\u6700\u4f18\\(\\varepsilon\\)-Greedy\u7b56\u7565\u3002\u5c3d\u7ba1\u6bcf\u6b21\u8fed\u4ee3\u4ec5\u4f7f\u7528\u4e00\u4e2a\u56de\u5408\uff0c\u4f46\u7b56\u7565\u4f1a\u9010\u6e10\u6539\u8fdb\uff0c\u8fd9\u662f\u56e0\u4e3a\u6240\u6709\u72b6\u6001-\u884c\u52a8\u5bf9\u90fd\u53ef\u4ee5\u88ab\u8bbf\u95ee\u5230\uff0c\u4ece\u800c\u80fd\u591f\u51c6\u786e\u4f30\u8ba1\u5b83\u4eec\u7684\u4ef7\u503c\u3002</p> <p></p> <p>\u56fe\\(5.5\\)\uff1a\u57fa\u4e8e\u5355\u4e2a\u56de\u5408\u7684MC \\(\\varepsilon\\)-Greedy\u7b97\u6cd5\u7684\u6f14\u5316\u8fc7\u7a0b\u3002</p> <p>Note</p> <p>\u6ce8: \u56fe\u4e2d\\((a)\\)\u662f\u6700\u521d\u7684\u7b56\u7565\uff0c\u8fd9\u4e2a\u7b56\u7565\u5e76\u4e0d\u597d\uff0c\u56e0\u4e3a\u5728\u6bcf\u4e00\u6b65\u90fd\u6709\u76f8\u540c\u7684\u6982\u7387\u53bb\u9009\u62e9\u6240\u6709action\uff0c\u90a3\u4e48\u7ecf\u8fc7\u4e00\u4e2a\u7b56\u7565\u751f\u6210\u4e00\u4e2a\u4e00\u767e\u4e07\u6b65\u7684\u56de\u5408\uff0c\u7136\u540e\u66f4\u65b0\u7b56\u7565\uff0c\u5c31\u5f97\u5230\u4e86\\((b)\\)\u4e2d\u7684\u7b56\u7565\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5728\u4e00\u4e9b\u72b6\u6001\u4e0b\uff0c\u667a\u80fd\u4f53\u4f1a\u4fdd\u6301\u4e0d\u52a8\uff0c\u56e0\u6b64\u6211\u4eec\u518d\u8fdb\u884c\u4e00\u6b21\u66f4\u65b0\uff0c\u5982\u679c\u53ea\u770b\u7eff\u8272\u7bad\u5934\u6700\u957f\u7684action(\u4ee3\u8868\u6982\u7387\u6700\u5927\u7684action)\uff0c\u90a3\u4e48\u5176\u76f8\u5bf9\u4e8e\\((b)\\)\u6765\u8bf4\u8f83\u4e3a\u5408\u7406\uff0c\u4ece\u4efb\u4f55\u4e00\u70b9\u51fa\u53d1\u5747\u53ef\u4ee5\u5230\u8fbe\u76ee\u6807\uff0c\u4f46\u662f\u5b83\u4eec\u4ecd\u7136\u4f1a\u7a7f\u8d8a\u8fc7\u969c\u788d\u7269\uff0c\u4ece\u8fd9\u4e2a\u610f\u4e49\u4e0a\u6765\u8bb2\uff0c\u8fd9\u4e2a\u7b56\u7565\u8fd8\u4e0d\u662f\u6700\u4f18\u7684\uff0c\u6240\u4ee5\\(\\varepsilon\\)-Greedy\u901a\u8fc7\u727a\u7272\u6700\u4f18\u6027\u800c\u83b7\u5f97\u4e86\u4e00\u4e9b\u63a2\u7d22\u6027\u3002</p>"},{"location":"Chapter-5/5-5/","title":"5.5-\u63a2\u7d22\u4e0e\u5229\u7528:\u4ee5Greedy\u7b56\u7565\u4e3a\u4f8b","text":""},{"location":"Chapter-5/5-5/#55-greedy","title":"5.5 \u63a2\u7d22\u4e0e\u5229\u7528: \u4ee5Greedy\u7b56\u7565\u4e3a\u4f8b","text":"<p>\u63a2\u7d22\u4e0e\u5229\u7528(Exploration and exploitation)\u662f\u5f3a\u5316\u5b66\u4e60\u4e2d\u4e00\u4e2a\u57fa\u672c\u7684\u6743\u8861\u95ee\u9898\u3002\u5176\u4e2d\uff0c\u63a2\u7d22\u662f\u6307\u7b56\u7565\u53ef\u4ee5\u5c3d\u53ef\u80fd\u591a\u5730\u91c7\u53d6\u5404\u79cd\u884c\u52a8\uff0c\u4ece\u800c\u786e\u4fdd\u6240\u6709\u884c\u52a8\u90fd\u80fd\u88ab\u5145\u5206\u8bbf\u95ee\u548c\u8bc4\u4f30\uff1b\u800c\u5229\u7528\u5219\u662f\u6307\u6539\u8fdb\u540e\u7684\u7b56\u7565\u5e94\u91c7\u53d6\u884c\u52a8\u503c\u6700\u5927\u7684Greedy\u52a8\u4f5c\u3002\u7136\u800c\uff0c\u7531\u4e8e\u5f53\u524d\u65f6\u523b\u83b7\u5f97\u7684\u884c\u52a8\u503c\u53ef\u80fd\u7531\u4e8e\u63a2\u7d22\u4e0d\u8db3\u800c\u4e0d\u51c6\u786e\uff0c\u56e0\u6b64\u5728\u8fdb\u884c\u5229\u7528\u7684\u540c\u65f6\uff0c\u6211\u4eec\u4ecd\u9700\u4fdd\u6301\u63a2\u7d22\uff0c\u4ee5\u907f\u514d\u9519\u8fc7\u6700\u4f18\u884c\u52a8\u3002</p> <p>\\(\\varepsilon\\)-Greedy\u7b56\u7565\u63d0\u4f9b\u4e86\u4e00\u79cd\u5e73\u8861\u63a2\u7d22\u4e0e\u5229\u7528\u7684\u65b9\u6cd5\u3002\u4e00\u65b9\u9762\uff0c\\(\\varepsilon\\)-Greedy\u7b56\u7565\u6709\u66f4\u9ad8\u7684\u6982\u7387\u91c7\u53d6Greedy\u52a8\u4f5c\uff0c\u4ece\u800c\u80fd\u591f\u5229\u7528\u4f30\u8ba1\u7684\u503c\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\\(\\varepsilon\\)-Greedy\u7b56\u7565\u4e5f\u6709\u673a\u4f1a\u91c7\u53d6\u5176\u4ed6\u52a8\u4f5c\uff0c\u4ece\u800c\u4fdd\u6301\u63a2\u7d22\u3002\\(\\varepsilon\\)-Greedy\u7b56\u7565\u4e0d\u4ec5\u7528\u4e8e\u57fa\u4e8e\u8499\u7279\u5361\u6d1b(MC)\u7684\u5f3a\u5316\u5b66\u4e60\uff0c\u4e5f\u7528\u4e8e\u5176\u4ed6\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u4e2d\uff0c\u4f8b\u5982\u7b2c\\(7\\)\u7ae0\u4ecb\u7ecd\u7684\u65f6\u5e8f\u5dee\u5206\u5b66\u4e60\u3002</p> <p>\u5229\u7528\u4e0e\u6700\u4f18\u6027\u76f8\u5173\uff0c\u56e0\u4e3a\u6700\u4f18\u7b56\u7565\u5e94\u5f53\u662fGreedy\u7684\u3002\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u57fa\u672c\u601d\u60f3\u662f\u901a\u8fc7\u727a\u7272\u6700\u4f18\u6027/\u5229\u7528\u6027\u6765\u589e\u5f3a\u63a2\u7d22\u6027\u3002\u5982\u679c\u6211\u4eec\u5e0c\u671b\u589e\u5f3a\u5229\u7528\u6027\uff0c\u5c31\u9700\u8981\u964d\u4f4e\\(\\varepsilon\\)\u7684\u503c\u3002\u7136\u800c\uff0c\u5982\u679c\u6211\u4eec\u5e0c\u671b\u589e\u5f3a\u63a2\u7d22\u6027\uff0c\u5219\u9700\u8981\u63d0\u9ad8\\(\\varepsilon\\)\u7684\u503c\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u57fa\u4e8e\u4e00\u4e9b\u6709\u8da3\u7684\u4f8b\u5b50\u6765\u8ba8\u8bba\u8fd9\u79cd\u6743\u8861\u3002\u8fd9\u91cc\u7684\u5f3a\u5316\u5b66\u4e60\u4efb\u52a1\u662f\u4e00\u4e2a\\(5\\times 5\\)\u7684\u7f51\u683c\u4e16\u754c\u3002\u5956\u52b1\u8bbe\u7f6e\u4e3a\uff1a\\(r_\\text{boundary} = \u22121\\)\uff0c\\(r_\\text{forbidden} = \u221210\\)\uff0c\\(r_\\text{target} = 1\\)\u3002\u6298\u73b0\u7387\u4e3a\\(\\gamma= 0.9\\)\u3002</p>"},{"location":"Chapter-5/5-5/#varepsilon-greedy","title":"\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u6700\u4f18\u6027","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u5c55\u793a\uff0c\u5f53\\(\\varepsilon\\)\u589e\u52a0\u65f6\uff0c\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u6700\u4f18\u6027\u4f1a\u53d8\u5dee\u3002</p> <ul> <li> <p>\u9996\u5148\uff0c\u5728\u56fe\\(5.6(a)\\)\u4e2d\u5c55\u793a\u4e86Greedy\u7684\u6700\u4f18\u7b56\u7565\u53ca\u5176\u5bf9\u5e94\u7684\u6700\u4f18\u72b6\u6001\u503c\u3002\u4e00\u4e9b\u4e00\u81f4\u7684\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u72b6\u6001\u503c\u5982\u56fe\\(5.6(b)-(d)\\)\u3002\u8fd9\u91cc\u5982\u679c\u4e24\u4e2a\\(\\varepsilon\\)-Greedy\u7b56\u7565\u4e2d\u6982\u7387\u6700\u5927\u7684\u52a8\u4f5c\u76f8\u540c\uff0c\u5219\u8fd9\u4e24\u4e2a\u7b56\u7565\u662f\u4e00\u81f4(consistent)\u7684\u3002</p> <p>\u968f\u7740\\(\\varepsilon\\)\u503c\u7684\u589e\u52a0\uff0c\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u72b6\u6001\u503c\u4f1a\u4e0b\u964d\uff0c\u8fd9\u8868\u660e\u8fd9\u4e9b\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u6700\u4f18\u6027\u4f1a\u53d8\u5dee\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5f53\\(\\varepsilon\\)\u503c\u8fbe\u5230\\(0.5\\)\u65f6\uff0c\u76ee\u6807\u72b6\u6001\u7684\u503c\u4f1a\u53d8\u5f97\u6700\u5c0f\u3002\u8fd9\u662f\u56e0\u4e3a\uff0c\u5f53\\(\\varepsilon\\)\u503c\u8f83\u5927\u65f6\uff0c\u4ece\u76ee\u6807\u533a\u57df\u51fa\u53d1\u7684\u667a\u80fd\u4f53\u53ef\u80fd\u4f1a\u8fdb\u5165\u5468\u56f4\u7684\u7981\u533a\uff0c\u4ece\u800c\u66f4\u6709\u53ef\u80fd\u83b7\u5f97\u8d1f\u5956\u52b1\u3002</p> </li> <li> <p>\u5176\u6b21\uff0c\u56fe\\(5.7\\)\u5c55\u793a\u4e86\u6700\u4f18\u7684\\(\\varepsilon\\)-Greedy\u7b56\u7565\uff08\u5b83\u4eec\u5728\\(\\Pi_\\varepsilon\\)\u4e2d\u662f\u6700\u4f18\u7684\uff09\u3002\u5f53\\(\\varepsilon=0\\)\u65f6\uff0c\u8be5\u7b56\u7565\u662fGreedy\u7b56\u7565\uff0c\u5e76\u4e14\u5728\u6240\u6709\u7b56\u7565\u4e2d\u662f\u6700\u4f18\u7684\u3002\u5f53\\(\\varepsilon\\)\u5c0f\u5230\\(0.1\\)\u65f6\uff0c\u6700\u4f18\u7684\\(\\varepsilon\\)-Greedy\u7b56\u7565\u4e0e\u6700\u4f18\u7684Greedy\u7b56\u7565\u4e00\u81f4\u3002\u7136\u800c\uff0c\u5f53\\(\\varepsilon\\)\u589e\u52a0\u5230\u4f8b\u5982\\(0.2\\)\u65f6\uff0c\u6240\u5f97\u5230\u7684\\(\\varepsilon\\)-Greedy\u7b56\u7565\u4e0e\u6700\u4f18\u7684Greedy\u7b56\u7565\u5c31\u4e0d\u4e00\u81f4\u4e86\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6211\u4eec\u5e0c\u671b\u5f97\u5230\u4e0e\u6700\u4f18Greedy\u7b56\u7565\u4e00\u81f4\u7684\\(\\varepsilon\\)-Greedy\u7b56\u7565\uff0c\\(\\varepsilon\\)\u7684\u503c\u5e94\u8db3\u591f\u5c0f\u3002</p> <p>\u4e3a\u4ec0\u4e48\u5f53\\(\\varepsilon\\)\u8f83\u5927\u65f6\uff0c\\(\\varepsilon\\)-Greedy\u7b56\u7565\u4e0e\u6700\u4f18Greedy\u7b56\u7565\u4e0d\u4e00\u81f4\uff1f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8003\u8651\u76ee\u6807\u72b6\u6001\u6765\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\u3002\u5728Greedy\u7684\u60c5\u51b5\u4e0b\uff0c\u76ee\u6807\u72b6\u6001\u4e0b\u7684\u6700\u4f18\u7b56\u7565\u662f\u4fdd\u6301\u4e0d\u52a8\u4ee5\u83b7\u5f97\u6b63\u5956\u52b1\u3002\u7136\u800c\uff0c\u5f53\\(\\varepsilon\\)\u8f83\u5927\u65f6\uff0c\u8fdb\u5165\u7981\u533a\u5e76\u83b7\u5f97\u8d1f\u5956\u52b1\u7684\u53ef\u80fd\u6027\u5f88\u9ad8\u3002\u56e0\u6b64\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u76ee\u6807\u72b6\u6001\u4e0b\u7684\u6700\u4f18\u7b56\u7565\u662f\u9003\u79bb\uff0c\u800c\u4e0d\u662f\u4fdd\u6301\u4e0d\u52a8\u3002</p> </li> </ul> <p>Note</p> <p>\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u6211\u5e0c\u671b\\(\\varepsilon\\)-Greedy\u7b56\u7565\u4e0eGreedy\u7b56\u7565\u662f\u4e00\u81f4\u7684\uff0c\\(\\varepsilon\\)\u8fc7\u5927\u4f1a\u5bfc\u81f4\u7b56\u7565\u4e0d\u662f\u6700\u4f18\u7684\u3002</p> <p></p> <p>\u56fe\\(5.6\\)\uff1a\u4e00\u4e9b\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u72b6\u6001\u503c\u3002\u8fd9\u4e9b\\(\\varepsilon\\)-Greedy\u7b56\u7565\u5728\u884c\u52a8\u6982\u7387\u6700\u5927\u7684\u884c\u52a8\u76f8\u540c\u7684\u610f\u4e49\u4e0a\u5f7c\u6b64\u4e00\u81f4\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u5f53\\(\\varepsilon\\)\u7684\u503c\u589e\u5927\u65f6\uff0c\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u72b6\u6001\u503c\u4f1a\u964d\u4f4e\uff0c\u56e0\u6b64\u5176\u6700\u4f18\u6027\u4e5f\u4f1a\u53d8\u5dee\u3002</p> <p></p> <p>\u56fe\\(5.7\\)\uff1a\u4e0d\u540c\\(\\varepsilon\\)\u503c\u4e0b\u7684\u6700\u4f18\\(\\varepsilon\\)-Greedy\u7b56\u7565\u53ca\u5176\u5bf9\u5e94\u7684\u72b6\u6001\u503c\u3002\u8fd9\u91cc\uff0c\u8fd9\u4e9b\\(\\varepsilon\\)-Greedy\u7b56\u7565\u5728\u6240\u6709\u5177\u6709\u76f8\u540c\\(\\varepsilon\\)\u503c\u7684\\(\\varepsilon\\)-Greedy\u7b56\u7565\u4e2d\u662f\u6700\u4f73\u7684\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u5f53\\(\\varepsilon\\)\u503c\u589e\u5927\u65f6\uff0c\u6700\u4f18\\(\\varepsilon\\)-Greedy\u7b56\u7565\u4e0d\u518d\u4e0e\\((a)\\)\u4e2d\u7684\u6700\u4f18\u7b56\u7565\u4e00\u81f4\u3002</p>"},{"location":"Chapter-5/5-5/#varepsilon-greedy_1","title":"\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u63a2\u7d22\u80fd\u529b","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u8bf4\u660e\u5f53\\(\\varepsilon\\)\u8f83\u5927\u65f6\uff0c\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u63a2\u7d22\u80fd\u529b\u8f83\u5f3a\u3002</p> <p>\u9996\u5148\uff0c\u8003\u8651\u4e00\u4e2a\u63a2\u7d22\u6982\u7387\\(\\varepsilon=1\\)\u7684\\(\\varepsilon\\)-Greedy\u7b56\u7565(\u89c1\u56fe\\(5.5(a)\\))\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7531\u4e8e\u8be5\u7b56\u7565\u5728\u4efb\u4f55\u72b6\u6001\u4e0b\u91c7\u53d6\u4efb\u4f55\u52a8\u4f5c\u7684\u6982\u7387\u5747\u4e3a\\(0.2\\)\uff0c\u56e0\u6b64\u5176\u63a2\u7d22\u80fd\u529b\u5f88\u5f3a\u3002\u4ece\\((s_1,a_1)\\)\u5f00\u59cb\uff0c\u7531\\(\\varepsilon\\)-\u7b56\u7565\u751f\u6210\u7684\u4e00\u6761\u8f68\u8ff9\u5982\u56fe\\(5.8(a)-(c)\\)\u6240\u793a\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u5f53\u56de\u5408\u8db3\u591f\u957f\u65f6\uff0c\u7531\u4e8e\u8be5\u7b56\u7565\u5177\u6709\u5f88\u5f3a\u7684\u63a2\u7d22\u80fd\u529b\uff0c\u8fd9\u56de\u5408\u53ef\u4ee5\u591a\u6b21\u8bbf\u95ee\u6240\u6709\u72b6\u6001-\u884c\u52a8\u5bf9\u3002\u6b64\u5916\uff0c\u5982\u56fe\\(5.8(d)\\)\u6240\u793a\uff0c\u6240\u6709\u72b6\u6001-\u884c\u52a8\u5bf9\u88ab\u8bbf\u95ee\u7684\u6b21\u6570\u51e0\u4e4e\u5747\u5300\u3002</p> <p>\u5176\u6b21\uff0c\u8003\u8651\u4e00\u4e2a\\(\\varepsilon\\)-\u7b56\u7565\uff0c\u5176\u4e2d\\(\\varepsilon=0.5\\)(\u89c1\u56fe\\(5.6(d)\\))\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u63a2\u7d22\u80fd\u529b\u6bd4\\(\\varepsilon = 1\\)\u65f6\u5f31\u3002\u4ece\\((s_1, a_1)\\)\u5f00\u59cb\uff0c\u7531\\(\\varepsilon\\)-\u7b56\u7565\u751f\u6210\u7684\u4e00\u4e2a\u56de\u5408\u5982\u56fe\\(5.8(e)-(g)\\)\u6240\u793a\u3002\u5c3d\u7ba1\u5728\u8db3\u591f\u957f\u7684\u56de\u5408\u4e2d\uff0c\u6bcf\u4e2a\u884c\u52a8\u4ecd\u6709\u53ef\u80fd\u88ab\u8bbf\u95ee\u5230\uff0c\u4f46\u8bbf\u95ee\u6b21\u6570\u7684\u5206\u5e03\u53ef\u80fd\u6781\u4e0d\u5747\u5300\u3002\u4f8b\u5982\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u5305\u542b\u4e00\u767e\u4e07\u4e2a\u6b65\u9aa4\u7684\u56de\u5408\uff0c\u67d0\u4e9b\u884c\u52a8\u7684\u8bbf\u95ee\u6b21\u6570\u8d85\u8fc7\\(25\\)\u4e07\u6b21\uff0c\u800c\u5927\u591a\u6570\u52a8\u4f5c\u7684\u8bbf\u95ee\u6b21\u6570\u4ec5\u4e3a\u6570\u767e\u6b21\u751a\u81f3\u6570\u5341\u6b21\uff0c\u5982\u56fe\\(5.8(h)\\)\u6240\u793a\u3002</p> <p>\u4ee5\u4e0a\u793a\u4f8b\u8868\u660e\uff0c\u5f53\u03b5\u51cf\u5c0f\u65f6\uff0c\u03b5-Greedy\u7b56\u7565\u7684\u63a2\u7d22\u80fd\u529b\u4f1a\u4e0b\u964d\u3002\u4e00\u79cd\u6709\u7528\u7684\u6280\u672f\u662f\u6700\u521d\u5c06\u03b5\u8bbe\u7f6e\u4e3a\u8f83\u5927\u503c\uff0c\u4ee5\u589e\u5f3a\u63a2\u7d22\u5e76\u9010\u6b65\u51cf\u5c11\uff0c\u4ee5\u786e\u4fdd\u6700\u7ec8\u7b56\u7565\u7684\u6700\u4f18\u6027[21\u201323]\u3002</p> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u8868\u660e\uff0c\u5f53\\(\\varepsilon\\)\u51cf\u5c0f\u65f6\uff0c\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u63a2\u7d22\u80fd\u529b\u4f1a\u964d\u4f4e\u3002\u4e00\u79cd\u6709\u7528\u7684\u6280\u5de7\u662f\uff0c\u521d\u59cb\u65f6\u5c06\\(\\varepsilon\\)\u8bbe\u7f6e\u5f97\u8f83\u5927\u4ee5\u589e\u5f3a\u63a2\u7d22\uff0c\u968f\u540e\u9010\u6e10\u51cf\u5c0f\\(\\varepsilon\\)\uff0c\u4ee5\u786e\u4fdd\u6700\u7ec8\u7b56\u7565\u7684\u6700\u4f18\u6027[21-23]\u3002</p> <p></p> <p>\u56fe\\(5.8\\)\uff1a\u4e0d\u540c\\(\\varepsilon\\)\u503c\u7684\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u63a2\u7d22\u80fd\u529b\u3002</p>"},{"location":"Chapter-5/5-6/","title":"5.6-\u603b\u7ed3","text":"<p>\u672c\u7ae0\u4e2d\u7684\u7b97\u6cd5\u662f\u672c\u4e66\u4e2d\u9996\u6b21\u4ecb\u7ecd\u7684\u65e0\u6a21\u578b(model-free)\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u3002\u6211\u4eec\u9996\u5148\u901a\u8fc7\u8003\u5bdf\u4e00\u4e2a\u91cd\u8981\u7684\u5747\u503c\u4f30\u8ba1\u95ee\u9898\uff0c\u5f15\u5165\u4e86\u8499\u7279\u5361\u6d1b(MC)\u4f30\u8ba1\u7684\u601d\u60f3\uff0c\u7136\u540e\u4ecb\u7ecd\u4e86\u4e09\u79cd\u57fa\u4e8e\u8499\u7279\u5361\u6d1b\u7684\u7b97\u6cd5\u3002</p> <ul> <li> <p>MC Basic\u7b97\u6cd5\uff1a\u8fd9\u662f\u6700\u7b80\u5355\u7684\u57fa\u4e8e\u8499\u7279\u5361\u6d1b\u7684\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u3002\u8be5\u7b97\u6cd5\u901a\u8fc7\u7528\u57fa\u4e8e\u8499\u7279\u5361\u6d1b\u7684\u65e0\u6a21\u578b\u4f30\u8ba1\u7ec4\u4ef6\u66ff\u6362\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u4e2d\u7684\u57fa\u4e8e\u6a21\u578b\u7684\u7b56\u7565\u8bc4\u4f30\u6b65\u9aa4\u800c\u5f97\u5230\u3002\u5728\u6709\u8db3\u591f\u6837\u672c\u7684\u60c5\u51b5\u4e0b\uff0c\u8be5\u7b97\u6cd5\u53ef\u4ee5\u4fdd\u8bc1\u6536\u655b\u5230\u6700\u4f18\u7b56\u7565\u548c\u6700\u4f18\u72b6\u6001\u503c\u3002</p> </li> <li> <p>MC Exploring Starts\u7b97\u6cd5\uff1a\u8be5\u7b97\u6cd5\u662fMC\u57fa\u672c\u7b97\u6cd5\u7684\u4e00\u79cd\u53d8\u4f53\u3002\u5b83\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u9996\u6b21\u8bbf\u95ee\u6216\u6bcf\u6b21\u8bbf\u95ee\u7b56\u7565\uff0c\u4eceMC\u57fa\u672c\u7b97\u6cd5\u4e2d\u83b7\u5f97\uff0c\u4ece\u800c\u66f4\u6709\u6548\u5730\u5229\u7528\u6837\u672c\u3002</p> </li> <li> <p>MC \\(\\varepsilon\\)-Greedy\u7b97\u6cd5\uff1a\u8be5\u7b97\u6cd5\u662f MC Exploring Starts\u7684\u53d8\u4f53\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5728\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u4e2d\uff0c\u5b83\u641c\u7d22\u7684\u662f\u6700\u4f18\u7684\\(\\varepsilon\\)-Greedy\u7b56\u7565\uff0c\u800c\u975eGreedy\u7b56\u7565\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u7b56\u7565\u7684\u63a2\u7d22\u80fd\u529b\u5f97\u5230\u589e\u5f3a\uff0c\u4ece\u800c\u53ef\u4ee5\u53bb\u9664\u63a2\u7d22\u6027\u8d77\u59cb\u7684\u6761\u4ef6\u9650\u5236\u3002</p> </li> </ul> <p>\u6700\u540e\uff0c\u901a\u8fc7\u8003\u5bdf\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u7279\u6027\uff0c\u5f15\u5165\u4e86\u63a2\u7d22\u4e0e\u5229\u7528\u4e4b\u95f4\u7684\u6743\u8861\u3002\u968f\u7740\\(\\varepsilon\\)\u503c\u7684\u589e\u52a0\uff0c\\(\\varepsilon\\)-Greedy\u7b56\u7565\u7684\u63a2\u7d22\u80fd\u529b\u589e\u5f3a\uff0c\u800cGreedy\u52a8\u4f5c\u7684\u5229\u7528\u80fd\u529b\u5219\u51cf\u5f31\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u5982\u679c\\(\\varepsilon\\)\u503c\u51cf\u5c0f\uff0c\u5219\u53ef\u4ee5\u66f4\u597d\u5730\u5229\u7528Greedy\u52a8\u4f5c\uff0c\u4f46\u63a2\u7d22\u80fd\u529b\u4f1a\u53d7\u5230\u635f\u5bb3\u3002</p>"},{"location":"Chapter-5/intro/","title":"\u4ecb\u7ecd","text":"<p>\u5728\u4e0a\u4e00\u7ae0\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u57fa\u4e8e\u7cfb\u7edf\u6a21\u578b\u5bfb\u627e\u6700\u4f18\u7b56\u7565\u7684\u7b97\u6cd5\u3002\u5728\u672c\u7ae0\u4e2d\uff0c\u6211\u4eec\u5c06\u5f00\u59cb\u4ecb\u7ecd\u65e0\u6a21\u578b(model-free)\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\uff0c\u8fd9\u4e9b\u7b97\u6cd5\u5e76\u4e0d\u5047\u5b9a\u7cfb\u7edf\u6a21\u578b\u3002</p> <p>\u5c3d\u7ba1\u8fd9\u662f\u6211\u4eec\u9996\u6b21\u5728\u672c\u4e66\u4e2d\u4ecb\u7ecd\u65e0\u6a21\u578b\u7b97\u6cd5\uff0c\u4f46\u6211\u4eec\u5fc5\u987b\u586b\u8865\u4e00\u4e2a\u77e5\u8bc6\u7a7a\u767d\uff1a\u5982\u679c\u6ca1\u6709\u6a21\u578b\uff0c\u6211\u4eec\u5982\u4f55\u627e\u5230\u6700\u4f18\u7b56\u7565\u5462\uff1f\u5176\u7406\u5ff5\u5f88\u7b80\u5355\uff1a\u5982\u679c\u6211\u4eec\u6ca1\u6709\u6a21\u578b\uff0c\u5c31\u5fc5\u987b\u6709\u4e00\u4e9b\u6570\u636e\uff1b\u5982\u679c\u6211\u4eec\u6ca1\u6709\u6570\u636e\uff0c\u5c31\u5fc5\u987b\u6709\u4e00\u4e2a\u6a21\u578b\uff1b\u5982\u679c\u6211\u4eec\u4e24\u8005\u90fd\u6ca1\u6709\uff0c\u6211\u4eec\u5c31\u65e0\u6cd5\u627e\u5230\u6700\u4f18\u7b56\u7565\u3002\u5f3a\u5316\u5b66\u4e60\u4e2d\u7684\u201c\u6570\u636e\u201d\u901a\u5e38\u6307\u7684\u662f\u667a\u80fd\u4f53\u4e0e\u73af\u5883\u4ea4\u4e92\u6240\u83b7\u5f97\u7684\u7ecf\u9a8c\u3002</p> <p>\u4e3a\u4e86\u5c55\u793a\u5982\u4f55\u4ece\u6570\u636e\u800c\u975e\u6a21\u578b\u4e2d\u5b66\u4e60\uff0c\u672c\u7ae0\u9996\u5148\u4ecb\u7ecd\u5747\u503c\u4f30\u8ba1\u95ee\u9898\uff0c\u5373\u4ece\u4e00\u4e9b\u6837\u672c\u4e2d\u4f30\u8ba1\u968f\u673a\u53d8\u91cf\u7684\u671f\u671b\u503c\u3002\u7406\u89e3\u8fd9\u4e00\u95ee\u9898\u5bf9\u4e8e\u7406\u89e3\u4ece\u6570\u636e\u4e2d\u5b66\u4e60\u7684\u57fa\u672c\u601d\u60f3\u81f3\u5173\u91cd\u8981\u3002\u7136\u540e\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e09\u79cd\u57fa\u4e8e\u8499\u7279\u5361\u6d1b(MC)\u65b9\u6cd5\u7684\u7b97\u6cd5\u3002\u8fd9\u4e9b\u7b97\u6cd5\u80fd\u591f\u4ece\u7ecf\u9a8c\u6837\u672c\u4e2d\u5b66\u4e60\u6700\u4f18\u7b56\u7565\u3002\u7b2c\u4e00\u4e2a\u4e5f\u662f\u6700\u7b80\u5355\u7684\u7b97\u6cd5\u79f0\u4e3aMC Basic\uff0c\u5b83\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u4e0a\u4e00\u7ae0\u4ecb\u7ecd\u7684\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u800c\u8f7b\u677e\u83b7\u5f97\u3002\u7406\u89e3\u8fd9\u4e00\u7b97\u6cd5\u5bf9\u4e8e\u638c\u63e1\u57fa\u4e8e\u8499\u7279\u5361\u6d1b\u7684\u5f3a\u5316\u5b66\u4e60\u7684\u57fa\u672c\u601d\u60f3\u975e\u5e38\u91cd\u8981\u3002\u901a\u8fc7\u6269\u5c55\u8fd9\u4e00\u7b97\u6cd5\uff0c\u6211\u4eec\u8fdb\u4e00\u6b65\u4ecb\u7ecd\u53e6\u5916\u4e24\u79cd\u7b97\u6cd5\uff0c\u5b83\u4eec\u867d\u7136\u66f4\u590d\u6742\uff0c\u4f46\u6548\u7387\u66f4\u9ad8\u3002</p>"},{"location":"Chapter-6/6-1/","title":"6.1-\u542f\u53d1\u793a\u4f8b:\u671f\u671b\u503c\u4f30\u8ba1","text":""},{"location":"Chapter-6/6-1/#61","title":"6.1 \u542f\u53d1\u6027\u793a\u4f8b: \u671f\u671b\u503c\u4f30\u8ba1","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u901a\u8fc7\u8003\u5bdf\u5747\u503c\u4f30\u8ba1\u95ee\u9898\uff0c\u6765\u6f14\u793a\u5982\u4f55\u5c06\u4e00\u4e2a\u975e\u589e\u91cf\u5f0f(non-incremental)\u7b97\u6cd5\u8f6c\u6362\u4e3a\u589e\u91cf\u5f0f(incremental)\u7b97\u6cd5\u3002</p> <p>Note</p> <p>\u7b2c\u4e00\u79cd\u975e\u9012\u589e\u6cd5\u662f\u5148\u6536\u96c6\u6240\u6709\u6837\u672c\uff0c\u7136\u540e\u8ba1\u7b97\u5e73\u5747\u503c\u3002\u8fd9\u79cd\u65b9\u6cd5\u7684\u7f3a\u70b9\u662f\uff0c\u5982\u679c\u6570\u636e\u5f88\u591a\uff0c\u6211\u4eec\u53ef\u80fd\u9700\u8981\u7b49\u5f85\u5f88\u957f\u65f6\u95f4\u624d\u80fd\u6536\u96c6\u5230\u6240\u6709\u6837\u672c\u3002\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u53ef\u53ef\u4ee5\u514b\u670d\u8fd9\u79cd\u95ee\u9898\uff0c\u5f97\u5230\u4e00\u6b21\u91c7\u6837\u5c31\u66f4\u65b0\u4e00\u6b21\uff0c\u4f30\u8ba1\u5c31\u4f1a\u6162\u6162\u7684\u53d8\u5f97\u51c6\u786e\u3002</p> <p>\u8003\u8651\u4e00\u4e2a\u53d6\u503c\u4e8e\u6709\u9650\u96c6\u5408\\(\\mathcal{X}\\)\u7684\u968f\u673a\u53d8\u91cf\\(X\\)\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\u4f30\u8ba1\\(\\mathbb{E}[X]\\)\u3002\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u7cfb\u5217\u72ec\u7acb\u540c\u5206\u5e03\u7684\u6837\u672c\\({x_i}_{i=1}^n\\)\u3002\\(X\\)\u7684\u671f\u671b\u503c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u8fd1\u4f3c\u8ba1\u7b97\uff1a</p> \\[\\mathbb{E}[X]\\approx\\bar{x}\\doteq\\frac{1}{n}\\sum_{i=1}^nx_i.\\tag{6.1}\\] <p>\\((6.1)\\)\u4e2d\u7684\u8fd1\u4f3c\u662f\u8499\u7279\u5361\u7f57\u4f30\u8ba1\u7684\u57fa\u672c\u601d\u60f3\uff0c\u5982\u7b2c\\(5\\)\u7ae0\u6240\u4ecb\u7ecd\u3002\u6211\u4eec\u77e5\u9053\uff0c\u6839\u636e\u5927\u6570\u5b9a\u5f8b\uff0c\u5f53\\(n\\to\\infty\\)\uff0c\\(\\bar{x}\\to\\mathbb{E}[X]\\)\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u8bf4\u660e\u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u7528\u6765\u8ba1\u7b97\\((6.1)\\)\u4e2d\u7684\\(\\bar{x}\\)\u3002\u7b2c\u4e00\u79cd\u975e\u589e\u91cf\u5f0f\u662f\u5148\u6536\u96c6\u6240\u6709\u6837\u672c\uff0c\u7136\u540e\u8ba1\u7b97\u5e73\u5747\u503c\u3002\u8fd9\u79cd\u65b9\u6cd5\u7684\u7f3a\u70b9\u662f\uff0c\u5982\u679c\u6837\u672c\u6570\u91cf\u8f83\u591a\uff0c\u6211\u4eec\u53ef\u80fd\u9700\u8981\u7b49\u5f85\u5f88\u957f\u65f6\u95f4\u624d\u80fd\u6536\u96c6\u5230\u6240\u6709\u6837\u672c\u3002\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\u8fd9\u4e00\u7f3a\u70b9\uff0c\u56e0\u4e3a\u5b83\u662f\u4ee5\u9012\u589e\u7684\u65b9\u5f0f\u8ba1\u7b97\u5e73\u5747\u503c\u7684\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5047\u8bbe</p> \\[w_{k+1}=\\frac{1}{k}\\sum_{i=1}^{k}x_{i},\\quad k=1,2,\\ldots\\] <p>\u56e0\u6b64</p> \\[w_k=\\frac{1}{k-1}\\sum_{i=1}^{k-1}x_i,\\quad k=2,3,\\ldots\\] <p>\u90a3\u4e48\uff0c\\(w_{k+1}\\)\u53ef\u4ee5\u7528\\(w_k\\)\u8868\u793a\u4e3a</p> \\[w_{k+1}=\\frac{1}{k}\\sum_{i=1}^{k}x_{i}=\\frac{1}{k}\\left(\\sum_{i=1}^{k-1}x_{i}+x_{k}\\right)=\\frac{1}{k}((k-1)w_{k}+x_{k})=w_{k}-\\frac{1}{k}(w_{k}-x_{k}).\\] <p>\u56e0\u6b64\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u4ee5\u4e0b\u589e\u91cf\u7b97\u6cd5\uff1a</p> \\[w_{k+1}=w_{k}-\\frac{1}{k}(w_{k}-x_{k}).\\tag{6.2}\\] <p>\u8fd9\u79cd\u7b97\u6cd5\u53ef\u7528\u4e8e\u4ee5\u9012\u589e\u65b9\u5f0f\u8ba1\u7b97\u5e73\u5747\u503c \\(\\bar{x}\\)\u3002\u53ef\u4ee5\u9a8c\u8bc1</p> \\[\\begin{aligned}w_1&amp;=x_1,\\\\w_2&amp;=w_1-\\frac{1}{1}(w_1-x_1)=x_1,\\\\w_3&amp;=w_2-\\frac{1}{2}(w_2-x_2)=x_1-\\frac{1}{2}(x_1-x_2)=\\frac{1}{2}(x_1+x_2),\\\\w_4&amp;=w_3-\\frac{1}{3}(w_3-x_3)=\\frac{1}{3}(x_1+x_2+x_3),\\\\&amp;\\vdots\\\\w_{k+1}&amp;=\\frac{1}{k}\\sum_{i=1}^kx_i.\\end{aligned}\\tag{6.3}\\] <p>\\((6.2)\\)\u7684\u4f18\u52bf\u5728\u4e8e\uff0c\u6bcf\u6b21\u6536\u5230\u6837\u672c\u65f6\uff0c\u6211\u4eec\u90fd\u80fd\u7acb\u5373\u8ba1\u7b97\u51fa\u5e73\u5747\u503c\u3002\u8fd9\u4e2a\u5e73\u5747\u503c\u53ef\u4ee5\u7528\u6765\u8fd1\u4f3c\u8ba1\u7b97\\(\\bar{x}\\)\uff0c\u8fdb\u800c\u8fd1\u4f3c\u8ba1\u7b97\\(\\mathbb{E}[X]\\)\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u7531\u4e8e\u6837\u672c\u4e0d\u8db3\uff0c\u8fd1\u4f3c\u503c\u5728\u5f00\u59cb\u65f6\u53ef\u80fd\u5e76\u4e0d\u51c6\u786e\u3002\u4e0d\u8fc7\uff0c\u6709\u603b\u6bd4\u6ca1\u6709\u597d\u3002\u968f\u7740\u6837\u672c\u6570\u91cf\u7684\u589e\u52a0\uff0c\u4f30\u8ba1\u7cbe\u5ea6\u53ef\u4ee5\u6839\u636e\u5927\u6570\u5b9a\u5f8b\u9010\u6b65\u63d0\u9ad8\u3002\u6b64\u5916\uff0c\u8fd8\u53ef\u4ee5\u5b9a\u4e49\\(w_{k+1}=\\frac{1}{1+k} \\sum_{i=1}^{k+1} x_i\\)\u548c\\(w_k=\\frac{1}{k} \\sum_{i=1}^k x_i\\)\u3002\u8fd9\u6837\u505a\u4e0d\u4f1a\u6709\u4efb\u4f55\u660e\u663e\u7684\u533a\u522b\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u76f8\u5e94\u7684\u8fed\u4ee3\u7b97\u6cd5\u4e3a\\(w_{k+1}=w_{k}-\\frac{1}{1+k}(w_{k}-x_{k+1}).\\)\u3002</p> <p>\u6b64\u5916\uff0c\u8fd8\u53ef\u4ee5\u8003\u8651\u4e00\u79cd\u8868\u8fbe\u5f0f\u66f4\u4e00\u822c\u7684\u7b97\u6cd5\uff1a</p> \\[w_{k+1}=w_k-\\alpha_k(w_k-x_k).\\tag{6.4}\\] <p>\u8fd9\u79cd\u7b97\u6cd5\u975e\u5e38\u91cd\u8981\uff0c\u5728\u672c\u7ae0\u4e2d\u7ecf\u5e38\u4f7f\u7528\u3002\u9664\u4e86\u7cfb\u6570\\(1/k\\)\u88ab\\(\\alpha_k&gt;0\\)\u53d6\u4ee3\u4e4b\u5916\uff0c\u5b83\u4e0e\\((6.2)\\)\u76f8\u540c\u3002\u7531\u4e8e\u6ca1\u6709\u7ed9\u51fa\\(\\alpha_k\\)\u7684\u8868\u8fbe\u5f0f\uff0c\u6211\u4eec\u65e0\u6cd5\u5f97\u5230\u5982\\((6.3)\\)\u6240\u793a\u7684\\(w_k\\)\u7684\u660e\u786e\u8868\u8fbe\u5f0f\u3002\u4e0d\u8fc7\uff0c\u6211\u4eec\u5c06\u5728\u4e0b\u4e00\u8282\u8bc1\u660e\uff0c\u5982\u679c\\({\\alpha_k}\\)\u6ee1\u8db3\u4e00\u4e9b\u6e29\u548c\u6761\u4ef6(mild conditions)\uff0c\u5f53\\(k\\to\\infty\\)\u65f6\uff0c\\(w_k \\rightarrow \\mathbb{E}[X]\\)\u3002\u5728\u7b2c\\(7\\)\u7ae0\u4e2d\uff0c\u6211\u4eec\u5c06\u770b\u5230\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5\u6709\u7c7b\u4f3c(\u4f46\u66f4\u590d\u6742)\u7684\u8868\u8fbe\u5f0f\u3002</p> <p>Note</p> <p>\u53ef\u4ee5\u53d1\u73b0\uff0c\u6211\u4eec\u5728\u4e0a\u7ae0\u548c\u672c\u7ae0\u4e2d\u5747\u5229\u7528\u671f\u671b\u503c\u4f30\u8ba1\u4f5c\u4e3a\u793a\u4f8b\uff0c\u8fd9\u662f\u56e0\u4e3a\u5f3a\u5316\u5b66\u4e60\u4e2d\u7684\u8bb8\u591a\u91cf\uff0c\u90fd\u4ee5\u671f\u671b\u503c\u7684\u65b9\u5f0f\u5b9a\u4e49\uff0c\u6240\u4ee5\u9700\u8981\u7528\u6570\u636e\u53bb\u4f30\u8ba1\u3002</p>"},{"location":"Chapter-6/6-2/","title":"6.2-\u7f57\u5bbe\u65af-\u95e8\u7f57\u7b97\u6cd5","text":""},{"location":"Chapter-6/6-2/#62-robbins-monro","title":"6.2 \u7f57\u5bbe\u65af-\u95e8\u7f57\u7b97\u6cd5(Robbins-Monro)","text":"<p>\u968f\u673a\u8fd1\u4f3c\u662f\u6307\u89e3\u51b3\u5bfb\u6839(\u65b9\u7a0b\u6c42\u89e3)\u6216\u4f18\u5316\u95ee\u9898\u7684\u4e00\u5927\u7c7b\u968f\u673a\u8fed\u4ee3\u7b97\u6cd5[24]\u3002\u4e0e\u8bb8\u591a\u5176\u4ed6\u5bfb\u6839\u7b97\u6cd5\u5982\u57fa\u4e8e\u68af\u5ea6\u7684\u7b97\u6cd5(\u68af\u5ea6\u4e0a\u5347\u6216\u68af\u5ea6\u4e0b\u964d)\u7b49\u4f18\u5316\u65b9\u6cd5\u4e2d\uff0c\u968f\u673a\u8fd1\u4f3c\u5177\u6709\u663e\u8457\u4f18\u52bf\uff1a\u5b83\u65e0\u9700\u76ee\u6807\u51fd\u6570\u6216\u5176\u5bfc\u6570\u7684\u89e3\u6790\u8868\u8fbe\u5f0f\u3002</p> <p>\u7f57\u5bbe\u65af-\u95e8\u7f57(Robbins-Monro\uff0cRM)\u7b97\u6cd5\u662f\u968f\u673a\u8fd1\u4f3c\u9886\u57df\u7684\u4e00\u9879\u5f00\u521b\u6027\u5de5\u4f5c [24-27]\u3002\u5982\u7b2c\\(6.4\\)\u8282\u6240\u793a\uff0c\u8457\u540d\u7684\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u5c31\u662fRM\u7b97\u6cd5\u7684\u4e00\u79cd\u7279\u6b8a\u5f62\u5f0f\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u4ecb\u7ecdRM\u7b97\u6cd5\u7684\u7ec6\u8282\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u60f3\u627e\u51fa\u65b9\u7a0b\u7684\u6839</p> \\[g(w)=0,\\] <p>\u5176\u4e2d\\(w\\in\\mathbb{R}\\)\u662f\u672a\u77e5\u53d8\u91cf\uff0c\\(g:\\mathbb{R} \\rightarrow \\mathbb{R}\\)\u662f\u4e00\u4e2a\u51fd\u6570\u3002\u8bb8\u591a\u95ee\u9898\u90fd\u53ef\u4ee5\u8868\u8ff0\u4e3a\u5bfb\u6839\u95ee\u9898\u3002\u4f8b\u5982\uff0c\u5982\u679c\\(J(w)\\)\u662f\u4e00\u4e2a\u9700\u8981\u4f18\u5316\u7684\u76ee\u6807\u51fd\u6570\uff0c\u90a3\u4e48\u8fd9\u4e2a\u4f18\u5316\u95ee\u9898\u53ef\u4ee5\u8f6c\u6362\u4e3a\u6c42\u89e3\\(g(w)=\\nabla_wJ(w)=0.\\)\u3002\u6b64\u5916\uff0c\\(g(w) = c\\)(\u5176\u4e2d\\(c\\)\u662f\u4e00\u4e2a\u5e38\u6570)\u8fd9\u6837\u7684\u65b9\u7a0b\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5c06\\(g(w)-c\\)\u6539\u5199\u4e3a\u4e00\u4e2a\u65b0\u51fd\u6570\u800c\u8f6c\u6362\u4e3a\u4e0a\u8ff0\u65b9\u7a0b\u3002</p> <p>Note</p> <p>\u68af\u5ea6\u7b49\u4e8e\\(0\\)\u662f\\(J(w)\\)\u8fbe\u5230\u6700\u5927\u6216\u6700\u5c0f\u7684\u4e00\u4e2a\u5fc5\u8981\u6761\u4ef6\u3002</p> <p>\u5982\u679c\u5df2\u77e5\\(g\\)\u7684\u8868\u8fbe\u5f0f\u6216\u5176\u5bfc\u6570\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u8bb8\u591a\u7b97\u6cd5\u3002\u7136\u800c\uff0c\u6211\u4eec\u9762\u4e34\u7684\u95ee\u9898\u662f\u51fd\u6570\\(g\\)\u7684\u8868\u8fbe\u5f0f\u53ef\u80fd\u662f\u672a\u77e5\u7684\u3002\u4f8b\u5982\uff0c\u51fd\u6570\u53ef\u4ee5\u7528\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u6765\u8868\u793a\uff0c\u800c\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u7ed3\u6784\u548c\u53c2\u6570\u90fd\u662f\u672a\u77e5\u7684\u3002\u6b64\u5916\uff0c\u6211\u4eec\u53ea\u80fd\u83b7\u5f97\\(g(w)\\)\u7684\u566a\u58f0\u89c2\u6d4b\u503c\uff1a</p> \\[\\tilde{g}(w,\\eta)=g(w)+\\eta,\\] <p>\u5176\u4e2d\\(\\eta\\in\\mathbb{R}\\)\u662f\u89c2\u6d4b\u8bef\u5dee\uff0c\u53ef\u80fd\u662f\u9ad8\u65af\u8bef\u5dee\uff0c\u4e5f\u53ef\u80fd\u4e0d\u662f\u3002\u603b\u4e4b\uff0c\u8fd9\u662f\u4e00\u4e2a\u9ed1\u76d2\u7cfb\u7edf\uff0c\u53ea\u6709\u8f93\u5165\\(w\\)\u548c\u566a\u58f0\u89c2\u6d4b\u503c\\(\\tilde{g}(w,\\eta)\\)\u662f\u5df2\u77e5\u7684(\u89c1\u56fe\\(6.2\\))\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\u5229\u7528\\(w\\)\u548c\\(\\tilde{g}\\)\u6c42\u89e3\\(g(w) = 0\\)\u3002</p> <p></p> <p>\u56fe\\(6.2\\)\uff1a\u7531\\(w\\)\u548c\\(\\tilde{g}\\)\u6c42\u89e3 \\(g(w) = 0\\)\u95ee\u9898\u7684\u793a\u610f\u56fe\u3002</p> <p>\u80fd\u6c42\u89e3\\(g(w) = 0\\)\u7684 RM \u7b97\u6cd5\u662f</p> \\[w_{k+1}=w_k-a_k\\tilde{g}(w_k,\\eta_k),\\quad k=1,2,3,\\ldots\\tag{6.5}\\] <p>\u5176\u4e2d\uff0c\\(w_k\\)\u662f\u7b2c\\(k\\)\u4e2a\u6839\u4f30\u8ba1\u503c\uff0c\\(\\tilde{g}(w_k, \\eta_k)\\)\u662f\u7b2c\\(k\\)\u4e2a\u566a\u58f0\u89c2\u6d4b\u503c\uff0c\\(a_k\\)\u662f\u6b63\u7cfb\u6570\u3002\u53ef\u4ee5\u770b\u51fa\uff0cRM \u7b97\u6cd5\u4e0d\u9700\u8981\u5173\u4e8e\u51fd\u6570\u7684\u4efb\u4f55\u4fe1\u606f\u3002\u5b83\u53ea\u9700\u8981\u8f93\u5165\u548c\u8f93\u51fa\u3002</p> <p></p> <p>\u56fe\\(6.3\\)\uff1aRM \u7b97\u6cd5\u793a\u4f8b\u3002</p> <p>\u4e3a\u4e86\u8bf4\u660eRM\u7b97\u6cd5\uff0c\u8bf7\u770b\u4e00\u4e2a\\(g(w) = w^3 - 5\\)\u7684\u4f8b\u5b50\u3002\u771f\u6839\u4e3a\\(5^{1/3} \u2248 1.71\\)\u3002\u73b0\u5728\uff0c\u5047\u8bbe\u6211\u4eec\u53ea\u80fd\u89c2\u5bdf\u5230\u8f93\u5165\\(w\\)\u548c\u8f93\u51fa \\(\\tilde{g}(w) = g(w) + \\eta\\)\uff0c\u5176\u4e2d\\(\\eta\\)\u4e3a\\(i.i.d.\\)\uff0c\u670d\u4ece\u5747\u503c\u4e3a\\(0\\),\u6807\u51c6\u5dee\u4e3a\\(1\\)\u7684\u6807\u51c6\u6b63\u6001\u5206\u5e03\uff0c\u521d\u59cb\u731c\u6d4b\u4e3a \\(w_1 = 0\\)\uff0c\u7cfb\u6570\u4e3a\\(a_k = 1/k\\)\u3002\\(w_k\\)\u7684\u53d8\u5316\u8fc7\u7a0b\u5982\u56fe\\(6.3\\)\u6240\u793a\u3002\u5373\u4f7f\u89c2\u6d4b\u7ed3\u679c\u53d7\u5230\u566a\u58f0\\(\\eta_k\\)\u7684\u5e72\u6270\uff0c\u4f30\u8ba1\u503c\\(w_k\\)\u4ecd\u7136\u53ef\u4ee5\u6536\u655b\u5230\u771f\u6b63\u7684\u6839\u503c\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5fc5\u987b\u6b63\u786e\u9009\u62e9\u521d\u59cb\u731c\u6d4b\\(w_1\\)\uff0c\u4ee5\u786e\u4fdd\\(g(w) = w^3 - 5\\)\u8fd9\u4e00\u7279\u5b9a\u51fd\u6570\u7684\u6536\u655b\u6027\u3002\u5728\u4e0b\u9762\u7684\u5c0f\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u4ecb\u7ecd RM \u7b97\u6cd5\u6536\u655b\u4e8e\u4efb\u4f55\u521d\u59cb\u731c\u6d4b\u7684\u6761\u4ef6\u3002</p>"},{"location":"Chapter-6/6-2/#621","title":"6.2.1 \u6536\u655b\u7279\u6027","text":"<p>\u4e3a\u4ec0\u4e48\\((6.5)\\)\u4e2d\u7684 RM \u7b97\u6cd5\u53ef\u4ee5\u627e\u5230\\(g(w) = 0\\)\u7684\u6839\uff1f\u63a5\u4e0b\u6765\u6211\u4eec\u7528\u4e00\u4e2a\u4f8b\u5b50\u6765\u8bf4\u660e\u8fd9\u4e2a\u60f3\u6cd5\uff0c\u7136\u540e\u8fdb\u884c\u4e25\u683c\u7684\u6536\u655b\u6027\u5206\u6790\u3002</p> <p>\u8bf7\u770b\u56fe\\(6.4\\)\u6240\u793a\u7684\u4f8b\u5b50\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\\(g(w) = tanh(w-1)\\)\u3002\\(g(w) = 0\\)\u7684\u771f\u6839\u662f\\(w^\u2217 = 1\\)\u3002\u6211\u4eec\u5e94\u7528 RM \u7b97\u6cd5\uff0c\\(w_1 = 3\uff0ca_k = 1/k\\)\u3002\u4e3a\u4e86\u66f4\u597d\u5730\u8bf4\u660e\u6536\u655b\u7684\u539f\u56e0\uff0c\u6211\u4eec\u53ea\u9700\u8bbe\u7f6e\\(\\eta_k \u2261 0\\)\uff0c\u56e0\u6b64\uff0c\\(\\tilde{g} (w_k, \\eta_k) = g(w_k)\\)\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\u7684RM\u7b97\u6cd5\u4e3a\\(w_{k+1} = w_k -a_k g(w_k)\\)\u3002\u7531RM\u7b97\u6cd5\u751f\u6210\u7684\\({w_k}\\)\u5982\u56fe\\(6.4\\)\u6240\u793a\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\\(w_k\\)\u8d8b\u8fd1\u4e8e\u771f\u6b63\u7684\u6839\\(w^\u2217 = 1\\)\u3002</p> <p></p> <p>\u56fe\\(6.4\\)\uff1a\u8bf4\u660eRM\u7b97\u6cd5\u6536\u655b\u6027\u7684\u793a\u4f8b\u3002</p> <p>\u8fd9\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u53ef\u4ee5\u8bf4\u660eRM\u7b97\u6cd5\u6536\u655b\u7684\u539f\u56e0\u3002</p> <ul> <li>\u5f53\\(w_k&gt;w^*\\)\u65f6\uff0c\u6211\u4eec\u6709\\(g(w_k)&gt;0\\)\uff0c\u6b64\u65f6\uff0c\\(w_{k+1}=w_k-a_kg(w_k)&lt;w_k\\)\u3002\u5982\u679c\\(|a_k g(w_k)|\\)\u8db3\u591f\u5c0f\uff0c\u6211\u4eec\u6709\\(w^*&lt;w_{k+1}&lt;w_k\\)\u3002\u56e0\u6b64\uff0c\\(w_{k+1}\\)\u6bd4\\(w_k\\)\u66f4\u63a5\u8fd1\u4e8e\\(w^*\\)\u3002</li> <li>\u5f53\\(w_k&lt;w^*\\)\u65f6\uff0c\u6211\u4eec\u6709\\(g(w_k)&lt;0\\)\uff0c\u6b64\u65f6\uff0c\\(w_{k+1}=w_k-a_kg(w_k)&gt;w_k\\)\u3002\u5982\u679c\\(|a_k g(w_k)|\\)\u8db3\u591f\u5c0f\uff0c\u6211\u4eec\u6709\\(w^*&gt;w_{k+1}&gt;w_k\\)\u3002\u56e0\u6b64\uff0c\\(w_{k+1}\\)\u6bd4\\(w_k\\)\u66f4\u63a5\u8fd1\u4e8e\\(w^*\\)\u3002</li> </ul> <p>\u65e0\u8bba\u54ea\u79cd\u60c5\u51b5\uff0c\\(w_{k+1}\\)\u90fd\u6bd4\\(w_k\\)\u66f4\u63a5\u8fd1\\(w^\u2217\\)\u3002\u56e0\u6b64\uff0c\u76f4\u89c2\u5730\u8bf4\uff0c\\(w_k\\)\u8d8b\u8fd1\u4e8e \\(w^\u2217\\)\u3002</p> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u5f88\u7b80\u5355\uff0c\u56e0\u4e3a\u89c2\u6d4b\u8bef\u5dee\u88ab\u5047\u5b9a\u4e3a\u96f6\u3002\u82e5\u5b58\u5728\u968f\u673a\u89c2\u6d4b\u8bef\u5dee\uff0c\u5176\u6536\u655b\u6027\u5206\u6790\u5c06\u53d8\u5f97\u975e\u5e73\u51e1\u3002\u4e0b\u9762\u7ed9\u51fa\u4e86\u4e00\u4e2a\u4e25\u683c\u7684\u6536\u655b\u7ed3\u679c\u3002</p> <p>Info</p> <p>\u5b9a\u74066.1. (\u7f57\u5bbe\u65af-\u95e8\u7f57\u5b9a\u7406)\u3002\u5728\\((6.5)\\)\u4e2d\u7684\u7f57\u5bbe\u65af-\u95e8\u7f57\u7b97\u6cd5\u4e2d\uff0c\u5982\u679c\u6ee1\u8db3</p> <ol> <li> <p>\\(0&lt;c_{1}\\leq\\nabla_{w}g(w)\\leq c_{2}\\;for\\;all\\;w\\);</p> </li> <li> <p>\\(\\sum_{k=1}^{\\infty}a_{k}=\\infty \\; and\\; \\sum_{k=1}^{\\infty}a_{k}^{2}&lt;\\infty\\);</p> </li> <li> <p>\\(\\mathbb{E}[\\eta_{k}|\\mathcal{H}_{k}]=0\\; and\\; \\mathbb{E}[\\eta_{k}^{2}|\\mathcal{H}_{k}]&lt;\\infty\\);</p> </li> </ol> <p>\u5728\u8fd9\u91cc,\\(\\mathcal{H}_{k}=\\{w_{k},w_{k-1},\\ldots\\}\\),\u90a3\u4e48\\(w_k\\)\u51e0\u4e4e\u80af\u5b9a\u4f1a\u6536\u655b\u5230\u6ee1\u8db3\\(g(w^\u2217) = 0\\)\u7684\u6839 \\(w^\u2217\\)\u3002</p> <p>Note</p> <p>almost surely\u6536\u655b\u3002</p> <p>\u6211\u4eec\u5c06\u8be5\u5b9a\u7406\u7684\u8bc1\u660e\u653e\u5230\u7b2c\\(6.3.3\\)\u8282\u3002\u672c\u5b9a\u7406\u4f9d\u8d56\u4e8e\u9644\u5f55\\(B\\)\u4e2d\u4ecb\u7ecd\u7684\u51e0\u4e4e\u80af\u5b9a\u6536\u655b\u7684\u6982\u5ff5\u3002</p> <p>\u5b9a\u7406\\(6.1\\)\u4e2d\u7684\u4e09\u4e2a\u6761\u4ef6\u89e3\u91ca\u5982\u4e0b\u3002</p> <ul> <li> <p>\u5728\u7b2c\u4e00\u4e2a\u6761\u4ef6\u4e2d\uff0c\\(0&lt;c_{1}\\leq\\nabla_{w}g(w)\\)\u8868\u793a\\(g(w)\\)\u662f\u4e00\u4e2a\u5355\u8c03\u9012\u589e\u51fd\u6570\u3002\u8fd9\u4e2a\u6761\u4ef6\u786e\u4fdd\u4e86\\(g(w) = 0\\)\u7684\u6839\u5b58\u5728\u4e14\u552f\u4e00\u3002\u5982\u679c\\(g(w)\\)\u662f\u5355\u8c03\u9012\u51cf\u51fd\u6570\uff0c\u6211\u4eec\u53ea\u9700\u5c06\\(-g(w)\\)\u89c6\u4e3a\u5355\u8c03\u9012\u589e\u7684\u65b0\u51fd\u6570\u5373\u53ef\u3002</p> <p>\u5728\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u76ee\u6807\u51fd\u6570\u4e3a\\(J(w)\\)\u7684\u4f18\u5316\u95ee\u9898\u8868\u8ff0\u4e3a\u5bfb\u6839\u95ee\u9898\uff1a\\(g(w)=\\nabla_{w}J(w) = 0\\)\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\\(g(w)\\)\u5355\u8c03\u9012\u589e\u7684\u6761\u4ef6\u8868\u660e \\(J(w)\\)\u662f\u51f8\u7684\uff0c\u8fd9\u662f\u4f18\u5316\u95ee\u9898\u4e2d\u901a\u5e38\u91c7\u7528\u7684\u5047\u8bbe\u3002</p> <p>\u4e0d\u7b49\u5f0f\\(\\nabla_{w}g(w)\\leq c_2\\)\u8868\u793a\\(g(w)\\)\u7684\u68af\u5ea6\u6709\u6709\u754c\u3002\u4f8b\u5982\uff0c\\(g(w) = tanh(w - 1)\\)\u6ee1\u8db3\u8fd9\u4e00\u6761\u4ef6\uff0c\u4f46\\(g(w) = w^3 - 5\\)\u4e0d\u6ee1\u8db3\u8fd9\u4e00\u6761\u4ef6\u3002</p> </li> <li> <p>\u5173\u4e8e\\(\\{a_k\\}\\)\u7684\u7b2c\u4e8c\u4e2a\u6761\u4ef6\u5f88\u6709\u8da3\u3002\u6211\u4eec\u5728\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u4e2d\u7ecf\u5e38\u770b\u5230\u7c7b\u4f3c\u7684\u6761\u4ef6\u3002\u7279\u522b\u5730\uff0c\u6761\u4ef6\\(\\sum_{k=1}^{\\infty} a_k^2 &lt; \\infty\\)\u610f\u5473\u7740\\(\\lim_{n \\to \\infty} \\sum_{k=1}^{n} a_k^2\\)\u662f\u6709\u4e0a\u754c\u7684\u3002\u8fd9\u8981\u6c42\\(a_k\\)\u968f\u7740\\(k \\to \\infty\\)\u6536\u655b\u4e8e\u96f6\u3002\u6761\u4ef6\\(\\sum_{k=1}^{\\infty} a_k = \\infty\\)\u610f\u5473\u7740\\(\\lim_{n \\to \\infty} \\sum_{k=1}^{n} a_k\\)\u662f\u65e0\u9650\u5927\u7684\u3002\u5b83\u8981\u6c42\\(a_k\\)\u4e0d\u5e94\u8be5\u6536\u655b\u4e8e\u96f6\u5f97\u592a\u5feb\u3002\u8fd9\u4e9b\u6761\u4ef6\u6709\u7740\u6709\u8da3\u7684\u6027\u8d28\uff0c\u7a0d\u540e\u4f1a\u8be6\u7ec6\u5206\u6790\u3002</p> </li> <li> <p>\u7b2c\u4e09\u4e2a\u6761\u4ef6\u662f\u6e29\u548c\u7684\u3002\u5b83\u4e0d\u8981\u6c42\u89c2\u6d4b\u8bef\u5dee\\(\\eta_k\\)\u662f\u9ad8\u65af\u5206\u5e03\u7684\u3002\u5e38\u89c1\u7684\u7279\u4f8b\u662f\\(\\{\\eta_k\\}\\)\u662f\u4e00\u4e2a\u72ec\u7acb\u540c\u5206\u5e03\u7684\u968f\u673a\u5e8f\u5217\uff0c\u6ee1\u8db3\\(\\mathbb{E}[\\eta_k] = 0\\)\u548c\\(\\mathbb{E}[\\eta_k^2] &lt; \\infty\\)\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e09\u4e2a\u6761\u4ef6\u662f\u6210\u7acb\u7684\uff0c\u56e0\u4e3a\\(\\eta_k\\)\u4e0e\\(\\mathcal{H}_k\\)\u72ec\u7acb\uff0c\u56e0\u6b64\u6211\u4eec\u6709\\(\\mathbb{E}[\\eta_k|\\mathcal{H}_k] = \\mathbb{E}[\\eta_k] = 0\\)\u548c\\(\\mathbb{E}[\\eta_k^2|\\mathcal{H}_k] = \\mathbb{E}[\\eta_k^2]\\)\u3002</p> </li> </ul> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u66f4\u4ed4\u7ec6\u5730\u7814\u7a76\u5173\u4e8e\u7cfb\u6570\\({ak}\\)\u7684\u7b2c\u4e8c\u4e2a\u6761\u4ef6\u3002</p> <ul> <li> <p>\u4e3a\u4ec0\u4e48\u7b2c\u4e8c\u4e2a\u6761\u4ef6\u5bf9RM\u7b97\u6cd5\u7684\u6536\u655b\u5f88\u91cd\u8981\uff1f</p> <p>\u8fd9\u4e2a\u95ee\u9898\u81ea\u7136\u53ef\u4ee5\u5728\u6211\u4eec\u7a0d\u540e\u5bf9\u4e0a\u8ff0\u5b9a\u7406\u8fdb\u884c\u4e25\u683c\u8bc1\u660e\u65f6\u627e\u5230\u7b54\u6848\u3002\u5728\u6b64\uff0c\u6211\u4eec\u60f3\u63d0\u4f9b\u4e00\u4e9b\u5177\u6709\u6d1e\u5bdf\u529b\u7684\u76f4\u89c9\u3002</p> <p>\u9996\u5148\uff0c\\(\\sum_{k=1}^{\\infty} a_k^2 &lt; \\infty\\)\u8868\u793a\u5f53\\(k \\to \\infty\\)\uff0c\u6709\\(a_k \\to 0\\)\u3002\u4e3a\u4ec0\u4e48\u8fd9\u4e2a\u6761\u4ef6\u91cd\u8981\uff1f\u5047\u8bbe\u89c2\u6d4b\u503c\\(\\tilde{g}(w_k, \\eta_k)\\) \u603b\u662f\u6709\u754c\u7684\u3002\u7531\u4e8e</p> \\[w_{k+1} - w_k = -a_k g(w_k, \\eta_k),\\] <p>\u5982\u679c\\(a_k \\to 0\\)\uff0c\u90a3\u4e48\\(a_k \\tilde{g}(w_k, \\eta_k) \\to 0\\)\uff0c\u56e0\u6b64\\(w_{k+1} - w_k \\to 0\\)\uff0c\u8fd9\u8868\u660e\u5f53\\(k \\to \\infty\\)\u65f6\uff0c\\(w_{k+1}\\)\u548c\\(w_k\\)\u4f1a\u4e92\u76f8\u63a5\u8fd1\u3002\u5982\u679c\\(a_k\\)\u4e0d\u6536\u655b\uff0c\u5219 \\(w_k\\)\u53ef\u80fd\u5728\\(k \\to \\infty\\)\u65f6\u6ce2\u52a8\u3002</p> <p>\u5176\u6b21\uff0c\\(\\sum_{k=1}^{\\infty} a_k = \\infty\\)\u8868\u793a\\(a_k\\)\u4e0d\u5e94\u8be5\u6536\u655b\u5f97\u592a\u5feb\u3002\u4e3a\u4ec0\u4e48\u8fd9\u4e2a\u6761\u4ef6\u91cd\u8981\uff1f\u603b\u7ed3\u65b9\u7a0b\u4e24\u8fb9\\(w_2-w_1=a_1\\tilde{g}(w_1,\\eta_1)\\),\\(w_3-w_2=-a_2\\tilde{g}(w_2,\\eta_2)\\)\uff0c\\(w_4-w_3=-a_3\\tilde{g}(w_3,\\eta_3)\\)\u5f97\u5230</p> \\[w_1 - w_\\infty = \\sum_{k=1}^{\\infty} a_k g(w_k, \\eta_k)\u3002\\] <p>\u5982\u679c\\(\\sum_{k=1}^{\\infty} a_k &lt; \\infty\\)\uff0c\u5219 \\(|\\sum_{k=1}^{\\infty} a_k g(w_k, \\eta_k)|\\) \u4e5f\u662f\u6709\u754c\u7684\u3002\u4ee4\\(b\\)\u8868\u793a\u4e00\u4e2a\u6709\u9650\u7684\u4e0a\u754c\uff0c\u4f7f\u5f97</p> \\[|w_1 - w_\\infty| = \\left|\\sum_{k=1}^{\\infty} a_k g(w_k, \\eta_k)\\right| \\leq b.\\tag{6.6}\\] <p>\u5982\u679c\u521d\u59cb\u731c\u6d4b\\(w_1\\)\u8fdc\u79bb\u771f\u5b9e\u89e3\\(w^*\\)\uff0c\u4f7f\u5f97\\(|w_1 - w^*| &gt; b\\)\uff0c\u5219\u6839\u636e\u5f0f\\((6.6)\\)\uff0c\u4e0d\u53ef\u80fd\u5f97\u5230\\(w_\\infty = w^*\\)\u3002\u8fd9\u8868\u660eRM\u7b97\u6cd5\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u65e0\u6cd5\u627e\u5230\u771f\u5b9e\u89e3\\(w^*\\)\u3002\u56e0\u6b64\uff0c\u6761\u4ef6\\(\\sum_{k=1}^{\\infty} a_k = \\infty\\)\u662f\u786e\u4fdd\u5728\u4efb\u610f\u521d\u59cb\u731c\u6d4b\u6761\u4ef6\u4e0b\u6536\u655b\u7684\u5fc5\u8981\u6761\u4ef6\u3002</p> </li> <li> <p>\u54ea\u4e9b\u5e8f\u5217\u6ee1\u8db3\\(\\sum_{k=1}^{\\infty} a_k = \\infty\\)\u548c\\(\\sum_{k=1}^{\\infty} a_k^2 &lt; \\infty\\)\uff1f</p> <p>\u4e00\u4e2a\u5178\u578b\u7684\u5e8f\u5217\u662f</p> \\[a_k = \\frac{1}{k}.\\] <p>\u4e00\u65b9\u9762\uff0c\u6709</p> \\[\\lim_{n \\to \\infty} \\left( \\sum_{k=1}^{n} \\frac{1}{k} - \\ln n \\right) = \\kappa,\\] <p>\u5176\u4e2d\\(\\kappa \\approx 0.577\\)\u88ab\u79f0\u4e3a\u6b27\u62c9-\u9a6c\u6b47\u7f57\u5c3c\u5e38\u6570(\u6216\u6b27\u62c9\u5e38\u6570)[28]\u3002\u7531\u4e8e\\(\\lim_{n \\to \\infty} \\ln n = \\infty\\)\uff0c\u6211\u4eec\u6709</p> \\[\\sum_{k=1}^{\\infty} \\frac{1}{k} = \\infty.\\] <p>\u4e8b\u5b9e\u4e0a\uff0c\\(H_n = \\sum_{k=1}^{n} \\frac{1}{k}\\)\u88ab\u79f0\u4e3a\u5fae\u79ef\u5206\u4e2d\u7684\u8c03\u548c\u7ea7\u6570\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u6709</p> \\[\\sum_{k=1}^{\\infty} \\frac{1}{k^2} = \\frac{\\pi^2}{6} &lt; \\infty.\\] <p>\u627e\u5230\\(\\sum_{k=1}^{\\infty} \\frac{1}{k^2}\\)\u7684\u503c\u88ab\u79f0\u4e3a\u5df4\u585e\u5c14\u95ee\u9898[30]\u3002</p> <p>\u603b\u4e4b\uff0c\u5e8f\u5217 \\(\\{a_k = 1/k\\}\\) \u6ee1\u8db3\u5b9a\u7406\\(6.1\\)\u4e2d\u7684\u7b2c\u4e8c\u4e2a\u6761\u4ef6\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u7a0d\u5fae\u4fee\u6539\u4e00\u4e0b\uff0c\u4f8b\u5982\\(a_k = 1/(k+1)\\)\u6216\\(a_k = c_k/k\\)\uff0c\u5176\u4e2d\\(c_k\\)\u662f\u6709\u754c\u7684\uff0c\u4e5f\u80fd\u4fdd\u6301\u8fd9\u4e2a\u6761\u4ef6\u3002</p> <p>\u5728RM\u7b97\u6cd5\u4e2d\uff0c\\(a_k\\)\u901a\u5e38\u88ab\u9009\u4f5c\u4e00\u4e2a\u8db3\u591f\u5c0f\u7684\u5e38\u6570\uff0c\u5728\u8bb8\u591a\u60c5\u51b5\u4e0b\uff0c\u5c3d\u7ba1\u7b2c\u4e8c\u4e2a\u6761\u4ef6\u4e0d\u518d\u88ab\u6ee1\u8db3\uff0c\u56e0\u4e3a\\(\\sum_{k=1}^{\\infty} a_k^2 = \\infty\\)\u800c\u4e0d\u662f\\(\\sum_{k=1}^{\\infty} a_k^2 &lt; \\infty\\)\uff0c\u7b97\u6cd5\u4ecd\u7136\u80fd\u4ee5\u67d0\u79cd\u65b9\u5f0f\u6536\u655b[24,1.5\u8282]\u3002\u6b64\u5916\uff0c\\(g(x) = x^3 - 5\\)\u4f5c\u4e3a\u56fe\\(6.3\\)\u4e2d\u7684\u4f8b\u5b50\uff0c\u867d\u7136\u4e0d\u6ee1\u8db3\u7b2c\u4e8c\u4e2a\u6761\u4ef6\uff0c\u4f46RM\u7b97\u6cd5\u4ecd\u7136\u53ef\u4ee5\u627e\u5230\u6839\uff08\u5982\u679c\u521d\u59cb\u731c\u6d4b\u8db3\u591f\u597d\uff09\u3002</p> <p>Note</p> <p>\u5982\u679c\\(a_k=1/k\\)\uff0c\u5f53\\(k\\)\u6bd4\u8f83\u5927\u65f6\uff0c\u540e\u9762\u7684\u6570\u636e\u6240\u8d77\u5230\u7684\u4f5c\u7528\u5c31\u975e\u5e38\u5c0f\u4e86\uff0c\u6240\u4ee5\u5e0c\u671b\u672a\u6765\u7684\u6570\u636e\u4ecd\u7136\u53ef\u4ee5\u6709\u7528\uff0c\u5c31\u8ba9\\(a_k\\)\u8d8b\u8fd1\u4e8e\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684\u6570\u800c\u975e\\(0\\)\u3002</p> </li> </ul>"},{"location":"Chapter-6/6-2/#622","title":"6.2.2 \u5728\u671f\u671b\u503c\u4f30\u8ba1\u95ee\u9898\u4e2d\u7684\u5e94\u7528","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u8fd0\u7528\u7f57\u5bbe\u65af-\u95e8\u7f57\u5b9a\u7406\u6765\u5206\u6790\u5747\u503c\u4f30\u8ba1\u95ee\u9898\uff0c\u8be5\u95ee\u9898\u5df2\u5728\u7b2c\\(6.1\\)\u8282\u4e2d\u8ba8\u8bba\u8fc7\u3002\u56de\u987e</p> \\[w_{k+1}=w_k+\\alpha_k(x_k-w_k)\\] <p>\u8fd9\u662f\u5747\u503c\u4f30\u8ba1\u7b97\u6cd5\\((6.4)\\)\u3002\u5f53\\(a_k = 1/k\\)\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\\(w_{k+1}\\)\u7684\u89e3\u6790\u8868\u8fbe\u5f0f\uff0c\u5373\\(w_{k+1} = \\frac{1}{k} \\sum_{i=1}^{k} x_i\\)\u3002\u7136\u800c\uff0c\u5f53\u7ed9\u5b9a\u4e00\u822c\u7684\\(a_k\\)\u65f6\uff0c\u6211\u4eec\u65e0\u6cd5\u83b7\u5f97\u89e3\u6790\u8868\u8fbe\u5f0f\u3002\u5728\u5f53\u65f6\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u7684\u6536\u655b\u6027\u65e0\u6cd5\u5f97\u5230\u8bc1\u660e\u3002\u4f46\u6211\u4eec\u73b0\u5728\u53ef\u4ee5\u8bc1\u660e\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8be5\u7b97\u6cd5\u662f\u4e00\u4e2a\u7279\u6b8a\u7684RM\u7b97\u6cd5\uff0c\u56e0\u6b64\u5176\u6536\u655b\u6027\u81ea\u7136\u8ddf\u968f\u3002</p> <p>\u7279\u522b\u5730\uff0c\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u4e3a</p> \\[g(w) = w - \\mathbb{E}[X].\\] <p>\u539f\u59cb\u95ee\u9898\u662f\u6c42\\(\\mathbb{E}[X]\\)\u7684\u503c\u3002\u8fd9\u4e2a\u95ee\u9898\u88ab\u8868\u8ff0\u4e3a\u6c42\u89e3\\(g(w) = 0\\)\u7684\u6839\u3002\u7ed9\u5b9a\u4e00\u4e2a\\(w\\)\u7684\u503c\uff0c\u566a\u58f0\u89c2\u6d4b\u503c\u4e3a\\(\\tilde{g}(w, \\eta) = w - x,\\)\u5176\u4e2d\\(x\\)\u662f\\(X\\)\u7684\u4e00\u4e2a\u6837\u672c\u3002\u6ce8\u610f\\(\\tilde{g}\\)\u53ef\u4ee5\u5199\u4e3a</p> \\[\\begin{aligned}\\tilde{g}(w,\\eta)&amp;=w-x\\\\&amp;=w-x+\\mathbb{E}[X]-\\mathbb{E}[X]\\\\&amp;=(w-\\mathbb{E}[X])+(\\mathbb{E}[X]-x)\\doteq g(w)+\\eta,\\end{aligned}\\] <p>\u5176\u4e2d\\(\\eta \\doteq \\mathbb{E}[X] - x\\)\u3002</p> <p>RM\u7b97\u6cd5\u6c42\u89e3\u8be5\u95ee\u9898\u7684\u66f4\u65b0\u516c\u5f0f\u4e3a</p> \\[w_{k+1} = w_k - a_k \\tilde{g}(w_k, \\eta_k) = w_k - a_k (w_k - x_k),\\] <p>\u8fd9\u6b63\u662f\\((6.4)\\)\u4e2d\u7684\u7b97\u6cd5\u3002\u56e0\u6b64\uff0c\u6839\u636e\u5b9a\u7406\\(6.1\\)\uff0c\u5b83\u4fdd\u8bc1\\(w_k\\)\u51e0\u4e4e\u5fc5\u7136\u6536\u655b\u4e8e\\(\\mathbb{E}[X]\\)\uff0c\u4e14\\(\\sum_{k=1}^{\\infty} a_k = \\infty\\)\uff0c\\(\\sum_{k=1}^{\\infty} a_k^2 &lt; \\infty\\)\uff0c\u5e76\u4e14\\(\\{x_k\\}\\)\u662f\u72ec\u7acb\u540c\u5206\u5e03\u7684\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u6536\u655b\u7684\u6027\u8d28\u4e0d\u4f9d\u8d56\u4e8e\\(X\\)\u7684\u5206\u5e03\u3002</p>"},{"location":"Chapter-6/6-3/","title":"6.3-Dvoretzky\u5b9a\u7406","text":""},{"location":"Chapter-6/6-3/#63-dvoretzky","title":"6.3 Dvoretzky\u5b9a\u7406","text":"<p>\u5230\u76ee\u524d\u4e3a\u6b62\uff0cRM\u7b97\u6cd5\u7684\u6536\u655b\u6027\u5c1a\u672a\u5f97\u5230\u7406\u8bba\u8bc1\u660e\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u63a5\u4e0b\u6765\u4ecb\u7ecdDvoretzky \u5b9a\u7406[31, 32]\uff0c\u5b83\u662f\u968f\u673a\u903c\u8fd1\u9886\u57df\u7684\u4e00\u4e2a\u7ecf\u5178\u7ed3\u679c\u3002\u8be5\u5b9a\u7406\u53ef\u7528\u4e8e\u5206\u6790 RM \u7b97\u6cd5\u548c\u8bb8\u591a\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u7684\u6536\u655b\u6027\u3002</p> <p>\u672c\u8282\u7684\u6570\u5b66\u5185\u5bb9\u7a0d\u663e\u5bc6\u96c6\u3002\u5efa\u8bae\u5bf9\u968f\u673a\u7b97\u6cd5\u6536\u655b\u6027\u5206\u6790\u611f\u5174\u8da3\u7684\u8bfb\u8005\u5b66\u4e60\u8fd9\u4e00\u90e8\u5206\u3002\u5426\u5219\uff0c\u53ef\u4ee5\u8df3\u8fc7\u672c\u8282\u3002</p> <p>Info</p> <p>\u5b9a\u74066.2. (Dvoretzky \u5b9a\u7406). \u8003\u8651\u4e00\u4e2a\u968f\u673a\u8fc7\u7a0b </p> \\[\\Delta_{k+1}=(1-\\alpha_k)\\Delta_k+\\beta_k\\eta_k,\\] <p>\u5176\u4e2d\\(\\{\\alpha_k\\}_{k=1}^\\infty\\), \\(\\{\\beta_k\\}_{k=1}^\\infty\\), \\(\\{\\eta_k\\}_{k=1}^\\infty\\)\u662f\u968f\u673a\u5e8f\u5217\u3002\u5bf9\u4e8e\u6240\u6709\\(k\\)\u6709\\(\\alpha_k\\geq 0,\\beta_k\\geq 0\\)\u3002\u90a3\u4e48\uff0c\u5982\u679c\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff0c\\(\\Delta_k\\)\u51e0\u4e4e\u5fc5\u7136\u6536\u655b\u4e3a\u96f6</p> <p>(a) \\(\\sum_{k=1}^{\\infty}\\alpha_{k}=\\infty,\\sum_{k=1}^{\\infty}\\alpha_{k}^{2}&lt;\\infty,\\)\u5e76\u4e14\\(\\sum_{k=1}^\\infty\\beta_k^2&lt;\\infty\\)\u51e0\u4e4e\u5fc5\u7136\u4e00\u81f4\u7684;</p> <p>(b) \\(\\mathbb{E}[\\eta_k|\\mathcal{H}_k]=0\\)\u4e0e\\(\\mathbb{E}[\\eta_{k}^{2}|\\mathcal{H}_{k}]\\leq C\\)\u662f\u51e0\u4e4e\u5fc5\u7136\u7684;</p> <p>\u5728\u8fd9\u91cc\\(\\mathcal{H}_k=\\{\\Delta_k,\\Delta_{k-1},...,\\eta_{k-1},...,\\alpha_{k-1},...,\\beta_{k-1},...\\}\\)\u3002</p> <p>\u5728\u4ecb\u7ecd\u8be5\u5b9a\u7406\u7684\u8bc1\u660e\u4e4b\u524d\uff0c\u6211\u4eec\u9996\u5148\u8981\u6f84\u6e05\u4e00\u4e9b\u95ee\u9898\u3002</p> <ul> <li> <p>\u5728 RM \u7b97\u6cd5\u4e2d\uff0c\u7cfb\u6570\u5e8f\u5217\\(\\{\\alpha_k\\}\\)\u662f\u786e\u5b9a\u7684\u3002\u7136\u800c\uff0cDvoretzky\u5b9a\u7406\u5141\u8bb8\\(\\{\\alpha_k\\},\\{\\beta_k\\}\\)\u6210\u4e3a\u53d6\u51b3\u4e8e\\(\\mathcal{H}_k\\)\u7684\u968f\u673a\u53d8\u91cf\u3002\u56e0\u6b64\uff0c\u5728\\(\\alpha_k\\)\u6216\\(\\beta_k\\)\u662f\\(\\Delta_k\\)\u7684\u51fd\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u8be5\u5b9a\u7406\u66f4\u4e3a\u6709\u7528\u3002</p> </li> <li> <p>\u7b2c\u4e00\u4e2a\u6761\u4ef6\u662f \"\u51e0\u4e4e\u5fc5\u7136\u4e00\u81f4\"\u3002\u8fd9\u662f\u56e0\u4e3a\\(\\alpha_k\\)\u548c\\(\\beta_k\\)\u53ef\u80fd\u662f\u968f\u673a\u53d8\u91cf\uff0c\u56e0\u6b64\u5b83\u4eec\u7684\u6781\u9650\u5b9a\u4e49\u5fc5\u987b\u5728\u968f\u673a\u60c5\u51b5\u4e0b\u3002\u7b2c\u4e8c\u4e2a\u6761\u4ef6\u4e5f\u8868\u8ff0\u4e3a\"\u51e0\u4e4e\u5fc5\u7136\"\u3002\u8fd9\u662f\u56e0\u4e3a\\(\\mathcal{H}k\\)\u662f\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\u5e8f\u5217\uff0c\u800c\u4e0d\u662f\u5177\u4f53\u7684\u503c\u3002\u56e0\u6b64\uff0c\\(\\mathbb{E}[\\eta_{k}|\\mathcal{H}_{k}]\\)\u548c\\(\\mathbb{E}[\\eta_{k}^{2}|\\mathcal{H}_{k}]\\)\u90fd\u662f\u968f\u673a\u53d8\u91cf\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6761\u4ef6\u671f\u671b\u7684\u5b9a\u4e49\u662f\u4ee5\u201c\u51e0\u4e4e\u5fc5\u7136\u201d\u7684\u610f\u4e49\u7ed9\u51fa\u7684(\u9644\u5f55 \\(B\\))\u3002</p> </li> <li> <p>\u5b9a\u7406\\(6.2\\)\u7684\u9648\u8ff0\u4e0e[32]\u7565\u6709\u4e0d\u540c\uff0c\u56e0\u4e3a\u5b9a\u7406\\(6.2\\)\u7684\u7b2c\u4e00\u4e2a\u6761\u4ef6\u4e2d\u5e76\u4e0d\u8981\u6c42\\(\\sum_{k=1}^{\\infty}\\beta_{k}=\\infty\\)\u3002\u5f53\\(\\sum_{k=1}^{\\infty}\\beta_{k}&lt;\\infty\\)\u65f6\uff0c\u7279\u522b\u662f\u5f53\\(\\beta_k = 0\\)\u5bf9\u6240\u6709\\(k\\)\u6210\u7acb\u65f6\uff0c\u8be5\u5e8f\u5217\u4ecd\u7136\u53ef\u4ee5\u6536\u655b\u3002</p> </li> </ul>"},{"location":"Chapter-6/6-3/#631-dvoretzky","title":"6.3.1 Dvoretzky\u7684\u8bc1\u660e","text":"<p>\u89c1Box\\(6.3.1\\)\u3002</p>"},{"location":"Chapter-6/6-3/#632","title":"6.3.2 \u5e94\u7528\u4e8e\u671f\u671b\u503c\u4f30\u8ba1","text":"<p>\u867d\u7136\u5747\u503c\u4f30\u8ba1\u7b97\u6cd5\\(w_{k+1}=w_k+\\alpha_k(x_k-w_k)\\)\u5df2\u7ecf\u901a\u8fc7RM\u5b9a\u7406\u8fdb\u884c\u4e86\u5206\u6790\uff0c\u4f46\u6211\u4eec\u63a5\u4e0b\u6765\u5c06\u5c55\u793a\uff0c\u5176\u6536\u655b\u6027\u4e5f\u53ef\u4ee5\u901a\u8fc7Dvoretzky\u5b9a\u7406\u76f4\u63a5\u8bc1\u660e\u3002</p> <p>\u8bc1\u660e. \u4ee4\\(w^*=\\mathbb{E}[X]\\)\u3002\u5747\u503c\u4f30\u8ba1\u7b97\u6cd5\\(w_{k+1}=w_k+\\alpha_k(x_k-w_k)\\)\u53ef\u4ee5\u91cd\u5199\u4e3a</p> \\[w_{k+1}-w^*=w_k-w^*+\\alpha_k(x_k-w^*+w^*-w_k).\\] <p>\u4ee4\\(\\Delta=w-w^*\\)\uff0c\u8fd9\u65f6\u6211\u4eec\u5f97\u5230</p> \\[\\begin{aligned}\\Delta_{k+1}&amp;=\\Delta_{k}+\\alpha_{k}(x_{k}-w^{*}-\\Delta_{k})\\\\&amp;=(1-\\alpha_{k})\\Delta_{k}+\\alpha_{k}\\underbrace{(x_{k}-w^{*})}_{\\eta_{k}}.\\end{aligned}\\] <p>\u7531\u4e8e\\({x_k}\\)\u662f\u72ec\u7acb\u540c\u5206\u5e03\u7684\uff0c\u6211\u4eec\u6709\\(\\mathbb{E}[\\eta_k|\\mathcal{H}_k] =\\mathbb{E}[x_k-w^*|\\mathcal{H}_k] = 0\\)\uff0c\u4e14\\(\\mathbb{E}[\\eta_{k}^{2}|\\mathcal{H}_{k}]=\\mathbb{E}[x_{k}^{2}|\\mathcal{H}_{k}]-(w^{*})^{2}=\\mathbb{E}[x_{k}^{2}]-(w^{*})^{2}\\)\u662f\u6709\u754c\u7684(\u5982\u679c\\(x_k\\)\u7684\u65b9\u5dee\u662f\u6709\u9650\u7684)\u3002\u6839\u636eDvoretzky\u5b9a\u7406\uff0c\u6211\u4eec\u5f97\u51fa\u7ed3\u8bba\uff1a\\(\\Delta_k\\)\u6536\u655b\u5230\u96f6\uff0c\u56e0\u6b64\\(w_k\\)\u51e0\u4e4e\u5fc5\u7136\u6536\u655b\u5230\\(w^\u2217 = \\mathbb{E}[X]\\)\u3002</p>"},{"location":"Chapter-6/6-3/#633-","title":"6.3.3 \u5e94\u7528\u4e8e\u8bc1\u660e\u7f57\u5bbe\u65af-\u95e8\u7f57\u5b9a\u7406","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u7528Dvoretzky\u5b9a\u7406\u6765\u8bc1\u660e\u7f57\u5bbe\u65af-\u95e8\u7f57\u5b9a\u7406\u4e86\u3002</p> <p>\u5bf9\u7f57\u5bbe\u65af-\u95e8\u7f57\u5b9a\u7406\u7684\u8bc1\u660e. RM\u7b97\u6cd5\u7684\u76ee\u7684\u662f\u627e\u5230\\(g(w) = 0\\)\u7684\u6839\u3002 \u5047\u8bbe\u6839\u662f \\(w\u2217\\)\u4f7f\u5f97\\(g(w^\u2217) = 0\\)\uff0c\u5219RM\u7b97\u6cd5\u7684\u8fed\u4ee3\u516c\u5f0f\u4e3a</p> \\[\\begin{aligned}w_{k+1}&amp;=w_{k}-a_{k}\\tilde{g}(w_{k},\\eta_{k})\\\\&amp;=w_k-a_k[g(w_k)+\\eta_k].\\end{aligned}\\] <p>\u8fd9\u65f6\u6211\u4eec\u6709</p> \\[w_{k+1}-w^*=w_k-w^*-a_k[g(w_k)-g(w^*)+\\eta_k].\\] <p>\u6839\u636e\u4e2d\u503c\u5b9a\u7406[7,8]\uff0c\u53ef\u5f97\\(g(w_{k})-g(w^{*})=\\nabla_{w}g(w_{k}^{\\prime})(w_{k}-w^{*}),\\)\u5728\u8fd9\u91cc\\(w_k^\\prime\\in[w_k,w^*]\\)\u3002\u4ee4\\(\\Delta_k= w_k-w^*\\)\uff0c\u4e0a\u9762\u516c\u5f0f\u53ef\u53d8\u4e3a</p> \\[\\begin{gathered}\\Delta_{k+1}=\\Delta_k-a_k[\\nabla_wg(w_k^{\\prime})(w_k-w^*)+\\eta_k]\\\\=\\Delta_k-a_k\\nabla_wg(w_k^{\\prime})\\Delta_k+a_k(-\\eta_k)\\\\=[1-\\underbrace{a_k\\nabla_wg(w_k^{\\prime})}_{\\alpha_k}]\\Delta_k+a_k(-\\eta_k).\\end{gathered}\\] <p>\u6ce8\u610f\u5230\u5728\u5047\u8bbe\u6761\u4ef6\u4e0b\\(\\nabla_w g(w)\\)\u6709\u754c\uff0c\u5373 \\(0 &lt; c_1 \\leq \\nabla_w g(w) \\leq c_2\\)\u3002\u6839\u636e\u5047\u8bbe \\(\\sum_{k=1}^\\infty a_k = \\infty\\)\u4e14 \\(\\sum_{k=1}^\\infty a_k^2 &lt; \\infty\\)\uff0c\u53ef\u77e5 \\(\\sum_{k=1}^\\infty \\alpha_k = \\infty\\)\u4e14 \\(\\sum_{k=1}^\\infty \\alpha_k^2 &lt; \\infty\\)\u3002\u56e0\u6b64\uff0cDvoretzky\u5b9a\u7406\u7684\u6240\u6709\u6761\u4ef6\u5747\u88ab\u6ee1\u8db3\uff0c\u6545 \\(\\Delta_k\\)\u51e0\u4e4e\u5fc5\u7136\u6536\u655b\u4e8e\u96f6\u3002</p> <p>RM\u5b9a\u7406\u7684\u8bc1\u660e\u5c55\u73b0\u4e86Dvoretzky\u5b9a\u7406\u7684\u5f3a\u5927\u80fd\u529b\u3002\u7279\u522b\u5730\uff0c\u8bc1\u660e\u4e2d\u7684\\(\\alpha_k\\)\u662f\u4e00\u4e2a\u4f9d\u8d56\u4e8e\\(w_k\\)\u7684\u968f\u673a\u5e8f\u5217\uff0c\u800c\u975e\u786e\u5b9a\u6027\u5e8f\u5217\u3002\u5728\u6b64\u60c5\u5f62\u4e0b\uff0cDvoretzky\u5b9a\u7406\u4f9d\u7136\u9002\u7528\u3002</p>"},{"location":"Chapter-6/6-3/#634-dvoretzky","title":"6.3.4 Dvoretzky\u5b9a\u7406\u7684\u6269\u5c55","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06Dvoretzky\u5b9a\u7406\u63a8\u5e7f\u81f3\u4e00\u4e2a\u80fd\u5904\u7406\u591a\u53d8\u91cf\u7684\u66f4\u4e00\u822c\u5f62\u5f0f\u3002\u8be5\u5e7f\u4e49\u5b9a\u7406\u7531[32]\u63d0\u51fa\uff0c\u53ef\u7528\u4e8e\u5206\u6790\\(Q\\)\u5b66\u4e60\u7b49\u968f\u673a\u8fed\u4ee3\u7b97\u6cd5\u7684\u6536\u655b\u6027\u3002</p> <p>Info</p> <p>\u5b9a\u74066.3 \u8bbe \\(\\mathcal{S}\\)\u4e3a\u6709\u9650\u5b9e\u6570\u96c6\u3002\u5bf9\u4e8e\u968f\u673a\u8fc7\u7a0b</p> \\[\\Delta_{k+1}(s)=(1-\\alpha_k(s))\\Delta_k(s)+\\beta_k(s)\\eta_k(s),\\] <p>\u5bf9\u4e8e\u6240\u6709 \\(s \\in \\mathcal{S}\\)\uff0c\u82e5\u4ee5\u4e0b\u6761\u4ef6\u6ee1\u8db3\uff0c\u5219 \\(\\Delta_k(s)\\)\u51e0\u4e4e\u5fc5\u7136\u6536\u655b\u4e8e\u96f6\uff1a</p> <p>(a) \\(\\sum_k \\alpha_k(s) = \\infty\\), \\(\\sum_k \\alpha^2_k(s) &lt; \\infty\\),\\(\\sum_k \\beta^2_k(s) &lt; \\infty\\), \u4e14\\(\\mathbb{E}[\\beta_k(s)|\\mathcal{H}_k] \\leq \\mathbb{E}[\\alpha_k(s)|\\mathcal{H}_k]\\) \u51e0\u4e4e\u5fc5\u7136\u4e00\u81f4\u6210\u7acb</p> <p>(b) \\(\\|\\mathbb{E}[\\eta_k(s)|\\mathcal{H}_k]\\|_\\infty\\leq\\gamma\\|\\Delta_k\\|_\\infty\\)\uff0c\u5728\u8fd9\u91cc\\(\\gamma\\in(0,1)\\)</p> <p>\u00a9 \\(\\mathrm{var}[\\eta_{k}(s)|\\mathcal{H}_{k}]\\leq C(1+\\|\\Delta_{k}(s)\\|_{\\infty})^{2},\\)\u5728\u8fd9\u91cc\\(C\\)\u662f\u4e00\u4e2a\u5e38\u6570</p> <p>\u6b64\u5904\uff0c\\(H_k = \\{\\Delta_k, \\Delta_{k-1}, \\dots, \\eta_{k-1}, \\dots, \\alpha_{k-1}, \\dots, \\beta_{k-1}, \\dots \\}\\)\u8868\u793a\u5386\u53f2\u4fe1\u606f\u3002\u672f\u8bed \\(\\|\\cdot\\|_\\infty\\)\u6307\u4ee3\u6700\u5927\u8303\u6570\u3002</p> <p>\u8bc1\u660e. \u4f5c\u4e3a\u8be5\u5b9a\u7406\u7684\u63a8\u5e7f\uff0c\u5176\u8bc1\u660e\u53ef\u57fa\u4e8e Dvoretzky\u5b9a\u7406\u5b8c\u6210\u3002\u5177\u4f53\u7ec6\u8282\u53c2\u89c1\u6587\u732e[32]\uff0c\u6b64\u5904\u4ece\u7565\u3002</p> <p>\u4ee5\u4e0b\u7ed9\u51fa\u5173\u4e8e\u8be5\u5b9a\u7406\u7684\u4e00\u4e9b\u8bf4\u660e\u3002</p> <ul> <li> <p>\u6211\u4eec\u9996\u5148\u9610\u660e\u5b9a\u7406\u4e2d\u7684\u82e5\u5e72\u7b26\u53f7\u5b9a\u4e49\u3002\u53d8\u91cf\\(s\\)\u53ef\u89c6\u4e3a\u7d22\u5f15\u6307\u6807\uff0c\u5728\u5f3a\u5316\u5b66\u4e60\u8bed\u5883\u4e2d\u8868\u5f81\u72b6\u6001\u6216\u72b6\u6001-\u884c\u52a8\u5bf9\u3002\u6700\u5927\u8303\u6570\\(\\|\\cdot\\|_\\infty\\)\u5b9a\u4e49\u4e8e\u96c6\u5408\u4e4b\u4e0a\uff0c\u5176\u4e0e\u5411\u91cf\u7684 \\(L^\\infty\\)\u8303\u6570\u6982\u5ff5\u76f8\u4f3c\u4f46\u5b58\u5728\u5dee\u5f02\u3002\u5177\u4f53\u800c\u8a00\uff1a\\(\\mathbb{E}[\\eta_k(s)|\\mathcal{H}_k] \\|_\\infty \\doteq \\max_{s \\in \\mathcal{S}} | \\mathbb{E}[\\eta_k(s)|\\mathcal{H}_k] |\\)\u4ee5\u53ca\\(\\| \\Delta_k(s) \\|_\\infty = \\max_{s \\in \\mathcal{S}} | \\Delta_k(s) |\\)</p> </li> <li> <p>\u8be5\u5b9a\u7406\u6bd4Dvoretzky\u5b9a\u7406\u66f4\u5177\u666e\u9002\u6027\u3002\u9996\u5148\uff0c\u7531\u4e8e\u91c7\u7528\u4e86\u6700\u5927\u8303\u6570\u8fd0\u7b97\uff0c\u5b83\u80fd\u5904\u7406\u591a\u53d8\u91cf\u60c5\u5f62\uff0c\u8fd9\u5bf9\u5b58\u5728\u591a\u91cd\u72b6\u6001\u7684\u5f3a\u5316\u5b66\u4e60\u95ee\u9898\u81f3\u5173\u91cd\u8981\uff1b\u5176\u6b21\uff0cDvoretzky\u5b9a\u7406\u8981\u6c42 \\(\\mathbb{E}[\\eta_k(s)|\\mathcal{H}_k] =0\\)\u4e14 \\(\\text{var}[\\eta_k(s)|\\mathcal{H}_k] \\leq C\\)\uff0c\u800c\u672c\u5b9a\u7406\u4ec5\u9700\u671f\u671b\u4e0e\u65b9\u5dee\u88ab\u8bef\u5dee \\(\\Delta_k\\)\u754c\u5b9a\u3002</p> </li> <li> <p>\u9700\u6ce8\u610f\uff0c\\(\\Delta(s)\\)\u5bf9\u6240\u6709 \\(s \\in \\mathcal{S}\\)\u7684\u6536\u655b\u6027\u8981\u6c42\u6761\u4ef6\u5728\u6bcf\u4e00 \\(s \\in \\mathcal{S}\\)\u4e0a\u5747\u6210\u7acb\u3002\u56e0\u6b64\uff0c\u5728\u5e94\u7528\u8be5\u5b9a\u7406\u8bc1\u660e\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u6536\u655b\u6027\u65f6\uff0c\u9700\u8bc1\u660e\u8fd9\u4e9b\u6761\u4ef6\u5bf9\u6bcf\u4e2a\u72b6\u6001(\u6216\u72b6\u6001-\u52a8\u4f5c\u5bf9)\u5747\u6210\u7acb\u3002</p> </li> </ul>"},{"location":"Chapter-6/6-4/","title":"6.4-\u968f\u673a\u68af\u5ea6\u4e0b\u964d","text":""},{"location":"Chapter-6/6-4/#64","title":"6.4 \u968f\u673a\u68af\u5ea6\u4e0b\u964d","text":"<p>\u672c\u8282\u4ecb\u7ecd\u968f\u673a\u68af\u5ea6\u4e0b\u964d\uff08SGD\uff09\u7b97\u6cd5\uff0c\u8be5\u7b97\u6cd5\u5728\u673a\u5668\u5b66\u4e60\u9886\u57df\u5e94\u7528\u5e7f\u6cdb\u3002\u6211\u4eec\u5c06\u8bc1\u660eSGD\u662fRM\u7b97\u6cd5\u7684\u7279\u4f8b\uff0c\u800c\u5747\u503c\u4f30\u8ba1\u7b97\u6cd5\u53c8\u662fSGD\u7b97\u6cd5\u7684\u7279\u4f8b\u3002</p> <p>\u8003\u8651\u5982\u4e0b\u4f18\u5316\u95ee\u9898\uff1a</p> \\[\\min_{w}J(w)=\\mathbb{E}[f(w,X)],\\tag{6.10}\\] <p>\u5176\u4e2d \\(w\\)\u4e3a\u5f85\u4f18\u5316\u53c2\u6570\uff0c\\(X\\)\u4e3a\u968f\u673a\u53d8\u91cf\u3002\u671f\u671b\u503c\u662f\u5bf9 \\(X\\)\u8fdb\u884c\u8ba1\u7b97\u3002\u6b64\u5904\\(w\\)\u548c\\(X\\)\u65e2\u53ef\u4ee5\u662f\u6807\u91cf\u4e5f\u53ef\u4ee5\u662f\u5411\u91cf\u3002\u51fd\u6570\\(f(\\cdot)\\)\u4e3a\u6807\u91cf\u51fd\u6570\u3002</p> <p>\u6c42\u89e3\u5f0f\\((6.10)\\)\u7684\u76f4\u89c2\u65b9\u6cd5\u662f\u68af\u5ea6\u4e0b\u964d\u6cd5\u3002\u5177\u4f53\u800c\u8a00\uff0c\u76ee\u6807\u51fd\u6570 \\(E[f(w,X)]\\)\u7684\u68af\u5ea6\u4e3a\\(\\nabla_w E[f(w,X)] = E[\\nabla_w f(w,X)]\\)\u3002\u76f8\u5e94\u7684\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u53ef\u8868\u793a\u4e3a</p> \\[w_{k+1} = w_k - \\alpha_k \\nabla_w J(w_k) = w_k - \\alpha_k \\mathbb{E}[\\nabla_w f(w_k, X)].\\tag{6.11}\\] <p>\u5728\u8bf8\u5982\u51fd\u6570\\(f\\)\u7684\u51f8\u6027\u7b49\u6e29\u548c\u6761\u4ef6\u4e0b\uff0c\u8be5\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u80fd\u591f\u627e\u5230\u6700\u4f18\u89e3 \\(w^*\\)\u3002\u5173\u4e8e\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u7684\u9884\u5907\u77e5\u8bc6\u53ef\u53c2\u89c1\u9644\u5f55D\u3002</p> <p>\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u9700\u8981\u671f\u671b\u503c\\(E[\\nabla_w f(w_k,X)]\\)\u3002\u83b7\u53d6\u8be5\u671f\u671b\u503c\u7684\u4e00\u79cd\u65b9\u6cd5\u662f\u57fa\u4e8e\\(X\\)\u7684\u6982\u7387\u5206\u5e03\u3002\u7136\u800c\uff0c\u5b9e\u9645\u5e94\u7528\u4e2d\u8be5\u5206\u5e03\u5f80\u5f80\u672a\u77e5\u3002\u53e6\u4e00\u79cd\u65b9\u6cd5\u5373\u6279\u91cf\u68af\u5ea6\u4e0b\u964d(batch gradient descent)\u662f\u6536\u96c6\u5927\u91cf\u72ec\u7acb\u540c\u5206\u5e03\u6837\u672c \\(\\{x_i\\}_{i=1}^n\\)\u6765\u903c\u8fd1\u671f\u671b\u503c\uff0c\u5176\u8868\u8fbe\u5f0f\u4e3a</p> \\[E[\\nabla_w f(w_k, X)] \\approx \\frac{1}{n} \\sum_{i=1}^n \\nabla_w f(w_k, x_i).\\] <p>\u5219\\((6.11)\\)\u5f0f\u53d8\u4e3a</p> \\[w_{k+1} = w_k - \\alpha_k \\frac{1}{n} \\sum_{i=1}^n \\nabla_w f(w_k, x_i),\\tag{6.12}\\] <p>\\((6.12)\\)\u5f0f\u4e2d\u7b97\u6cd5\u7684\u4e00\u4e2a\u95ee\u9898\u5728\u4e8e\uff1a\u6bcf\u6b21\u8fed\u4ee3\u90fd\u9700\u8981\u4f7f\u7528\u5168\u90e8\u6837\u672c\u3002\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u82e5\u6837\u672c\u662f\u9010\u4e2a\u91c7\u96c6\u7684\uff0c\u5219\u66f4\u5e0c\u671b\u5728\u6bcf\u6b21\u83b7\u5f97\u65b0\u6837\u672c\u65f6\u7acb\u5373\u66f4\u65b0\\(w\\)\u3002\u4e3a\u6b64\uff0c\u53ef\u91c7\u7528\u5982\u4e0b\u7b97\u6cd5\u5373\u968f\u673a\u68af\u5ea6\u4e0b\u964d(stochastic gradient descent)\uff1a</p> \\[w_{k+1} = w_k - \\alpha_k \\nabla_w f(w_k, x_k),\\tag{6.13}\\] <p>\u5176\u4e2d\\(x_k\\)\u4e3a\u65f6\u95f4\u6b65\\(k\\)\u91c7\u96c6\u7684\u6837\u672c\u3002\u8fd9\u662f\u7ecf\u5178\u7684\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u3002\u8be5\u7b97\u6cd5\u88ab\u79f0\u4e3a\"\u968f\u673a\"\u7684\u539f\u56e0\u662f\u5b83\u4f9d\u8d56\u4e8e\u968f\u673a\u6837\u672c\u96c6 \\(\\{x_k\\}\\)\u3002</p> <p>\u76f8\u8f83\u4e8e\\((6.11)\\)\u4e2d\u7684\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\uff0cSGD\u5c06\u771f\u5b9e\u68af\u5ea6\\(E[\\nabla_w f(w,X)]\\)\u66ff\u6362\u4e3a\u968f\u673a\u68af\u5ea6\\(\\nabla_w f(w_k, x_k)\\)\u3002\u7531\u4e8e\\(\\nabla_w f(w_k, x_k) \\neq E[\\nabla_w f(w,X)]\\)\uff0c\u8fd9\u79cd\u66ff\u6362\u662f\u5426\u4ecd\u80fd\u4fdd\u8bc1\u5f53\\(k \\to \\infty\\)\u65f6\\(w_k \\to w^*\\)\uff1f\u7b54\u6848\u662f\u80af\u5b9a\u7684\u3002\u6211\u4eec\u63a5\u4e0b\u6765\u7ed9\u51fa\u76f4\u89c2\u89e3\u91ca\uff0c\u5e76\u5c06\u6536\u655b\u6027\u7684\u4e25\u683c\u8bc1\u660e\u63a8\u8fdf\u81f36.4.5\u8282\u3002</p> <p>Note</p> <p>\u8fd9\u91cc\u53ef\u4ee5\u5c06SGD\u4e0eGD\u548cBGD\u5bf9\u6bd4\u4e00\u4e0b\u3002</p> <p>\u7279\u522b\u5730\uff0c\u7531\u4e8e</p> \\[\\begin{aligned}\\nabla_{w}f(w_{k},x_{k})&amp;=\\mathbb{E}[\\nabla_wf(w_k,X)]+\\left(\\nabla_wf(w_k,x_k)-\\mathbb{E}[\\nabla_wf(w_k,X)]\\right)\\\\&amp;\\doteq\\mathbb{E}[\\nabla_wf(w_k,X)]+\\eta_k,\\end{aligned}\\] <p>\u5f0f\\((6.13)\\)\u4e2d\u7684 SGD\u7b97\u6cd5\u53ef\u6539\u5199\u4e3a</p> \\[w_{k+1} = w_k - \\alpha_k \\mathbb{E}[\\nabla_w f(w_k, X)] - \\alpha_k \\eta_k. \\] <p>\u56e0\u6b64\uff0cSGD\u7b97\u6cd5\u4e0e\u5e38\u89c4\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u76f8\u540c\uff0c\u552f\u4e00\u7684\u533a\u522b\u5728\u4e8e\u5176\u542b\u6709\u4e00\u4e2a\u6270\u52a8\u9879\\(\\alpha_k\\eta_k\\)\u3002\u7531\u4e8e\\(\\{x_k\\}\\)\u662f\u72ec\u7acb\u540c\u5206\u5e03\u5e8f\u5217\uff0c\u6211\u4eec\u6709\\(\\mathbb{E}_{x_k}[\\nabla_w f(w_k, x_k)] = \\mathbb{E}_X[\\nabla_w f(w_k,X)]\\)\u3002\u7531\u6b64\u53ef\u5f97\uff0c</p> \\[\\mathbb{E}[\\eta_k] = \\mathbb{E} \\left[ \\nabla_w f(w_k, x_k) - \\mathbb{E}[\\nabla_w f(w_k, X)] \\right] = \\mathbb{E}_{x_k} \\left[ \\nabla_w f(w_k, x_k) \\right] - \\mathbb{E}_x \\left[ \\nabla_w f(w_k, X) \\right] = 0. \\] <p>\u56e0\u6b64\uff0c\u6270\u52a8\u9879 \\(\\eta_k\\)\u7684\u5747\u503c\u4e3a\u96f6\uff0c\u8fd9\u76f4\u89c2\u8868\u660e\u5b83\u53ef\u80fd\u4e0d\u4f1a\u7834\u574f\u6536\u655b\u6027\u3002\u5173\u4e8e\u968f\u673a\u68af\u5ea6\u4e0b\u964d(SGD)\u65b9\u6cd5\u7684\u6536\u655b\u6027\u4e25\u683c\u8bc1\u660e\u8be6\u89c1\u7b2c\\(6.4.5\\)\u8282\u3002</p>"},{"location":"Chapter-6/6-4/#641","title":"6.4.1 \u5e94\u7528\u4e8e\u671f\u671b\u4f30\u8ba1","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5e94\u7528\u968f\u673a\u68af\u5ea6\u4e0b\u964d(SGD)\u6765\u5206\u6790\u5747\u503c\u4f30\u8ba1\u95ee\u9898\uff0c\u5e76\u8bc1\u660e\u5f0f\\((6.4)\\)\u4e2d\u7684\u5747\u503c\u4f30\u8ba1\u7b97\u6cd5\u662f\u4e00\u79cd\u7279\u6b8a\u7684SGD\u7b97\u6cd5\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u5c06\u5747\u503c\u4f30\u8ba1\u95ee\u9898\u8868\u8ff0\u4e3a\u5982\u4e0b\u4f18\u5316\u95ee\u9898\uff1a</p> \\[\\min_wJ(w)=\\mathbb{E}\\left[\\frac{1}{2}\\|w-X\\|^2\\right]\\doteq\\mathbb{E}[f(w,X)],\\tag{6.14}\\] <p>\u5176\u4e2d \\(f(w,X) = \\|w - X\\|^2/2\\)\u4e14\u68af\u5ea6\u4e3a \\(\\nabla_w f(w,X) = w - X\\)\u3002\u901a\u8fc7\u6c42\u89e3 \\(\\nabla_w J(w) =0\\)\u53ef\u9a8c\u8bc1\u6700\u4f18\u89e3\u4e3a \\(w^* = \\mathbb{E}[X]\\)\u3002\u56e0\u6b64\uff0c\u8be5\u4f18\u5316\u95ee\u9898\u7b49\u4ef7\u4e8e\u5747\u503c\u4f30\u8ba1\u95ee\u9898\u3002</p> <p>Note</p> <p>\\(\\nabla_w J(w) =0\\)\\(\\rightarrow\\)\\(\\mathbb{E}[\\nabla_w f(w,X)]=0\\)\\(\\rightarrow\\)\\(\\mathbb{E}[w-X]=0\\)\\(\\rightarrow\\)\\(w^*=\\mathbb{E}[X]\\)</p> <ul> <li> <p>\u6c42\u89e3\u5f0f\\((6.14)\\)\u7684\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u4e3a</p> \\[\\begin{aligned}w_{k+1}&amp;=w_k-\\alpha_k\\nabla_wJ(w_k)\\\\&amp;=w_k-\\alpha_k\\mathbb{E}[\\nabla_wf(w_k,X)]\\\\&amp;=w_k-\\alpha_k\\mathbb{E}[w_k-X]\\end{aligned}\\] <p>\u8be5\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u4e0d\u53ef\u884c\uff0c\u56e0\u4e3a\u7b49\u5f0f\u53f3\u4fa7\u7684 \\(E[w_k - X]\\)\u6216 \\(E[X]\\)\u672a\u77e5\uff08\u5b9e\u9645\u4e0a\u8fd9\u6b63\u662f\u6211\u4eec\u9700\u8981\u6c42\u89e3\u7684\u9879\uff09\u3002</p> </li> <li> <p>\u6c42\u89e3\u5f0f\\((6.14)\\)\u7684 SGD\u7b97\u6cd5\u4e3a</p> \\[w_{k+1}=w_k-\\alpha_k\\nabla_wf(w_k,x_k)=w_k-\\alpha_k(w_k-x_k)\\] <p>\u5176\u4e2d\\(x_k\\)\u4e3a\u65f6\u95f4\u6b65\\(k\\)\u5904\u83b7\u53d6\u7684\u6837\u672c\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u968f\u673a\u68af\u5ea6\u4e0b\u964d(SGD)\u7b97\u6cd5\u4e0e\u5f0f\\((6.4)\\)\u4e2d\u7684\u8fed\u4ee3\u5747\u503c\u4f30\u8ba1\u7b97\u6cd5\u5b8c\u5168\u4e00\u81f4\u3002\u56e0\u6b64\uff0c\\((6.4)\\)\u5f0f\u662f\u4e13\u95e8\u4e3a\u89e3\u51b3\u5747\u503c\u4f30\u8ba1\u95ee\u9898\u8bbe\u8ba1\u7684\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u3002</p> </li> </ul>"},{"location":"Chapter-6/6-4/#642","title":"6.4.2 \u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7684\u6536\u655b\u5f62\u5f0f","text":"<p>SGD\u7b97\u6cd5\u7684\u6838\u5fc3\u601d\u60f3\u662f\u7528\u968f\u673a\u68af\u5ea6\u66ff\u4ee3\u771f\u5b9e\u68af\u5ea6\u3002\u7136\u800c\uff0c\u7531\u4e8e\u968f\u673a\u68af\u5ea6\u7684\u968f\u673a\u6027\uff0c\u4eba\u4eec\u53ef\u80fd\u4f1a\u8d28\u7591SGD\u7684\u6536\u655b\u901f\u5ea6\u662f\u5426\u8f83\u6162\u6216\u4e0d\u7a33\u5b9a\u3002\u4f46\u5e78\u8fd0\u7684\u662f\uff0cSGD\u901a\u5e38\u80fd\u5b9e\u73b0\u9ad8\u6548\u6536\u655b\u3002\u4e00\u4e2a\u6709\u8da3\u7684\u6536\u655b\u6a21\u5f0f\u662f\uff1a\u5f53\u4f30\u8ba1\u503c\\(w_k\\)\u8fdc\u79bb\u6700\u4f18\u89e3\\(w^*\\)\u65f6\uff0c\u5176\u8868\u73b0\u4e0e\u5e38\u89c4\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u76f8\u4f3c\uff1b\u53ea\u6709\u5f53\\(w_k\\)\u63a5\u8fd1\\(w^*\\)\u65f6\uff0cSGD\u7684\u6536\u655b\u8fc7\u7a0b\u624d\u4f1a\u8868\u73b0\u51fa\u66f4\u5f3a\u7684\u968f\u673a\u6027\u3002</p> <p>Note</p> <p>\\(\\nabla_wf(w_k,x_k)\\)\u53ef\u4ee5\u770b\u4f5c\u662f\\(\\mathbb{E}[\\nabla_wf(w,X)]\\)\u7684\u566a\u58f0\u6d4b\u91cf\u503c\u3002</p> <p>\u4e0b\u6587\u5c06\u5206\u6790\u8be5\u6a21\u5f0f\u5e76\u7ed9\u51fa\u793a\u4f8b\u8bf4\u660e\u3002</p> <ul> <li> <p>\u5206\u6790\uff1a\u968f\u673a\u68af\u5ea6\u4e0e\u771f\u5b9e\u68af\u5ea6\u4e4b\u95f4\u7684\u76f8\u5bf9\u8bef\u5dee(relative error)\u4e3a</p> \\[\\delta_k\\doteq\\frac{|\\nabla_wf(w_k,x_k)-\\mathbb{E}[\\nabla_wf(w_k,X)]|}{|\\mathbb{E}[\\nabla_wf(w_k,X)]|}.\\] <p>\u4e3a\u7b80\u5316\u5206\u6790\uff0c\u6211\u4eec\u8003\u8651 \\(w\\)\u548c \\(\\nabla_w f(w, x)\\)\u5747\u4e3a\u6807\u91cf\u7684\u60c5\u5f62\u3002\u7531\u4e8e \\(w^*\\)\u662f\u6700\u4f18\u89e3\uff0c\u6545\u6709 \\(\\mathbb{E}[\\nabla_w f(w^*,X)] =0\\)\u3002\u6b64\u65f6\uff0c\u76f8\u5bf9\u8bef\u5dee\u53ef\u6539\u5199\u4e3a</p> \\[\\delta_k=\\frac{|\\nabla_wf(w_k,x_k)-\\mathbb{E}[\\nabla_wf(w_k,X)]|}{|\\mathbb{E}[\\nabla_wf(w_k,X)]-\\mathbb{E}[\\nabla_wf(w^*,X)]|}=\\frac{|\\nabla_wf(w_k,x_k)-\\mathbb{E}[\\nabla_wf(w_k,X)]|}{|\\mathbb{E}[\\nabla_w^2f(\\tilde{w}_k,X)(w_k-w^*)]|},\\tag{6.15}\\] <p>\u5176\u4e2d\u6700\u540e\u4e00\u4e2a\u7b49\u5f0f\u7531\u4e2d\u503c\u5b9a\u7406[7,8]\u5f97\u51fa\uff0c\u4e14 \\(\\tilde{w}_k \\in [w_k, w^*]\\)\u3002\u5047\u8bbe \\(f\\)\u662f\u4e25\u683c\u51f8\u51fd\u6570\uff0c\u4f7f\u5f97\u5bf9\u6240\u6709 \\(w,X\\)\u5747\u6709 \\(\\nabla^2_w f \\geq c &gt;0\\)\u3002\u6b64\u65f6\uff0c(6.15)\u5f0f\u4e2d\u7684\u5206\u6bcd\u53ef\u8868\u793a\u4e3a</p> \\[\\begin{aligned}\\left|\\mathbb{E}[\\nabla_{w}^{2}f(\\tilde{w}_{k},X)(w_{k}-w^{*})]\\right|&amp;=\\left|\\mathbb{E}[\\nabla_{w}^{2}f(\\tilde{w}_{k},X)]\\right|\\left|(w_{k}-w^{*})\\right|\\\\&amp;\\geq c|w_{k}-w^{*}|.\\end{aligned}\\] <p>\u5c06\u4e0a\u8ff0\u4e0d\u7b49\u5f0f\u4ee3\u5165\u5f0f\\((6.15)\\)\u53ef\u5f97</p> \\[\\delta_k\\leq\\frac{\\mid\\overbrace{\\nabla_wf(w_k,x_k)}^\\text{stochastic gradient}-\\overbrace{\\mathbb{E}[\\nabla_wf(w_k,X)]}^\\text{true gradient}\\mid}{\\underbrace{c|w_k-w^*|}_{\\text{distance to the optimal solution}}}.\\] <p>\u4e0a\u8ff0\u4e0d\u7b49\u5f0f\u63ed\u793a\u4e86\u968f\u673a\u68af\u5ea6\u4e0b\u964d(SGD)\u4e00\u4e2a\u6709\u8da3\u7684\u6536\u655b\u6a21\u5f0f\uff1a\u76f8\u5bf9\u8bef\u5dee \\(\\delta_k\\)\u4e0e \\(|w_k - w^*|\\)\u6210\u53cd\u6bd4\u3002\u56e0\u6b64\uff0c\u5f53 \\(|w_k - w^*|\\)\u8f83\u5927\u65f6\uff0c\\(\\delta_k\\)\u8f83\u5c0f\u3002\u6b64\u65f6SGD\u7b97\u6cd5\u7684\u8868\u73b0\u7c7b\u4f3c\u4e8e\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\uff0c\u56e0\u800c \\(w_k\\)\u4f1a\u5feb\u901f\u6536\u655b\u81f3 \\(w^*\\)\u3002\u800c\u5f53 \\(w_k\\)\u63a5\u8fd1 \\(w^*\\)\u65f6\uff0c\u76f8\u5bf9\u8bef\u5dee \\(\\delta_k\\)\u53ef\u80fd\u589e\u5927\uff0c\u6536\u655b\u8fc7\u7a0b\u4f1a\u8868\u73b0\u51fa\u66f4\u5f3a\u7684\u968f\u673a\u6027\u3002</p> </li> <li> <p>\u4f8b\u5b50: \u5747\u503c\u4f30\u8ba1\u95ee\u9898\u662f\u5c55\u793a\u4e0a\u8ff0\u5206\u6790\u7684\u5178\u578b\u6848\u4f8b\u3002\u8003\u8651\\((6.14)\\)\u4e2d\u7684\u5747\u503c\u4f30\u8ba1\u95ee\u9898\uff0c\u5f53\\(w\\)\u548c\\(X\\)\u5747\u4e3a\u6807\u91cf\u65f6\uff0c\u6709\\(f(w,X) = |w -X|^2/2\\)\uff0c\u56e0\u6b64</p> \\[\\begin{aligned}\\nabla_{w}f(w,x_{k})&amp;=w-x_{k},\\\\\\mathbb{E}[\\nabla_wf(w,x_k)]&amp;=w-\\mathbb{E}[X]=w-w^{*}.\\end{aligned}\\] <p>\u56e0\u6b64\uff0c\u76f8\u5bf9\u8bef\u5dee\u4e3a</p> \\[\\delta_k=\\frac{|\\nabla_wf(w_k,x_k)-\\mathbb{E}[\\nabla_wf(w_k,X)]|}{|\\mathbb{E}[\\nabla_wf(w_k,X)]|}=\\frac{|(w_k-x_k)-(w_k-\\mathbb{E}[X])|}{|w_k-w^*|}=\\frac{|\\mathbb{E}[X]-x_k|}{|w_k-w^*|}.\\] <p></p> <p>\u56fe\\(6.5\\)\uff1a\u6f14\u793a\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u4e0e\u5c0f\u6279\u91cf\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u7684\u793a\u4f8b\u3002\u4e8c\u7ef4\u968f\u673a\u53d8\u91cf \\(X \\in \\mathbb{R}^2\\)\u670d\u4ece\u8fb9\u957f\u4e3a20\u3001\u539f\u70b9\u4e3a\u4e2d\u5fc3\u7684\u6b63\u65b9\u5f62\u533a\u57df\u5747\u5300\u5206\u5e03\uff0c\u5176\u5747\u503c\u6ee1\u8db3 \\(\\mathbb{E}[X] =0\\)\u3002\u5747\u503c\u4f30\u8ba1\u57fa\u4e8e100\u4e2a\u72ec\u7acb\u540c\u5206\u5e03\u6837\u672c\u3002</p> <p>Note</p> <p>\u901a\u8fc7\u56fe\\(6.5\\)\u4e5f\u53ef\u4ee5\u53d1\u73b0\uff0cSGD\u5728\u6536\u655b\u8fc7\u7a0b\u4e2d\uff0c\u521d\u59cb\u65f6\u523b\u5e76\u6ca1\u6709\u5c55\u73b0\u51fa\u968f\u673a\u6027\uff0c\u800c\u5f53\u9760\u8fd1\u76ee\u6807\u503c\u65f6\uff0c\u5c55\u73b0\u51fa\u4e86\u4e00\u5b9a\u7684\u968f\u673a\u6027\uff0c\u8fd9\u4e0e\u6211\u4eec\u5206\u6790\u662f\u4e00\u81f4\u7684\u3002</p> <p>\u76f8\u5bf9\u8bef\u5dee\u7684\u8868\u8fbe\u5f0f\u6e05\u695a\u5730\u8868\u660e,\\(\\delta_k\\)\u4e0e\\(|w_k - w^*|\\)\u6210\u53cd\u6bd4\u3002\u56e0\u6b64\uff0c\u5f53\\(w_k\\)\u8fdc\u79bb\\(w^*\\)\u65f6\uff0c\u76f8\u5bf9\u8bef\u5dee\u8f83\u5c0f\uff0cSGD \u7684\u884c\u4e3a\u7c7b\u4f3c\u4e8e\u68af\u5ea6\u4e0b\u964d\u3002\u53e6\u5916\uff0c\u7531\u4e8e\\(\\delta_k\\)\u4e0e\\(|\\mathbb{E}[X] - x_k|\\)\u6210\u6b63\u6bd4\uff0c \\(\\delta_k\\)\u7684\u5747\u503c\u4e0e\\(X\\)\u7684\u65b9\u5dee\u6210\u6b63\u6bd4\u3002</p> <p>\u4eff\u771f\u7ed3\u679c\u5982\u56fe\\(6.5\\)\u6240\u793a\u3002\u5176\u4e2d\uff0c\\(X \\in \\mathbb{R}^2\\)\u8868\u793a\u5e73\u9762\u5185\u7684\u968f\u673a\u4f4d\u7f6e\uff0c\u5176\u5206\u5e03\u5728\u4ee5\u539f\u70b9\u4e3a\u4e2d\u5fc3\u7684\u6b63\u65b9\u5f62\u533a\u57df\u5185\u5747\u5300\u5206\u5e03\u4e14\u6ee1\u8db3 \\(\\mathbb{E}[X] =0\\)\u3002\u5747\u503c\u4f30\u8ba1\u57fa\u4e8e100\u4e2a\u72ec\u7acb\u540c\u5206\u5e03\u6837\u672c\u3002\u5c3d\u7ba1\u5747\u503c\u521d\u59cb\u731c\u6d4b\u503c\u8fdc\u79bb\u771f\u5b9e\u503c\uff0c\u4f46\u53ef\u4ee5\u770b\u51faSGD\u4f30\u8ba1\u91cf\u8fc5\u901f\u903c\u8fd1\u539f\u70b9\u90bb\u57df\u3002\u5f53\u4f30\u8ba1\u503c\u63a5\u8fd1\u539f\u70b9\u65f6\uff0c\u6536\u655b\u8fc7\u7a0b\u5448\u73b0\u51fa\u4e00\u5b9a\u7684\u968f\u673a\u6027\u3002</p> </li> </ul>"},{"location":"Chapter-6/6-4/#643","title":"6.4.3 \u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7684\u53e6\u4e00\u79cd\u63cf\u8ff0","text":"<p>\\((6.13)\\)\u5f0f\u4e2d\u7684\u968f\u673a\u68af\u5ea6\u4e0b\u964d(SGD)\u8868\u8ff0\u6d89\u53ca\u968f\u673a\u53d8\u91cf\u3002\u7814\u7a76\u8005\u4e5f\u5e38\u91c7\u7528\u4e0d\u5305\u542b\u968f\u673a\u53d8\u91cf\u7684\u786e\u5b9a\u6027SGD(deterministic formulation)\u3002</p> <p>\u7279\u522b\u5730\uff0c\u8003\u8651\u4e00\u7ec4\u5b9e\u6570 \\(\\{x_i\\}_{i=1}^n\\)\uff0c\u5176\u4e2d \\(x_i\\)\u662f\u4efb\u4f55\u968f\u673a\u53d8\u91cf\u7684\u6837\u672c\u3002\u5f85\u6c42\u89e3\u7684\u4f18\u5316\u95ee\u9898\u662f\u6700\u5c0f\u5316\u5e73\u5747\u503c\uff1a</p> \\[\\min_wJ(w)=\\frac{1}{n}\\sum_{i=1}^nf(w,x_i),\\] <p>\u5176\u4e2d \\(f(w, x_i)\\)\u4e3a\u53c2\u6570\u5316\u51fd\u6570\uff0c\\(w\\)\u4e3a\u5f85\u4f18\u5316\u53c2\u6570\u3002\u6c42\u89e3\u8be5\u95ee\u9898\u7684\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u4e3a</p> \\[w_{k+1}=w_{k}-\\alpha_{k}\\nabla_{w}J(w_{k})=w_{k}-\\alpha_{k}\\frac{1}{n}\\sum_{i=1}^{n}\\nabla_{w}f(w_{k},x_{i}).\\] <p>\u5047\u8bbe\u96c6\u5408 \\(\\{x_i\\}_{i=1}^n\\)\u89c4\u6a21\u8f83\u5927\u4e14\u6bcf\u6b21\u4ec5\u80fd\u83b7\u53d6\u5355\u4e2a\u6570\u503c\u3002\u5728\u6b64\u60c5\u51b5\u4e0b\uff0c\u91c7\u7528\u589e\u91cf\u65b9\u5f0f\u66f4\u65b0 \\(w_k\\)\u66f4\u4e3a\u9002\u5b9c\uff1a</p> \\[w_{k+1}=w_k-\\alpha_k\\nabla_wf(w_k,x_k).\\] <p>\u9700\u7279\u522b\u6ce8\u610f\uff0c\u6b64\u5904\u7684\\(x_k\\)\u8868\u793a\u65f6\u95f4\u6b65 \\(k\\)\u6240\u83b7\u53d6\u7684\u6570\u503c\uff0c\u800c\u975e\u96c6\u5408 \\(\\{x_i\\}_{i=1}^n\\)\u4e2d\u7684\u7b2c \\(k\\)\u4e2a\u5143\u7d20\u3002</p> <p>\\((6.16)\\)\u4e2d\u7684\u7b97\u6cd5\u4e0e\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u6cd5(SGD)\u975e\u5e38\u76f8\u4f3c\uff0c\u4f46\u5176\u95ee\u9898\u8868\u8ff0\u5b58\u5728\u5fae\u5999\u5dee\u5f02\uff0c\u56e0\u4e3a\u5b83\u4e0d\u6d89\u53ca\u4efb\u4f55\u968f\u673a\u53d8\u91cf\u6216\u671f\u671b\u503c\u3002\u8fd9\u5f15\u53d1\u4e86\u8bb8\u591a\u95ee\u9898\uff0c</p> <ul> <li> <p>\u7b97\u6cd5\u662f\u5426\u5c5e\u4e8eSGD?</p> </li> <li> <p>\u6211\u4eec\u5e94\u5982\u4f55\u4f7f\u7528\u6709\u9650\u7684\u6570\u503c\u96c6\u5408 \\(\\{x_i\\}_{i=1}^n\\)\uff1f</p> </li> <li> <p>\u662f\u5426\u9700\u8981\u6309\u7279\u5b9a\u987a\u5e8f\u6392\u5217\u8fd9\u4e9b\u6570\u503c\u540e\u9010\u4e2a\u4f7f\u7528\uff0c\u8fd8\u662f\u5e94\u8be5\u4ece\u96c6\u5408\u4e2d\u968f\u673a\u91c7\u6837\uff1f</p> </li> </ul> <p>\u9488\u5bf9\u4e0a\u8ff0\u95ee\u9898\u7684\u5feb\u901f\u89e3\u7b54\u662f\uff1a\u5c3d\u7ba1\u539f\u516c\u5f0f\u4e2d\u672a\u6d89\u53ca\u968f\u673a\u53d8\u91cf\uff0c\u4f46\u901a\u8fc7\u5f15\u5165\u968f\u673a\u53d8\u91cf\u53ef\u5c06\u786e\u5b9a\u6027\u516c\u5f0f\u8f6c\u5316\u4e3a\u968f\u673a\u6027\u516c\u5f0f\u3002\u5177\u4f53\u800c\u8a00\uff0c\u8bbe\\(X\\)\u4e3a\u5b9a\u4e49\u5728\u96c6\u5408\\(\\{x_i\\}_{i=1}^n\\)\u4e0a\u7684\u968f\u673a\u53d8\u91cf\uff0c\u5176\u6982\u7387\u5206\u5e03\u670d\u4ece\u5747\u5300\u5206\u5e03\uff0c\u5373\\(p(X = x_i) =1/n\\)\u3002\u6b64\u65f6\uff0c\u786e\u5b9a\u6027\u4f18\u5316\u95ee\u9898\u5373\u8f6c\u5316\u4e3a\u968f\u673a\u4f18\u5316\u95ee\u9898\uff1a</p> \\[\\min_wJ(w)=\\frac{1}{n}\\sum_{i=1}^nf(w,x_i)=\\mathbb{E}[f(w,X)].\\] <p>\u4e0a\u5f0f\u6700\u540e\u4e00\u4e2a\u7b49\u5f0f\u662f\u4e25\u683c\u6210\u7acb\u800c\u975e\u8fd1\u4f3c\u6210\u7acb\u7684\u3002\u56e0\u6b64\uff0c(6.16)\u4e2d\u7684\u7b97\u6cd5\u5c5e\u4e8e\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u6cd5(SGD)\uff0c\u5f53\\(x_k\\)\u4ece\\(\\{x_i\\}_{i=1}^n\\)\u4e2d\u5747\u5300\u4e14\u72ec\u7acb\u91c7\u6837\u65f6\uff0c\u4f30\u8ba1\u503c\u6536\u655b\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7531\u4e8e\u968f\u673a\u91c7\u6837\u7684\u7279\u6027\uff0c\\(x_k\\)\u53ef\u80fd\u4f1a\u91cd\u590d\u9009\u53d6\\(\\{x_i\\}_{i=1}^n\\)\u4e2d\u7684\u76f8\u540c\u6570\u503c\u3002</p>"},{"location":"Chapter-6/6-4/#644","title":"6.4.4 \u5c0f\u6279\u91cf\u68af\u5ea6\u4e0b\u964d","text":"<p>\u867d\u7136\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u6cd5\uff08SGD\uff09\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u4ec5\u4f7f\u7528\u5355\u4e2a\u6837\u672c\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u4ecb\u7ecd\u5c0f\u6279\u91cf\u68af\u5ea6\u4e0b\u964d\u6cd5\uff08MBGD\uff09\uff0c\u8be5\u65b9\u6cd5\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u4f7f\u7528\u7a0d\u591a\u6837\u672c\u3002\u5f53\u6bcf\u6b21\u8fed\u4ee3\u4f7f\u7528\u5168\u90e8\u6837\u672c\u65f6\uff0c\u8be5\u7b97\u6cd5\u79f0\u4e3a\u6279\u91cf\u68af\u5ea6\u4e0b\u964d\u6cd5\uff08BGD\uff09\u3002</p> <p>\u7279\u522b\u5730\uff0c\u5047\u8bbe\u6211\u4eec\u5e0c\u671b\u627e\u5230\u80fd\u591f\u6700\u5c0f\u5316\u76ee\u6807\u51fd\u6570 \\(J(w) = E[f(w,X)]\\)\u7684\u6700\u4f18\u89e3\uff0c\u5176\u4e2d\u7ed9\u5b9a\u968f\u673a\u53d8\u91cf \\(X\\)\u7684\u4e00\u7ec4\u6837\u672c \\(\\{x_i\\}_{i=1}^n\\)\u3002\u7528\u4e8e\u6c42\u89e3\u8be5\u95ee\u9898\u7684\u6279\u91cf\u68af\u5ea6\u4e0b\u964d\uff08BGD\uff09\u3001\u968f\u673a\u68af\u5ea6\u4e0b\u964d\uff08SGD\uff09\u548c\u5c0f\u6279\u91cf\u68af\u5ea6\u4e0b\u964d\uff08MBGD\uff09\u7b97\u6cd5\u5206\u522b\u4e3a\uff1a</p> \\[\\begin{aligned}&amp;w_{k+1}=w_{k}-\\alpha_{k}\\frac{1}{n}\\sum_{i=1}^{n}\\nabla_{w}f(w_{k},x_{i}),&amp;&amp;\\mathrm{(BGD)}\\\\&amp;w_{k+1}=w_{k}-\\alpha_{k}\\frac{1}{m}\\sum_{j\\in\\mathcal{I}_{k}}\\nabla_{w}f(w_{k},x_{j}),&amp;&amp;\\mathrm{(MBGD)}\\\\&amp;w_{k+1}=w_{k}-\\alpha_{k}\\nabla_{w}f(w_{k},x_{k}).&amp;&amp;\\mathrm{(SGD)}\\end{aligned}\\] <p>\u5728BGD\u7b97\u6cd5\u4e2d\uff0c\u6bcf\u6b21\u8fed\u4ee3\u90fd\u4f1a\u4f7f\u7528\u6240\u6709\u6837\u672c\u3002\u5f53\u6837\u672c\u91cf\\(n\\)\u8f83\u5927\u65f6\uff0c\\((1/n)\\sum_{i=1}^n \\nabla_w f(w_k, x_i)\\)\u4f1a\u63a5\u8fd1\u771f\u5b9e\u68af\u5ea6\\(\\mathbb{E}[\\nabla_w f(w_k,X)]\\)\u3002\u800c\u5728MBGD\u7b97\u6cd5\u4e2d\uff0c\\(\\mathcal{I}_{k}\\)\u662f\u65f6\u95f4\u6b65 \\(k\\)\u65f6\u4ece\u96c6\u5408 \\(\\{1, \\ldots, n\\}\\)\u4e2d\u91c7\u6837\u7684\u5b50\u96c6\uff0c\u5176\u5927\u5c0f\u4e3a \\(|\\mathcal{I}_{k}| = m\\)\u3002\u5047\u8bbe \\(\\mathcal{I}_{k}\\)\u4e2d\u7684\u6837\u672c\u540c\u6837\u6ee1\u8db3\u72ec\u7acb\u540c\u5206\u5e03\u6761\u4ef6\u3002\u5728\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u4e2d\uff0c\\(x_k\\)\u8868\u793a\u65f6\u95f4\u6b65 \\(k\\)\u65f6\u4ece\u6837\u672c\u96c6 \\(\\{x_i\\}_{i=1}^n\\)\u4e2d\u968f\u673a\u62bd\u53d6\u7684\u6837\u672c\u3002</p> <p>MBGD\u53ef\u89c6\u4e3aSGD\u4e0eBGD\u4e4b\u95f4\u7684\u6298\u4e2d\u65b9\u6848\u3002\u76f8\u8f83\u4e8eSGD\uff0cMBGD\u901a\u8fc7\u91c7\u7528\u66f4\u591a\u6837\u672c\uff08\u800c\u975eSGD\u7684\u5355\u4e00\u6837\u672c\uff09\u964d\u4f4e\u4e86\u968f\u673a\u6027\uff1b\u800c\u4e0eBGD\u76f8\u6bd4\uff0cMBGD\u65e0\u9700\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u4f7f\u7528\u5168\u90e8\u6837\u672c\uff0c\u56e0\u800c\u66f4\u5177\u7075\u6d3b\u6027\u3002\u5f53\\(m=1\\)\u65f6\uff0cMBGD\u9000\u5316\u4e3aSGD\uff1b\u4f46\u5f53\\(m=n\\)\u65f6\uff0cMBGD\u5e76\u4e0d\u7b49\u540c\u4e8eBGD\u2014\u2014\u8fd9\u662f\u56e0\u4e3aMBGD\u968f\u673a\u62bd\u53d6\u7684\\(n\\)\u4e2a\u6837\u672c\u53ef\u80fd\u5b58\u5728\u91cd\u590d\uff0c\u672a\u5fc5\u80fd\u8986\u76d6\\(\\{x_i\\}_{i=1}^n\\)\u4e2d\u7684\u6240\u6709\u6570\u636e\uff0c\u800cBGD\u5219\u4e25\u683c\u4f7f\u7528\u5168\u90e8\\(n\\)\u4e2a\u6837\u672c\u3002</p> <p>\u4e00\u822c\u800c\u8a00\uff0cMBGD\u7684\u6536\u655b\u901f\u5ea6\u6bd4SGD\u66f4\u5feb\u3002\u8fd9\u662f\u56e0\u4e3aSGD\u91c7\u7528\\(\\nabla_w f(w_k, x_k)\\)\u6765\u8fd1\u4f3c\u771f\u5b9e\u68af\u5ea6\uff0c\u800cMBGD\u4f7f\u7528\\((1/m) \\sum_{j \\in I_k} \\nabla_w f(w_k, x_j)\\)\u2014\u2014\u7531\u4e8e\u968f\u673a\u6027\u88ab\u5e73\u5747\u62b5\u6d88\uff0c\u8be5\u4f30\u8ba1\u66f4\u63a5\u8fd1\u771f\u5b9e\u68af\u5ea6\u3002MBGD\u7b97\u6cd5\u7684\u6536\u655b\u6027\u8bc1\u660e\u65b9\u6cd5\u4e0eSGD\u60c5\u5f62\u7c7b\u4f3c\u3002</p> <p>\u5747\u503c\u4f30\u8ba1\u95ee\u9898\u662f\u5c55\u793a\u4e0a\u8ff0\u5206\u6790\u7684\u5178\u578b\u6848\u4f8b\u3002\u5177\u4f53\u800c\u8a00\uff0c\u7ed9\u5b9a\u4e00\u7ec4\u6570\u503c \\(\\{x_i\\}_{i=1}^n\\)\uff0c\u6211\u4eec\u7684\u76ee\u6807\u662f\u8ba1\u7b97\u5747\u503c \\(\\bar{x} = \\sum_{i=1}^n x_i/n\\)\u3002\u8be5\u95ee\u9898\u53ef\u7b49\u4ef7\u8868\u8ff0\u4e3a\u4ee5\u4e0b\u4f18\u5316\u95ee\u9898\uff1a</p> \\[\\min_wJ(w)=\\frac{1}{2n}\\sum_{i=1}^n\\|w-x_i\\|^2,\\] <p>\u5176\u6700\u4f18\u89e3\u4e3a \\(w^* = \\bar{x}\\)\u3002\u6c42\u89e3\u8be5\u95ee\u9898\u7684\u4e09\u79cd\u7b97\u6cd5\u5206\u522b\u4e3a\uff1a</p> \\[\\begin{aligned}&amp;w_{k+1}=w_{k}-\\alpha_{k}\\frac{1}{n}\\sum_{i=1}^{n}(w_{k}-x_{i})=w_{k}-\\alpha_{k}(w_{k}-\\bar{x}),\\quad\\mathrm{(BGD)}\\\\&amp;w_{k+1}=w_{k}-\\alpha_{k}\\frac{1}{m}\\sum_{j\\in\\mathcal{I}_{k}}(w_{k}-x_{j})=w_{k}-\\alpha_{k}\\left(w_{k}-\\bar{x}_{k}^{(m)}\\right),\\quad\\mathrm{(MBGD)}\\\\&amp;w_{k+1}=w_k-\\alpha_k(w_k-x_k),\\quad\\mathrm{(SGD)}\\end{aligned}\\] <p>\u5176\u4e2d \\(\\bar{x}^{(m)}_k = \\sum_{j\\in I_k} x_j/m\\)\u3002\u6b64\u5916\uff0c\u82e5 \\(\\alpha_k =1/k\\)\uff0c\u4e0a\u8ff0\u65b9\u7a0b\u7ec4\u53ef\u901a\u8fc7\u5982\u4e0b\u516c\u5f0f\u89e3\u5f97\uff1a</p> \\[\\begin{aligned}&amp;w_{k+1}=\\frac{1}{k}\\sum_{j=1}^{k}\\bar{x}=\\bar{x},\\quad(\\mathrm{BGD})\\\\&amp;w_{k+1}=\\frac{1}{k}\\sum_{j=1}^{k}\\bar{x}_{j}^{(m)},\\quad(\\mathrm{MBGD})\\\\&amp;w_{k+1}=\\frac{1}{k}\\sum_{j=1}^{k}x_{j}.\\quad(\\mathrm{SGD})\\end{aligned}\\] <p>\u4e0a\u8ff0\u65b9\u7a0b\u7684\u63a8\u5bfc\u8fc7\u7a0b\u4e0e\u5f0f\uff086.3\uff09\u7c7b\u4f3c\uff0c\u6b64\u5904\u4ece\u7565\u3002\u53ef\u4ee5\u770b\u51fa\uff0cBGD\u5728\u6bcf\u4e00\u6b65\u7ed9\u51fa\u7684\u4f30\u8ba1\u503c\u6070\u597d\u662f\u6700\u4f18\u89e3 \\(w^* = \\bar{x}\\)\u3002\u7531\u4e8e \\(\\bar{x}^{(m)}_k\\)\u672c\u8eab\u662f\u5747\u503c\uff0cMBGD\u6bd4 SGD\u66f4\u5feb\u6536\u655b\u5230\u5747\u503c\u3002</p> <p>\u56fe6.5\u7ed9\u51fa\u4e86\u4e00\u4e2a\u4eff\u771f\u793a\u4f8b\u4ee5\u9a8c\u8bc1MBGD\u7684\u6536\u655b\u6027\u3002\u8bbe\u6b65\u957f\u53c2\u6570 \\(\\alpha_k =1/k\\)\uff0c\u7ed3\u679c\u8868\u660e\uff1a\u91c7\u7528\u4e0d\u540c\u5c0f\u6279\u91cf\u5c3a\u5bf8\u7684MBGD\u7b97\u6cd5\u5747\u80fd\u6536\u655b\u81f3\u5747\u503c\u3002\u5176\u4e2d \\(m=50\\)\u7684\u6848\u4f8b\u6536\u655b\u6700\u5feb\uff0c\u800c\u91c7\u7528 \\(m=1\\)\u7684\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u6cd5(SGD)\u6536\u655b\u6700\u6162\uff0c\u8fd9\u4e0e\u524d\u6587\u5206\u6790\u4e00\u81f4\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5f53\u53c2\u6570\u5411\u91cf \\(\\mathbf{w}_k\\)\u8fdc\u79bb\u6700\u4f18\u89e3 \\(\\mathbf{w}^*\\)\u65f6\uff0cSGD\u4ecd\u80fd\u4fdd\u6301\u8f83\u5feb\u7684\u6536\u655b\u901f\u5ea6\u3002</p>"},{"location":"Chapter-6/6-4/#645","title":"6.4.5 \u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7684\u6536\u655b\u6027","text":"<p>\u968f\u673a\u68af\u5ea6\u4e0b\u964d\uff08SGD\uff09\u7684\u6536\u655b\u6027\u4e25\u683c\u8bc1\u660e\u5982\u4e0b\u3002</p> <p>Info</p> <p>\u5b9a\u74066.4. (\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u6cd5\u7684\u6536\u655b\u6027)\u3002\u5bf9\u4e8e\u5f0f\\((6.13)\\)\u4e2d\u7684SGD\u7b97\u6cd5\uff0c\u82e5\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff0c\u5219 \\(w_k\\)\u51e0\u4e4e\u5fc5\u7136\u6536\u655b\u81f3 \\(\\nabla_w E[f(w,X)] =0\\)\u7684\u6839\u3002</p> \\[\\begin{aligned}&amp;(a)\\quad0&lt;c_{1}\\leq\\nabla_{w}^{2}f(w,X)\\leq c_{2};\\\\&amp;(b)\\quad\\sum_{k=1}^{\\infty}a_{k}=\\infty \\;and\\;\\sum_{k=1}^{\\infty}a_{k}^{2}&lt;\\infty;\\\\&amp;(c)\\quad\\{x_{k}\\}_{k=1}^{\\infty}\\;are\\;i.i.d.\\end{aligned}\\] <p>\u5b9a\u7406\\(6.4\\)\u4e2d\u7684\u4e09\u4e2a\u6761\u4ef6\u5c06\u5728\u4e0b\u6587\u4e2d\u8ba8\u8bba\u3002</p> <ul> <li> <p>\u6761\u4ef6(a)\u6d89\u53ca\u51fd\u6570 \\(f\\)\u7684\u51f8\u6027\uff0c\u8981\u6c42\u5176\u66f2\u7387\u5728\u4e0a\u4e0b\u754c\u8303\u56f4\u5185\u7ea6\u675f\u3002\u6b64\u5904 \\(w\\)\u4e3a\u6807\u91cf\uff0c\\(\\nabla^2_w f(w,X)\\)\u4ea6\u7136\u3002\u8be5\u6761\u4ef6\u53ef\u63a8\u5e7f\u81f3\u5411\u91cf\u60c5\u5f62\uff1a\u5f53 \\(w\\)\u4e3a\u5411\u91cf\u65f6\uff0c\\(\\nabla^2_w f(w,X)\\)\u5373\u4e3a\u8457\u540d\u7684Hessian\u77e9\u9635\u3002</p> </li> <li> <p>\u6761\u4ef6(b)\u4e0eRM\u7b97\u6cd5\u7c7b\u4f3c\u3002\u5b9e\u9645\u4e0a\uff0cSGD\u7b97\u6cd5\u662fRM\u7b97\u6cd5\u7684\u4e00\u4e2a\u7279\u4f8b\uff08\u5982\u65b9\u68466.1\u4e2d\u7684\u8bc1\u660e\u6240\u793a\uff09\u3002\u5b9e\u8df5\u4e2d\uff0c\\(a_k\\)\u901a\u5e38\u88ab\u9009\u4e3a\u8db3\u591f\u5c0f\u7684\u5e38\u6570\u3002\u867d\u7136\u6b64\u65f6\u6761\u4ef6(b)\u4e0d\u6ee1\u8db3\uff0c\u4f46\u7b97\u6cd5\u4ecd\u80fd\u5728\u67d0\u79cd\u610f\u4e49\u4e0b\u6536\u655b[24,\u7b2c1.5\u8282]\u3002</p> </li> <li> <p>\u6761\u4ef6\u00a9\u662f\u4e00\u4e2a\u5e38\u89c1\u8981\u6c42\u3002 </p> </li> </ul> <p>\u5177\u4f53\u8bc1\u660e\u8be6\u89c1Box 6.1\u3002</p>"},{"location":"Chapter-6/6-5/","title":"6.5-\u603b\u7ed3","text":"<p>\u672c\u7ae0\u672a\u5f15\u5165\u65b0\u7684\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\uff0c\u800c\u662f\u91cd\u70b9\u9610\u8ff0\u4e86\u968f\u673a\u903c\u8fd1\u7684\u57fa\u7840\u7406\u8bba\uff0c\u5305\u62ecRM\u7b97\u6cd5\u4e0eSGD\u7b97\u6cd5\u3002\u76f8\u8f83\u4e8e\u5176\u4ed6\u6c42\u6839\u7b97\u6cd5\uff0cRM\u7b97\u6cd5\u65e0\u9700\u76ee\u6807\u51fd\u6570\u6216\u5176\u5bfc\u6570\u7684\u663e\u5f0f\u8868\u8fbe\u5f0f\u3002\u7814\u7a76\u8868\u660e\uff0cSGD\u7b97\u6cd5\u662fRM\u7b97\u6cd5\u7684\u4e00\u79cd\u7279\u4f8b\u3002\u6b64\u5916\uff0c\u5747\u503c\u4f30\u8ba1\u95ee\u9898\u4f5c\u4e3a\u672c\u7ae0\u7684\u6838\u5fc3\u8bae\u9898\u88ab\u53cd\u590d\u8ba8\u8bba\u2014\u2014\u5747\u503c\u4f30\u8ba1\u7b97\u6cd5(6.4)\u662f\u672c\u4e66\u9996\u6b21\u5f15\u5165\u7684\u968f\u673a\u8fed\u4ee3\u7b97\u6cd5\uff0c\u6211\u4eec\u8bc1\u660e\u5176\u672c\u8d28\u4e3a\u7279\u6b8a\u7684SGD\u7b97\u6cd5\u3002\u540e\u7eed\u7b2c\u4e03\u7ae0\u5c06\u63ed\u793a\u65f6\u5e8f\u5dee\u5206\u5b66\u4e60\u7b97\u6cd5\u5177\u6709\u76f8\u4f3c\u8868\u8fbe\u5f62\u5f0f\u3002\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\"\u968f\u673a\u903c\u8fd1\"\u672f\u8bed\u7531Robbins\u4e0eMonro\u4e8e1951\u5e74\u9996\u6b21\u63d0\u51fa[25]\uff0c\u66f4\u591a\u7406\u8bba\u57fa\u7840\u53ef\u53c2\u9605\u6587\u732e[24]\u3002</p>"},{"location":"Chapter-6/intro/","title":"\u4ecb\u7ecd","text":"<p>\u7b2c\\(5\\)\u7ae0\u4ecb\u7ecd\u4e86\u57fa\u4e8e\u8499\u7279\u5361\u6d1b\u4f30\u8ba1\u7684\u7b2c\u4e00\u7c7b\u65e0\u6a21\u578b\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u3002\u5728\u4e0b\u4e00\u7ae0(\u7b2c\\(7\\)\u7ae0)\uff0c\u6211\u4eec\u5c06\u4ecb\u7ecd\u53e6\u4e00\u7c7b\u65e0\u6a21\u578b\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\uff1a\u65f6\u5e8f\u5dee\u5206\u5b66\u4e60\u3002\u4f46\u5728\u8fdb\u5165\u4e0b\u4e00\u7ae0\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u6682\u505c\u4e00\u4e0b\u505a\u597d\u51c6\u5907\u3002\u8fd9\u662f\u56e0\u4e3a\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5\u4e0e\u6211\u4eec\u8fc4\u4eca\u4e3a\u6b62\u6240\u5b66\u4e60\u7684\u7b97\u6cd5\u6709\u5f88\u5927\u4e0d\u540c\u3002\u8bb8\u591a\u521d\u6b21\u63a5\u89e6\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5\u7684\u8bfb\u8005\u5e38\u5e38\u4f1a\u597d\u5947\uff0c\u8fd9\u4e9b\u7b97\u6cd5\u6700\u521d\u662f\u5982\u4f55\u8bbe\u8ba1\u51fa\u6765\u7684\uff0c\u4ee5\u53ca\u4e3a\u4ec0\u4e48\u5b83\u4eec\u80fd\u591f\u6709\u6548\u3002\u4e8b\u5b9e\u4e0a\uff0c\u524d\u540e\u4e24\u7ae0\u4e4b\u95f4\u5b58\u5728\u77e5\u8bc6\u4e0a\u7684\u65ad\u5c42\uff1a\u6211\u4eec\u8fc4\u4eca\u4e3a\u6b62\u6240\u5b66\u4e60\u7684\u7b97\u6cd5\u662f\u975e\u589e\u91cf\u5f0f\u7684\uff0c\u4f46\u6211\u4eec\u5c06\u5728\u540e\u7eed\u7ae0\u8282\u4e2d\u5b66\u4e60\u7684\u7b97\u6cd5\u5219\u662f\u589e\u91cf\u5f0f\u7684\u3002</p> <p>\u672c\u7ae0\u65e8\u5728\u586b\u8865\u8fd9\u4e00\u77e5\u8bc6\u7a7a\u767d\uff0c\u4ecb\u7ecd\u968f\u673a\u8fd1\u4f3c(stochastic aproximation)\u7684\u57fa\u672c\u6982\u5ff5\u3002\u5c3d\u7ba1\u672c\u7ae0\u5e76\u672a\u4ecb\u7ecd\u4efb\u4f55\u5177\u4f53\u7684\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\uff0c\u4f46\u5b83\u4e3a\u540e\u7eed\u7ae0\u8282\u7684\u5b66\u4e60\u5960\u5b9a\u4e86\u5fc5\u8981\u7684\u57fa\u7840\u3002\u6211\u4eec\u5c06\u5728\u7b2c\\(7\\)\u7ae0\u770b\u5230\uff0c\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5\u53ef\u4ee5\u88ab\u89c6\u4e3a\u7279\u6b8a\u7684\u968f\u673a\u8fd1\u4f3c\u7b97\u6cd5\u3002\u672c\u7ae0\u8fd8\u5c06\u4ecb\u7ecd\u5728\u673a\u5668\u5b66\u4e60\u4e2d\u5e7f\u6cdb\u4f7f\u7528\u7684\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u3002</p>"},{"location":"Chapter-7/7-1/","title":"7.1-\u72b6\u6001\u503c\u4f30\u8ba1:\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5","text":""},{"location":"Chapter-7/7-1/#71","title":"7.1 \u72b6\u6001\u503c\u4f30\u8ba1: \u65f6\u5e8f\u67e5\u5206\u7b97\u6cd5","text":"<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u4f8b\u5982\uff0c\u672c\u7ae0\u4ecb\u7ecd\u7684\u6240\u6709\u7b97\u6cd5\u90fd\u5c5e\u4e8e\u65f6\u5e8f\u5dee\u5206(TD)\u5b66\u4e60\u7684\u8303\u7574\u3002\u7136\u800c\uff0c\u672c\u8282\u6240\u8ff0\u7684\u65f6\u5e8f\u5dee\u5206\u5b66\u4e60\u7279\u6307\u4e00\u79cd\u7528\u4e8e\u4f30\u8ba1\u72b6\u6001\u503c\u7684\u7ecf\u5178\u7b97\u6cd5\u3002</p> <p>Note</p> <p>\u672c\u8282\u6838\u5fc3\u5728\u4e8e\u7528TD\u7b97\u6cd5\u6c42\u89e3\u4e00\u4e2a\u7ed9\u5b9a\u7684\u7b56\u7565\\(\\pi\\)\u7684\u72b6\u6001\u503c\uff0c\u4e4b\u6240\u4ee5\u8981\u6c42\u89e3\u72b6\u6001\u503c\uff0c\u662f\u56e0\u4e3a\u6c42\u89e3\u51fa\u6765\u72b6\u6001\u503c\u540e\u5c31\u76f8\u5f53\u4e8epolicy evaluation\uff0c\u4e4b\u540e\u548cpolicy improvement\u7ed3\u5408\uff0c\u5c31\u53ef\u4ee5\u5bfb\u627e\u6700\u4f18\u7b56\u7565\u3002</p>"},{"location":"Chapter-7/7-1/#711","title":"7.1.1\u7b97\u6cd5\u63cf\u8ff0","text":"<p>\u7ed9\u5b9a\u7b56\u7565\\(\\pi\\)\uff0c\u6211\u4eec\u7684\u76ee\u6807\u662f\u4f30\u8ba1\u6240\u6709\u72b6\u6001\\(s \\in \\mathcal{S}\\)\u5bf9\u5e94\u7684 \\(v_\\pi(s)\\)\u3002\u5047\u8bbe\u6211\u4eec\u62e5\u6709\u9075\u5faa\\(\\pi\\)\u751f\u6210\u7684\u82e5\u5e72\u7ecf\u9a8c\u6837\u672c\\((s_0, r_1, s_1, \\ldots, s_t, r_{t+1}, s_{t+1}, \\ldots)\\)(\u4e5f\u53ef\u5199\u4e3a\\(\\{(s_t,r_{t+1},s_{t+1})\\}_t\\))\uff0c\u5176\u4e2d\\(t\\)\u8868\u793a\u65f6\u95f4\u6b65\u3002\u4ee5\u4e0b\u65f6\u5e8f\u5dee\u5206(TD)\u7b97\u6cd5\u53ef\u5229\u7528\u8fd9\u4e9b\u6837\u672c\u6765\u4f30\u8ba1\u72b6\u6001\u503c\uff1a</p> <p>Note</p> <p>TD\u7b97\u6cd5\u57fa\u4e8e\u6570\u636e\u800c\u975e\u6a21\u578b\uff0c\u8fd9\u4e9b\u6570\u636e\u90fd\u662f\u7531\u4e00\u4e2a\u7ed9\u5b9a\u7684\u7b56\u7565\\(\\pi\\)\u4ea7\u751f\u7684\uff0cTD\u7b97\u6cd5\u5c31\u662f\u8981\u5229\u7528\u8fd9\u4e9b\u6570\u636e\u4f30\u8ba1\\(\\pi\\)\u6240\u5bf9\u5e94\u7684\u72b6\u6001\u503c\u3002</p> <p>======= \u4f8b\u5982\uff0c\u672c\u7ae0\u4ecb\u7ecd\u7684\u6240\u6709\u7b97\u6cd5\u90fd\u5c5e\u4e8e\u65f6\u5e8f\u5dee\u5206\uff08TD\uff09\u5b66\u4e60\u7684\u8303\u7574\u3002\u7136\u800c\uff0c\u672c\u8282\u6240\u8ff0\u7684\u65f6\u5e8f\u5dee\u5206\u5b66\u4e60\u7279\u6307\u4e00\u79cd\u7528\u4e8e\u4f30\u8ba1\u72b6\u6001\u503c\u7684\u7ecf\u5178\u7b97\u6cd5\u3002</p>"},{"location":"Chapter-7/7-1/#711_1","title":"7.1.1\u7b97\u6cd5\u63cf\u8ff0","text":"<p>\u7ed9\u5b9a\u7b56\u7565 \\(\\pi\\)\uff0c\u6211\u4eec\u7684\u76ee\u6807\u662f\u4f30\u8ba1\u6240\u6709\u72b6\u6001 \\(s \\in S\\)\u5bf9\u5e94\u7684 \\(v_\\pi(s)\\)\u3002\u5047\u8bbe\u6211\u4eec\u62e5\u6709\u9075\u5faa \\(\\pi\\)\u751f\u6210\u7684\u82e5\u5e72\u7ecf\u9a8c\u6837\u672c \\((s_0, r_1, s_1, \\ldots, s_t, r_{t+1}, s_{t+1}, \\ldots)\\)\uff0c\u5176\u4e2d \\(t\\)\u8868\u793a\u65f6\u95f4\u6b65\u3002\u4ee5\u4e0b\u65f6\u5e8f\u5dee\u5206\uff08TD\uff09\u7b97\u6cd5\u53ef\u5229\u7528\u8fd9\u4e9b\u6837\u672c\u6765\u4f30\u8ba1\u72b6\u6001\u503c\uff1a</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> \\[v_{t+1}(s_t) = v_t(s_t) - \\alpha_t(s_t) \\left[ v_t(s_t) - \\left( r_{t+1} + \\gamma v_t(s_{t+1}) \\right) \\right],\\tag{7.1}\\] \\[v_{t+1}(s) = v_t(s)\uff0cs \\neq s_t,\\tag{7.2}\\] <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u5176\u4e2d\\(t =0,1,2, \\ldots\\)\u3002\u6b64\u5904\\(v_t(s_t)\\)\u8868\u793a\u65f6\u523b\\(t\\)\u65f6\\(v_\\pi(s_t)\\)\u7684\u4f30\u8ba1\u503c\uff1b\\(\\alpha_t(s_t)\\)\u4e3a\u72b6\u6001\\(s_t\\)\u5728\u65f6\u523b\\(t\\)\u7684\u5b66\u4e60\u7387\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u65f6\u523b\\(t\\)\u65f6\uff0c\u4ec5\u66f4\u65b0\u5df2\u8bbf\u95ee\u72b6\u6001\\(s_t\\)\u7684\u503c\u3002\u672a\u8bbf\u95ee\u72b6\u6001\\(s \\neq s_t\\)\u7684\u503c\u4fdd\u6301\u4e0d\u53d8\uff0c\u5982\u5f0f\\((7.2)\\)\u6240\u793a\u3002\u4e3a\u7b80\u6d01\u8d77\u89c1\uff0c\u5f0f\\((7.2)\\)\u5e38\u88ab\u7701\u7565\uff0c\u4f46\u5e94\u7262\u8bb0\u8fd9\u4e00\u516c\u5f0f\uff0c\u56e0\u4e3a\u7f3a\u5c11\u8be5\u5f0f\u4f1a\u5bfc\u81f4\u7b97\u6cd5\u5728\u6570\u5b66\u4e0a\u4e0d\u5b8c\u6574\u3002</p> <p>Note</p> <p>\u56de\u60f3\u4e00\u4e0b\uff0cTD\u7b97\u6cd5\u5728\u6570\u5b66\u4e0a\u7684\u4f5c\u7528\u662f\u4ec0\u4e48?\u7b54\u6848\u5c31\u662f\u5b83\u6c42\u89e3\u7ed9\u5b9a\u7b56\u7565\\(\\pi\\)\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\uff0c\u4f46\u662f\u4e4b\u524d\u7684\u8bfe\u7a0b\u6211\u4eec\u5b66\u4e86\u5c01\u95ed\u89e3\u548c\u8fed\u4ee3\u89e3\uff0c\u8fd9\u91cc\u7684TD\u7b97\u6cd5\u4e0e\u4ed6\u7684\u533a\u522b\u662f\u4ec0\u4e48\u5462\uff1f\u7b54\u6848\u662f\u663e\u800c\u6613\u89c1\u7684\uff0c\u4e4b\u524d\u7684\u65b9\u6cd5\u662f\u57fa\u4e8e\u6a21\u578b\u7684\u65b9\u6cd5\uff0c\u800cTD\u7b97\u6cd5\u5e76\u4e0d\u4f9d\u8d56\u4e8e\u6a21\u578b\u3002</p> <p>\u521d\u6b21\u63a5\u89e6TD\u5b66\u4e60\u7b97\u6cd5\u7684\u8bfb\u8005\u53ef\u80fd\u4f1a\u597d\u5947\u5176\u8bbe\u8ba1\u539f\u7406\u3002\u5b9e\u9645\u4e0a\uff0c\u8be5\u7b97\u6cd5\u53ef\u89c6\u4e3a\u6c42\u89e3\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u4e00\u79cd\u7279\u6b8a\u968f\u673a\u8fd1\u4f3c\u7b97\u6cd5\u3002\u4e3a\u7406\u89e3\u8fd9\u4e00\u70b9\uff0c\u9996\u5148\u56de\u987e\u72b6\u6001\u503c\u7684\u5b9a\u4e49\uff1a</p> \\[v_\\pi(s) = \\mathbb{E}\\left[ R_{t+1} + \\gamma G_{t+1} \\mid S_t = s \\right], \\quad s \\in \\mathcal{S}.\\tag{7.3}\\] <p>\u7531\u4e8e</p> \\[\\mathbb{E}[G_{t+1}|S_{t}=s]=\\sum_{a}\\pi(a|s)\\sum_{s^{\\prime}}p(s^{\\prime}|s,a)v_{\\pi}(s^{\\prime})=\\mathbb{E}[v_{\\pi}(S_{t+1})|S_{t}=s].\\] <p>======= \u5176\u4e2d \\(t =0,1,2, \\ldots\\)\u3002\u6b64\u5904 \\(v_t(s_t)\\)\u8868\u793a\u65f6\u523b \\(t\\)\u65f6 \\(v_\\pi(s_t)\\)\u7684\u4f30\u8ba1\u503c\uff1b\\(\\alpha_t(s_t)\\)\u4e3a\u72b6\u6001 \\(s_t\\)\u5728\u65f6\u523b \\(t\\)\u7684\u5b66\u4e60\u7387\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u65f6\u523b \\(t\\)\u65f6\uff0c\u4ec5\u66f4\u65b0\u5df2\u8bbf\u95ee\u72b6\u6001 \\(s_t\\)\u7684\u503c\u3002\u672a\u8bbf\u95ee\u72b6\u6001 \\(s \\neq s_t\\)\u7684\u503c\u4fdd\u6301\u4e0d\u53d8\uff0c\u5982\u5f0f\\((7.2)\\)\u6240\u793a\u3002\u4e3a\u7b80\u6d01\u8d77\u89c1\uff0c\u5f0f\\((7.2)\\)\u5e38\u88ab\u7701\u7565\uff0c\u4f46\u5e94\u7262\u8bb0\u8fd9\u4e00\u516c\u5f0f\uff0c\u56e0\u4e3a\u7f3a\u5c11\u8be5\u5f0f\u4f1a\u5bfc\u81f4\u7b97\u6cd5\u5728\u6570\u5b66\u4e0a\u4e0d\u5b8c\u6574\u3002</p> <p>\u521d\u6b21\u63a5\u89e6TD\u5b66\u4e60\u7b97\u6cd5\u7684\u8bfb\u8005\u53ef\u80fd\u4f1a\u597d\u5947\u5176\u8bbe\u8ba1\u539f\u7406\u3002\u5b9e\u9645\u4e0a\uff0c\u8be5\u7b97\u6cd5\u53ef\u89c6\u4e3a\u6c42\u89e3\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u4e00\u79cd\u7279\u6b8a\u968f\u673a\u903c\u8fd1\u7b97\u6cd5\u3002\u4e3a\u7406\u89e3\u8fd9\u4e00\u70b9\uff0c\u9996\u5148\u56de\u987e\u72b6\u6001\u503c\u7684\u5b9a\u4e49\uff1a</p> \\[v_\\pi(s) = \\mathbb{E}\\left[ R_{t+1} + \\gamma G_{t+1} \\mid S_t = s \\right], \\quad s \\in \\mathcal{S}.\\tag{7.3}\\] <p>50b98123eef511e961e9c05b37b46f2a667dafb0 \u6211\u4eec\u53ef\u4ee5\u5c06\u5f0f\\((7.3)\\)\u6539\u5199\u4e3a</p> \\[v_\\pi(s) = \\mathbb{E}[R_{t+1} + \\gamma v_\\pi(S_{t+1})|S_t = s], s\\in \\mathcal{S}.\\tag{7.4}\\] <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u5728\u8fd9\u91cc\\(S^{t+1}\\)\u662f\u4e0b\u4e00\u4e2a\u72b6\u6001\uff0c\u65b9\u7a0b\\((7.4)\\)\u662f\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u53e6\u4e00\u79cd\u8868\u8fbe\u5f62\u5f0f\uff0c\u6709\u65f6\u4e5f\u88ab\u79f0\u4e3a\u8d1d\u5c14\u66fc\u671f\u671b\u65b9\u7a0b\u3002</p> <p>TD\u7b97\u6cd5\u53ef\u901a\u8fc7\u5c06Robbins-Monro\u7b97\u6cd5(\u7b2c6\u7ae0)\u5e94\u7528\u4e8e\u6c42\u89e3\u5f0f\\((7.4)\\)\u4e2d\u7684Bellman\u65b9\u7a0b\u63a8\u5bfc\u5f97\u51fa\u3002\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u53c2\u9605Box 7.1\u4e86\u89e3\u5177\u4f53\u7ec6\u8282\u3002</p> <p>Note</p> <p>\u5efa\u8bae\u8bfb\u8005\u8bfb\u4e00\u4e0bBox7.1\uff0c\u5426\u5219\u5bf9\u4e8e\u8fd9\u4e2a\u7b97\u6cd5\u5f88\u53ef\u80fd\u4e91\u91cc\u96fe\u91cc\u3002</p>"},{"location":"Chapter-7/7-1/#712","title":"7.1.2 \u6027\u8d28\u5206\u6790","text":"<p>TD\u7b97\u6cd5\u7684\u4e00\u4e9b\u91cd\u8981\u7279\u6027\u8ba8\u8bba\u5982\u4e0b\u3002\u9996\u5148\uff0c\u6211\u4eec\u66f4\u8be6\u7ec6\u5730\u8003\u5bdfTD\u7b97\u6cd5\u7684\u8868\u8fbe\u5f0f\u3002\u5177\u4f53\u800c\u8a00\uff0c\\((7.1)\\)\u5f0f\u53ef\u8868\u8ff0\u4e3a</p>"},{"location":"Chapter-7/7-1/#underbracev_t1s_t_textnew-estimateunderbracev_ts_t_textcurrent-estimate-alpha_ts_tleftoverbracev_ts_t-leftunderbracer_t1gamma-v_ts_t1_texttd-target-tildev_trighttexttd-error-delta_trighttag76","title":"\\(\\(\\underbrace{v_{t+1}(s_t)}_{\\text{new estimate}}=\\underbrace{v_t(s_t)}_{\\text{current estimate}}-\\alpha_t(s_t)\\left[\\overbrace{v_t(s_t)-\\left(\\underbrace{r_{t+1}+\\gamma v_t(s_{t+1})}_{\\text{TD target }\\tilde{v}_t}\\right)}^{\\text{TD error }\\delta_t}\\right],\\tag{7.6}\\)\\)","text":"<p>\u8fd9\u662f\u56e0\u4e3a \\(\\mathbb{E}[G_{t+1}|S_t = s] = \\sum_a \\pi(a|s) \\sum_{s'} p(s'|s, a)v_\\pi(s') = \\mathbb{E}[v_\\pi(S_{t+1})|S_t = s]\\)\u3002\u65b9\u7a0b\\((7.4)\\)\u662f\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u53e6\u4e00\u79cd\u8868\u8fbe\u5f62\u5f0f\uff0c\u6709\u65f6\u4e5f\u88ab\u79f0\u4e3a\u8d1d\u5c14\u66fc\u671f\u671b\u65b9\u7a0b\u3002</p> <p>TD\u7b97\u6cd5\u53ef\u901a\u8fc7\u5c06Robbins-Monro\u7b97\u6cd5\uff08\u7b2c6\u7ae0\uff09\u5e94\u7528\u4e8e\u6c42\u89e3\u5f0f\\((7.4)\\)\u4e2d\u7684Bellman\u65b9\u7a0b\u63a8\u5bfc\u5f97\u51fa\u3002\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u53c2\u9605Box 7.1\u4e86\u89e3\u5177\u4f53\u7ec6\u8282\u3002</p>"},{"location":"Chapter-7/7-1/#712_1","title":"7.1.2 \u6027\u8d28\u5206\u6790","text":"<p>TD\u7b97\u6cd5\u7684\u4e00\u4e9b\u91cd\u8981\u7279\u6027\u8ba8\u8bba\u5982\u4e0b\u3002\u9996\u5148\uff0c\u6211\u4eec\u66f4\u8be6\u7ec6\u5730\u8003\u5bdfTD\u7b97\u6cd5\u7684\u8868\u8fbe\u5f0f\u3002\u5177\u4f53\u800c\u8a00\uff0c(7.1)\u5f0f\u53ef\u8868\u8ff0\u4e3a</p> \\[v_{t+1}(s_t) = v_t(s_t) - \\alpha_t(s_t) \\left[ v_t(s_t) - \\left( r_{t+1} + \\gamma v_{t+1}(s_{t+1}) \\right) \\right]\\] <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <p>\u5728\u8fd9\u91cc</p> \\[\\bar{v}_t = r_{t+1} + \\gamma v_t(s_{t+1})\\] <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u79f0\u4e3aTD\u76ee\u6807\u503c(TD target)</p> \\[\\delta_t = v(s_t) - \\bar{v}_t = v(s_t) - \\left( r_{t+1} + \\gamma v(s_{t+1}) \\right)\\] <p>\u79f0\u4e3aTD\u8bef\u5dee(TD error)\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u65b0\u4f30\u8ba1\u503c\\(v_{t+1}(s_t)\\)\u662f\u5f53\u524d\u4f30\u8ba1\u503c\\(v_t(s_t)\\)\u4e0e\u65f6\u5e8f\u5dee\u5206\u8bef\u5dee\\(\\delta_t\\)\u7684\u52a0\u6743\u7ec4\u5408\u3002</p> <ul> <li> <p>\u4e3a\u4ec0\u4e48\\(\\bar{v}_t\\)\u88ab\u53eb\u505aTD\u76ee\u6807\u503c</p> </li> </ul> \\[\\delta_t = v(s_t) - \\tilde{v}_t = v(s_t) - \\left( r_{t+1} + \\gamma v(s_{t+1}) \\right)\\] <p>\u79f0\u4e3aTD\u8bef\u5dee(TD error)\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u65b0\u4f30\u8ba1\u503c\\(v_{t+1}(s_t)\\)\u662f\u5f53\u524d\u4f30\u8ba1\u503c\\(v_t(s_t)\\)\u4e0e\u65f6\u5e8f\u5dee\u5206\u8bef\u5dee\\(\\delta_t\\)\u7684\u52a0\u6743\u7ec4\u5408\u3002</p> <ul> <li> <p>\u4e3a\u4ec0\u4e48\\(\\bar{v}_t\\)\u88ab\u53eb\u505aTD\u76ee\u6807\u503c</p> <p>\u8fd9\u662f\u56e0\u4e3a\\(\\bar{v}_t\\)\u662f\u7b97\u6cd5\u8bd5\u56fe\u9a71\u4f7f\\(v(s_t)\\)\u8d8b\u8fd1\u7684\u76ee\u6807\u503c\u3002\u4e3a\u9a8c\u8bc1\u8fd9\u4e00\u70b9\uff0c\u5c06 (7.6)\u5f0f\u4e24\u8fb9\u540c\u65f6\u51cf\u53bb\\(\\bar{v}_t\\)\u53ef\u5f97</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> \\[\\begin{gathered}v_{t+1}(s_{t})-\\bar{v}_{t}=\\left[v_{t}(s_{t})-\\bar{v}_{t}\\right]-\\alpha_{t}(s_{t})\\left[v_{t}(s_{t})-\\bar{v}_{t}\\right]\\\\=[1-\\alpha_{t}(s_{t})]\\left[v_{t}(s_{t})-\\bar{v}_{t}\\right].\\end{gathered}\\] <p>\u5bf9\u4e0a\u8ff0\u7b49\u5f0f\u4e24\u8fb9\u53d6\u7edd\u5bf9\u503c\u53ef\u5f97</p> \\[|v_{t+1}(s_t) \u2212 \\bar{v}_t| = |1 \u2212 \\alpha_t(s_t)||v_t(s_t) \u2212 \\bar{v}_t|.\\] <p>\u7531\u4e8e\\(\\alpha_t(s_t)\\)\u662f\u4e00\u4e2a\u5c0f\u7684\u6b63\u6570\uff0c\u56e0\u6b64\u6709\\(0 &lt;1 - \\alpha_t(s_t) &lt;1\\)\u3002\u7531\u6b64\u53ef\u5f97</p> \\[|v_{t+1}(s_t) \u2212 \\bar{v}_t| &lt; |v_t(s_t) \u2212 \\bar{v}_t|.\\] <p>\u4e0a\u8ff0\u4e0d\u7b49\u5f0f\u5177\u6709\u91cd\u8981\u610f\u4e49\uff0c\u56e0\u4e3a\u5b83\u8868\u660e\u65b0\u503c \\(v_{t+1}(s_t)\\)\u6bd4\u65e7\u503c \\(v_t(s_t)\\)\u66f4\u63a5\u8fd1 \\(\\bar{v}_t\\)\u3002\u56e0\u6b64\uff0c\u8be5\u7b97\u6cd5\u5728\u6570\u5b66\u4e0a\u4f1a\u5c06 \\(v_t(s_t)\\)\u5411 \\(\\bar{v}_t\\)\u65b9\u5411\u9a71\u52a8\u3002\u8fd9\u6b63\u662f \\(\\bar{v}_t\\)\u88ab\u79f0\u4e3a TD\u76ee\u6807\u7684\u539f\u56e0\u3002</p> </li> <li> <p>TD\u8bef\u5dee\u7684\u89e3\u91ca\u662f\u4ec0\u4e48\uff1f</p> </li> </ul> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD     \u9996\u5148\uff0c\u8fd9\u4e00\u8bef\u5dee\u4e4b\u6240\u4ee5\u88ab\u79f0\u4e3aTD\u8bef\u5dee\uff0c\u662f\u56e0\u4e3a \\(\\delta_t = v_t(s_t) - (r_{t+1} + \\gamma v_t(s_{t+1}))\\)\u53cd\u6620\u4e86\u65f6\u95f4\u6b65 \\(t\\)\u4e0e \\(t +1\\)\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u5176\u6b21\uff0c\u5f53\u72b6\u6001\u4ef7\u503c\u4f30\u8ba1\u51c6\u786e\u65f6\uff0c\u65f6\u5e8f\u5dee\u5206\u8bef\u5dee\u5728\u671f\u671b\u610f\u4e49\u4e0a\u4e3a\u96f6\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5f53 \\(v_t = v_\\pi\\)\u65f6\uff0c\u65f6\u5e8f\u5dee\u5206\u8bef\u5dee\u7684\u671f\u671b\u503c\u4e3a =======     \u9996\u5148\uff0c\u8fd9\u4e00\u8bef\u5dee\u4e4b\u6240\u4ee5\u88ab\u79f0\u4e3a\u65f6\u5e8f\u5dee\u5206\uff08temporal-difference\uff09\uff0c\u662f\u56e0\u4e3a \\(\\delta_t = v_t(s_t) - (r_{t+1} + \\gamma v_t(s_{t+1}))\\)\u53cd\u6620\u4e86\u65f6\u95f4\u6b65 \\(t\\)\u4e0e \\(t +1\\)\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u5176\u6b21\uff0c\u5f53\u72b6\u6001\u4ef7\u503c\u4f30\u8ba1\u51c6\u786e\u65f6\uff0c\u65f6\u5e8f\u5dee\u5206\u8bef\u5dee\u5728\u671f\u671b\u610f\u4e49\u4e0a\u4e3a\u96f6\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5f53 \\(v_t = v_\\pi\\)\u65f6\uff0c\u65f6\u5e8f\u5dee\u5206\u8bef\u5dee\u7684\u671f\u671b\u503c\u4e3a</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <pre><code>$$\\begin{aligned}\\mathbb{E}[\\delta_{t}|S_{t}=s_{t}]&amp;=\\mathbb{E}\\left[v_{\\pi}(S_{t})-(R_{t+1}+\\gamma v_{\\pi}(S_{t+1}))|S_{t}=s_{t}\\right]\\\\&amp;=v_{\\pi}(s_{t})-\\mathbb{E}\\left[R_{t+1}+\\gamma v_{\\pi}(S_{t+1})|S_{t}=s_{t}\\right]\\\\&amp;=0.\\quad\\mathrm{(due~to~(7.3))}\\end{aligned}$$\n\n\u56e0\u6b64\uff0c\u65f6\u5e8f\u5dee\u5206\u8bef\u5dee\u4e0d\u4ec5\u53cd\u6620\u4e24\u4e2a\u65f6\u95f4\u6b65\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u66f4\u91cd\u8981\u7684\u662f\u53cd\u6620\u4e86\u4f30\u8ba1\u503c$v_t$\u4e0e\u771f\u5b9e\u72b6\u6001\u503c$v_\\pi$\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\n</code></pre> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD     \u5728\u66f4\u62bd\u8c61\u7684\u5c42\u9762\u4e0a\uff0cTD\u8bef\u5dee\u53ef\u89e3\u91ca\u4e3a\u65b0\u606f(innovation)\uff0c\u5b83\u8868\u793a\u4ece\u7ecf\u9a8c\u6837\u672c \\((s_t, r_{t+1}, s_{t+1})\\)\u4e2d\u83b7\u5f97\u7684\u65b0\u4fe1\u606f\u3002TD\u5b66\u4e60\u7684\u6838\u5fc3\u601d\u60f3\u662f\u57fa\u4e8e\u65b0\u83b7\u5f97\u7684\u4fe1\u606f\u6765\u4fee\u6b63\u5f53\u524d\u5bf9\u72b6\u6001\u503c\u7684\u4f30\u8ba1\u3002\u65b0\u606f\u662f\u5361\u5c14\u66fc\u6ee4\u6ce2[33,34]\u7b49\u4f17\u591a\u4f30\u8ba1\u95ee\u9898\u4e2d\u7684\u57fa\u7840\u6982\u5ff5\u3002</p> <p>\u5176\u6b21\uff0c\\((7.1)\\)\u4e2d\u7684 TD\u7b97\u6cd5\u53ea\u80fd\u4f30\u8ba1\u7ed9\u5b9a\u7b56\u7565\u7684\u72b6\u6001\u503c\u3002\u4e3a\u4e86\u5bfb\u627e\u6700\u4f18\u7b56\u7565\uff0c\u6211\u4eec\u4ecd\u9700\u8fdb\u4e00\u6b65\u8ba1\u7b97\u884c\u52a8\u503c\u5e76\u6267\u884c\u7b56\u7565\u6539\u8fdb\uff0c\u8fd9\u5c06\u5728\u7b2c\\(7.2\\)\u8282\u4e2d\u4ecb\u7ecd\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u672c\u8282\u4ecb\u7ecd\u7684TD\u7b97\u6cd5\u5bf9\u4e8e\u7406\u89e3\u672c\u7ae0\u5176\u4ed6\u7b97\u6cd5\u5177\u6709\u57fa\u7840\u6027\u548c\u91cd\u8981\u6027\u3002</p> <p>\u7b2c\u4e09\uff0c\u867d\u7136\u65f6\u5e8f\u5dee\u5206(TD)\u5b66\u4e60\u548c\u8499\u7279\u5361\u6d1b(MC)\u5b66\u4e60\u5747\u5c5e\u4e8e\u65e0\u6a21\u578b\u65b9\u6cd5\uff0c\u4f46\u4e8c\u8005\u5404\u6709\u54ea\u4e9b\u4f18\u52a3\uff1f\u7b54\u6848\u603b\u7ed3\u4e8e\u8868\\(7.1\\)\u3002</p> TD\u5b66\u4e60 MC\u5b66\u4e60 \u589e\u91cf: TD\u5b66\u4e60\u662f\u589e\u91cf\u7684\u3002\u5b83\u53ef\u4ee5\u5728\u63a5\u6536\u5230\u7ecf\u9a8c\u6837\u672c\u540e\u7acb\u5373\u66f4\u65b0\u72b6\u6001/\u52a8\u4f5c\u503c\u3002 \u975e\u589e\u91cf: MC\u5b66\u4e60\u662f\u975e\u589e\u91cf\u7684\u3002\u5b83\u5fc5\u987b\u7b49\u5230\u4e00\u4e2a\u56de\u5408(episode)\u5b8c\u5168\u6536\u96c6\u5b8c\u6bd5\u624d\u80fd\u66f4\u65b0\u3002\u8fd9\u662f\u56e0\u4e3a\u5b83\u5fc5\u987b\u8ba1\u7b97\u56de\u5408\u7684\u6298\u6263\u56de\u62a5\u3002 \u6301\u7eed\u4efb\u52a1: \u7531\u4e8eTD\u5b66\u4e60\u662f\u589e\u91cf\u7684\uff0c\u5b83\u53ef\u4ee5\u5904\u7406\u56de\u5408\u5236\u548c\u6301\u7eed\u4efb\u52a1\u3002\u6301\u7eed\u4efb\u52a1\u53ef\u80fd\u6ca1\u6709\u7ec8\u6b62\u72b6\u6001\u3002 \u56de\u5408\u4efb\u52a1: \u7531\u4e8eMC\u5b66\u4e60\u662f\u975e\u589e\u91cf\u7684\uff0c\u5b83\u53ea\u80fd\u5904\u7406\u56de\u5408\u4efb\u52a1\uff0c\u5373\u56de\u5408\u5728\u6709\u9650\u7684\u6b65\u9aa4\u540e\u7ec8\u6b62\u3002 \u81ea\u52a9\u6cd5: TD\u5b66\u4e60\u91c7\u7528\u81ea\u52a9\u6cd5\uff0c\u56e0\u4e3a\u72b6\u6001/\u884c\u52a8\u503c\u7684\u66f4\u65b0\u4f9d\u8d56\u4e8e\u8be5\u503c\u7684\u524d\u4e00\u4f30\u8ba1\u3002\u56e0\u6b64\uff0cTD\u5b66\u4e60\u9700\u8981\u521d\u59cb\u503c\u731c\u6d4b\u3002 \u975e\u81ea\u52a9\u6cd5: MC\u5b66\u4e60\u4e0d\u662f\u81ea\u52a9\u6cd5\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u76f4\u63a5\u4f30\u8ba1\u72b6\u6001/\u884c\u52a8\u503c\uff0c\u800c\u65e0\u9700\u521d\u59cb\u731c\u6d4b\u3002 \u4f4e\u4f30\u8ba1\u65b9\u5dee: TD\u7684\u4f30\u8ba1\u65b9\u5dee\u4f4e\u4e8eMC\uff0c\u56e0\u4e3a\u5b83\u6d89\u53ca\u8f83\u5c11\u7684\u968f\u673a\u53d8\u91cf\u3002\u4f8b\u5982\uff0c\u4f30\u8ba1\u4e00\u4e2a\u52a8\u4f5c\u503c \\( q_\\pi(s_t, a_t) \\)\uff0cSarsa \u4ec5\u9700\u8981\u4e09\u4e2a\u968f\u673a\u53d8\u91cf\u7684\u6837\u672c\uff1a\\( R_{t+1} \\), \\( S_{t+1} \\), \\( A_{t+1} \\)\u3002 \u9ad8\u4f30\u8ba1\u65b9\u5dee: MC\u7684\u4f30\u8ba1\u65b9\u5dee\u8f83\u9ad8\uff0c\u56e0\u4e3a\u6d89\u53ca\u66f4\u591a\u7684\u968f\u673a\u53d8\u91cf\u3002\u4f8b\u5982\uff0c\u4e3a\u4e86\u4f30\u8ba1\u4e00\u4e2a\u884c\u52a8\u503c \\( q_\\pi(s_t, a_t) \\)\uff0c\u6211\u4eec\u9700\u8981\u6837\u672c \\( R_{t+1} + \\gamma R_{t+2} + \\gamma^2 R_{t+3} + \\dots \\)\u3002\u5047\u8bbe\u6bcf\u4e2a\u56de\u5408\u7684\u957f\u5ea6\u4e3a \\( L \\)\uff0c\u5e76\u4e14\u6bcf\u4e2a\u72b6\u6001\u7684\u52a8\u4f5c\u6570\u91cf\u76f8\u540c\uff0c\u8bb0\u4f5c ( ======= \u5728\u66f4\u62bd\u8c61\u7684\u5c42\u9762\u4e0a\uff0c\u65f6\u5e8f\u5dee\u5206\uff08TD\uff09\u8bef\u5dee\u53ef\u89e3\u91ca\u4e3a\u65b0\u606f(innovation)\uff0c\u5b83\u8868\u793a\u4ece\u7ecf\u9a8c\u6837\u672c \\((s_t, r_{t+1}, s_{t+1})\\)\u4e2d\u83b7\u5f97\u7684\u65b0\u4fe1\u606f\u3002\u65f6\u5e8f\u5dee\u5206\u5b66\u4e60\u7684\u6838\u5fc3\u601d\u60f3\u662f\u57fa\u4e8e\u65b0\u83b7\u5f97\u7684\u4fe1\u606f\u6765\u4fee\u6b63\u5f53\u524d\u5bf9\u72b6\u6001\u503c\u7684\u4f30\u8ba1\u3002\u65b0\u606f\u662f\u5361\u5c14\u66fc\u6ee4\u6ce2[33,34]\u7b49\u4f17\u591a\u4f30\u8ba1\u95ee\u9898\u4e2d\u7684\u57fa\u7840\u6982\u5ff5\u3002 <p>\u5176\u6b21\uff0c\\((7.1)\\)\u4e2d\u7684 TD\u7b97\u6cd5\u53ea\u80fd\u4f30\u8ba1\u7ed9\u5b9a\u7b56\u7565\u7684\u72b6\u6001\u503c\u3002\u4e3a\u4e86\u5bfb\u627e\u6700\u4f18\u7b56\u7565\uff0c\u6211\u4eec\u4ecd\u9700\u8fdb\u4e00\u6b65\u8ba1\u7b97\u52a8\u4f5c\u503c\u5e76\u6267\u884c\u7b56\u7565\u6539\u8fdb\uff0c\u8fd9\u5c06\u5728\u7b2c\\(7.2\\)\u8282\u4e2d\u4ecb\u7ecd\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u672c\u8282\u4ecb\u7ecd\u7684 TD\u7b97\u6cd5\u5bf9\u4e8e\u7406\u89e3\u672c\u7ae0\u5176\u4ed6\u7b97\u6cd5\u5177\u6709\u57fa\u7840\u6027\u548c\u91cd\u8981\u6027\u3002</p> <p>\u7b2c\u4e09\uff0c\u867d\u7136\u65f6\u5e8f\u5dee\u5206\uff08TD\uff09\u5b66\u4e60\u548c\u8499\u7279\u5361\u6d1b\uff08MC\uff09\u5b66\u4e60\u5747\u5c5e\u4e8e\u65e0\u6a21\u578b\u65b9\u6cd5\uff0c\u4f46\u4e8c\u8005\u5404\u6709\u54ea\u4e9b\u4f18\u52a3\uff1f\u7b54\u6848\u603b\u7ed3\u4e8e\u8868\\(7.1\\)\u3002</p> TD\u5b66\u4e60 MC\u5b66\u4e60 \u589e\u91cf: TD\u5b66\u4e60\u662f\u589e\u91cf\u7684\u3002\u5b83\u53ef\u4ee5\u5728\u63a5\u6536\u5230\u7ecf\u9a8c\u6837\u672c\u540e\u7acb\u5373\u66f4\u65b0\u72b6\u6001/\u52a8\u4f5c\u503c\u3002 \u975e\u589e\u91cf: MC\u5b66\u4e60\u662f\u975e\u589e\u91cf\u7684\u3002\u5b83\u5fc5\u987b\u7b49\u5230\u4e00\u4e2a\u56de\u5408\uff08episode\uff09\u5b8c\u5168\u6536\u96c6\u5b8c\u6bd5\u624d\u80fd\u66f4\u65b0\u3002\u8fd9\u662f\u56e0\u4e3a\u5b83\u5fc5\u987b\u8ba1\u7b97\u56de\u5408\u7684\u6298\u6263\u56de\u62a5\u3002 \u6301\u7eed\u4efb\u52a1: \u7531\u4e8eTD\u5b66\u4e60\u662f\u589e\u91cf\u7684\uff0c\u5b83\u53ef\u4ee5\u5904\u7406\u56de\u5408\u5236\u548c\u6301\u7eed\u4efb\u52a1\u3002\u6301\u7eed\u4efb\u52a1\u53ef\u80fd\u6ca1\u6709\u7ec8\u6b62\u72b6\u6001\u3002 \u56de\u5408\u4efb\u52a1: \u7531\u4e8eMC\u5b66\u4e60\u662f\u975e\u589e\u91cf\u7684\uff0c\u5b83\u53ea\u80fd\u5904\u7406\u56de\u5408\u4efb\u52a1\uff0c\u5373\u56de\u5408\u5728\u6709\u9650\u7684\u6b65\u9aa4\u540e\u7ec8\u6b62\u3002 \u81ea\u52a9\u6cd5: TD\u5b66\u4e60\u91c7\u7528\u81ea\u52a9\u6cd5\uff0c\u56e0\u4e3a\u72b6\u6001/\u52a8\u4f5c\u503c\u7684\u66f4\u65b0\u4f9d\u8d56\u4e8e\u8be5\u503c\u7684\u524d\u4e00\u4f30\u8ba1\u3002\u56e0\u6b64\uff0cTD\u5b66\u4e60\u9700\u8981\u521d\u59cb\u503c\u731c\u6d4b\u3002 \u975e\u81ea\u52a9\u6cd5: MC\u5b66\u4e60\u4e0d\u662f\u81ea\u52a9\u6cd5\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u76f4\u63a5\u4f30\u8ba1\u72b6\u6001/\u52a8\u4f5c\u503c\uff0c\u800c\u65e0\u9700\u521d\u59cb\u731c\u6d4b\u3002 \u4f4e\u4f30\u8ba1\u65b9\u5dee: TD\u7684\u4f30\u8ba1\u65b9\u5dee\u4f4e\u4e8eMC\uff0c\u56e0\u4e3a\u5b83\u6d89\u53ca\u8f83\u5c11\u7684\u968f\u673a\u53d8\u91cf\u3002\u4f8b\u5982\uff0c\u4f30\u8ba1\u4e00\u4e2a\u52a8\u4f5c\u503c \\( q_n(s_t, a_t) \\)\uff0cSarsa \u4ec5\u9700\u8981\u4e09\u4e2a\u968f\u673a\u53d8\u91cf\u7684\u6837\u672c\uff1a\\( R_{t+1} \\), \\( S_{t+1} \\), \\( A_{t+1} \\)\u3002 \u9ad8\u4f30\u8ba1\u65b9\u5dee: MC\u7684\u4f30\u8ba1\u65b9\u5dee\u8f83\u9ad8\uff0c\u56e0\u4e3a\u6d89\u53ca\u66f4\u591a\u7684\u968f\u673a\u53d8\u91cf\u3002\u4f8b\u5982\uff0c\u4e3a\u4e86\u4f30\u8ba1\u4e00\u4e2a\u52a8\u4f5c\u503c \\( q_n(s_t, a_t) \\)\uff0c\u6211\u4eec\u9700\u8981\u6837\u672c \\( R_{t+1} + \\gamma R_{t+2} + \\gamma^2 R_{t+3} + \\dots \\)\u3002\u5047\u8bbe\u6bcf\u4e2a\u56de\u5408\u7684\u957f\u5ea6\u4e3a \\( L \\)\uff0c\u5e76\u4e14\u6bcf\u4e2a\u72b6\u6001\u7684\u52a8\u4f5c\u6570\u91cf\u76f8\u540c\uff0c\u8bb0\u4f5c ( &gt;&gt;&gt;&gt;&gt;&gt;&gt; 50b98123eef511e961e9c05b37b46f2a667dafb0 <p>\u88687.1: TD\u5b66\u4e60\u4e0eMC\u5b66\u4e60\u7684\u6bd4\u8f83\u3002</p>"},{"location":"Chapter-7/7-1/#vs_tbarv_t-76barv_t","title":"\u8fd9\u662f\u56e0\u4e3a\u7b97\u6cd5\u9a71\u4f7f\\(v(s_t)\\)\u8d8b\u5411\u4e8e\\(\\bar{v}_t\\)\u3002\u4e3a\u9a8c\u8bc1\u8fd9\u4e00\u70b9\uff0c\u5c06 (7.6)\u5f0f\u4e24\u8fb9\u540c\u65f6\u51cf\u53bb\\(\\bar{v}_t\\)\u53ef\u5f97","text":"<p>\u79f0\u4e3aTD\u76ee\u6807\u503c(TD target)</p>"},{"location":"Chapter-7/7-1/#713","title":"7.1.3\u6536\u655b\u6027\u5206\u6790","text":"<p>\u4e0b\u9762\u7ed9\u51fa\\((7.1)\\)\u4e2dTD\u7b97\u6cd5\u7684\u6536\u655b\u6027\u5206\u6790\u3002</p> <p>Info</p> <p>\u5b9a\u74067.1\uff08\u65f6\u5e8f\u5dee\u5206\u5b66\u4e60\u7684\u6536\u655b\u6027\uff09\u3002\u7ed9\u5b9a\u7b56\u7565 \\(\\pi\\)\uff0c\u82e5\u5bf9\u4efb\u610f\u72b6\u6001 \\(s \\in \\mathcal{S}\\)\u6ee1\u8db3 \\(\\sum_t \\alpha_t(s) = \\infty\\)\u4e14 \\(\\sum_t \\alpha_t^2(s) &lt; \\infty\\)\uff0c\u5219\u901a\u8fc7\\((7.1)\\)\u5f0f\u7684\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5\uff0c\\(v_t(s)\\)\u51e0\u4e4e\u5fc5\u7136\u6536\u655b\u5230 \\(v_\\pi(s)\\)\uff08\u5f53 \\(t \\to \\infty\\)\u65f6\uff09\u3002</p> <p>\u4ee5\u4e0b\u7ed9\u51fa\u5173\u4e8e \\(\\alpha_t\\)\u7684\u82e5\u5e72\u8bf4\u660e\u3002\u9996\u5148\uff0c\u5bf9\u4e8e\u6240\u6709 \\(s \\in S\\)\uff0c\u5fc5\u987b\u6ee1\u8db3\u6761\u4ef6 \\(\\sum_t \\alpha_t(s) = \\infty\\)\u4e14 \\(\\sum_t \\alpha^2_t(s) &lt; \\infty\\)\u3002\u9700\u6ce8\u610f\uff0c\u5728\u65f6\u523b \\(t\\)\uff0c\u82e5\u72b6\u6001 \\(s\\)\u88ab\u8bbf\u95ee\u5219 \\(\\alpha_t(s) &gt;0\\)\uff0c\u5426\u5219 \\(\\alpha_t(s) =0\\)\u3002\u6761\u4ef6 \\(\\sum_t \\alpha_t(s) = \\infty\\)\u8981\u6c42\u72b6\u6001 \\(s\\)\u88ab\u65e0\u9650\u6b21\uff08\u6216\u5145\u5206\u591a\u6b21\uff09\u8bbf\u95ee\uff0c\u8fd9\u9700\u8981\u901a\u8fc7\u63a2\u7d22\u6027\u8d77\u59cb\u6761\u4ef6\u6216\u63a2\u7d22\u6027\u7b56\u7565\u6765\u5b9e\u73b0\uff0c\u4ece\u800c\u786e\u4fdd\u6bcf\u4e2a\u72b6\u6001-\u52a8\u4f5c\u5bf9\u90fd\u53ef\u80fd\u88ab\u591a\u6b21\u8bbf\u95ee\u3002\u5176\u6b21\uff0c\u5b66\u4e60\u7387 \\(\\alpha_t\\)\u5728\u5b9e\u9645\u603b\u901a\u5e38\u9009\u53d6\u4e3a\u8f83\u5c0f\u7684\u6b63\u5e38\u6570\u3002\u6b64\u65f6\uff0c\u6761\u4ef6\\(\\sum_t \\alpha^2_t(s) &lt; \\infty\\)\u4e0d\u518d\u6210\u7acb\u3002\u5f53\\(\\alpha\\)\u4e3a\u5e38\u6570\u65f6\uff0c\u4ecd\u53ef\u8bc1\u660e\u8be5\u7b97\u6cd5\u5728\u671f\u671b\u610f\u4e49\u4e0b\u6536\u655b[24,\u7b2c1.5\u8282]\u3002</p>"},{"location":"Chapter-7/7-2/","title":"7.2-\u884c\u52a8\u503c\u4f30\u8ba1:Sarsa","text":""},{"location":"Chapter-7/7-2/#72-sarsa","title":"7.2 \u884c\u52a8\u503c\u4f30\u8ba1:Sarsa\u7b97\u6cd5","text":"<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u4e0a\u4e00\u8282\u4e2d\u4ecb\u7ecd\u7684TD\u7b97\u6cd5\u4ec5\u80fd\u4f30\u8ba1\u7ed9\u5b9a\u7b56\u7565\u7684\u72b6\u6001\u503c\u3002\u7b56\u7565\u6539\u8fdb\u9700\u8981\u4f30\u8ba1\u51fa\u884c\u52a8\u503c\u3002\u672c\u8282\u5c06\u4ecb\u7ecd\u53e6\u4e00\u79cd\u540d\u4e3aSarsa\u7684TD\u7b97\u6cd5\uff0c\u8be5\u7b97\u6cd5\u53ef\u76f4\u63a5\u4f30\u8ba1\u884c\u52a8\u503c\u3002 ======= 7.1\u8282\u4ecb\u7ecd\u7684TD\u7b97\u6cd5\u4ec5\u80fd\u4f30\u8ba1\u72b6\u6001\u503c\u3002\u672c\u8282\u5c06\u4ecb\u7ecd\u53e6\u4e00\u79cd\u540d\u4e3aSarsa\u7684TD\u7b97\u6cd5\uff0c\u8be5\u7b97\u6cd5\u53ef\u76f4\u63a5\u4f30\u8ba1\u884c\u52a8\u503c\u3002\u884c\u52a8\u503c\u4f30\u8ba1\u5177\u6709\u91cd\u8981\u610f\u4e49\uff0c\u56e0\u5176\u53ef\u4e0e\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u76f8\u7ed3\u5408\u6765\u5b66\u4e60\u6700\u4f18\u7b56\u7565\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p>"},{"location":"Chapter-7/7-2/#721","title":"7.2.1\u7b97\u6cd5\u63cf\u8ff0","text":"<p>\u7ed9\u5b9a\u7b56\u7565\\(\\pi\\)\uff0c\u6211\u4eec\u7684\u76ee\u6807\u662f\u4f30\u8ba1\u884c\u52a8\u503c\u3002\u5047\u8bbe\u5df2\u6709\u9075\u5faa\\(\\pi\\)\u751f\u6210\u7684\u82e5\u5e72\u7ecf\u9a8c\u6837\u672c\uff1a\\((s_0, a_0, r_1, s_1, a_1, \\ldots, s_t, a_t, r_{t+1}, s_{t+1}, a_{t+1}, \\ldots)\\)\u3002\u53ef\u91c7\u7528\u4ee5\u4e0bSarsa\u7b97\u6cd5\u8fdb\u884c\u52a8\u4f5c\u4ef7\u503c\u4f30\u8ba1\uff1a</p> \\[q_{t+1}(s_t,a_t)=q_t(s_t,a_t)-\\alpha_t(s_t,a_t)\\left[q_t(s_t,a_t)-(r_{t+1}+\\gamma q_t(s_{t+1},a_{t+1}))\\right],\\tag{7.12}\\] \\[q_{t+1}(s,a)=q_t(s,a),\\quad\\mathrm{for~all}(s,a)\\neq(s_t,a_t),\\] <p>\u5176\u4e2d \\(t =0,1,2, \\dots\\)\uff0c\\(\\alpha_t(s_t, a_t)\\)\u4e3a\u5b66\u4e60\u7387\u3002\u6b64\u5904 \\(q_t(s_t, a_t)\\)\u662f \\(q_\\pi(s_t, a_t)\\)\u7684\u4f30\u8ba1\u503c\u3002\u5728\u65f6\u523b \\(t\\)\uff0c\u4ec5\u66f4\u65b0 \\((s_t, a_t)\\)\u7684 \\(q\\)\u503c\uff0c\u5176\u4f59\u72b6\u6001\u7684 \\(q\\)\u503c\u4fdd\u6301\u4e0d\u53d8\u3002</p> <p>Sarsa\u7b97\u6cd5\u7684\u91cd\u8981\u6027\u8d28\u5982\u4e0b</p> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD - \u8be5\u7b97\u6cd5\u4e3a\u4f55\u547d\u540d\u4e3a\"Sarsa\"\uff1f\u6bcf\u6b21\u66f4\u65b0\u503c\u51fd\u6570\u65f6\u9700\u8981\u77e5\u9053\u5f53\u524d\u7684\u72b6\u6001(state)\uff0c\u5f53\u524d\u7684\u52a8\u4f5c(action)\uff0c\u5956\u52b1(reward)\uff0c \u4e0b\u4e00\u6b65\u7684\u72b6\u6001(state)\u3001\u4e0b\u4e00\u6b65\u7684\u52a8\u4f5c(action)\uff0c\u5373 \\((s_t,a_t,r_{t+1},s_{t+1},a_{t+1})\\)\u8fd9\u51e0\u4e2a\u503c\uff0c\u56e0\u6b64\u5f97\u540d Sarsa\u3002\u8be5\u7b97\u6cd5\u6700\u65e9\u7531\u6587\u732e[35]\u63d0\u51fa\uff0c\u5176\u547d\u540d\u5219\u7531\u6587\u732e[3]\u786e\u7acb\u3002</p>"},{"location":"Chapter-7/7-2/#-sarsatdtdsarsa","title":"- Sarsa\u4e0e\u4e4b\u524d\u7684TD\u5b66\u4e60\u7b97\u6cd5\u6709\u4ec0\u4e48\u5173\u7cfb\uff1f\u53ea\u9700\u5c06TD\u7b97\u6cd5\u4e2d\u7684\u72b6\u6001\u503c\u4f30\u8ba1\u66ff\u6362\u4e3a\u884c\u52a8\u503c\u4f30\u8ba1\uff0c\u5c31\u80fd\u76f4\u63a5\u63a8\u5bfc\u51faSarsa\u7b97\u6cd5\u3002","text":"<ul> <li> <p>\u8be5\u7b97\u6cd5\u4e3a\u4f55\u547d\u540d\u4e3a\"Sarsa\"\uff1f\u8fd9\u662f\u56e0\u4e3a\u5176\u6bcf\u6b21\u8fed\u4ee3\u90fd\u9700\u8981\u4e94\u5143\u7ec4 \\((s_t, a_t, r_{t+1}, s_{t+1}, a_{t+1})\\)\u3002Sarsa\u662f\"\u72b6\u6001-\u52a8\u4f5c-\u5956\u52b1-\u72b6\u6001-\u52a8\u4f5c\"\uff08state-action-reward-state-action\uff09\u7684\u7f29\u5199\u5f62\u5f0f\u3002\u8be5\u7b97\u6cd5\u6700\u65e9\u7531\u6587\u732e[35]\u63d0\u51fa\uff0c\u5176\u547d\u540d\u5219\u7531\u6587\u732e[3]\u786e\u7acb\u3002</p> </li> <li> <p>\u4e3a\u4ec0\u4e48Sarsa\u8981\u8fd9\u6837\u8bbe\u8ba1\uff1f\u8bfb\u8005\u53ef\u80fd\u5df2\u7ecf\u6ce8\u610f\u5230\uff0cSarsa\u4e0e(7.1)\u5f0f\u4e2d\u7684TD\u7b97\u6cd5\u975e\u5e38\u76f8\u4f3c\u3002\u5b9e\u9645\u4e0a\uff0c\u53ea\u9700\u5c06TD\u7b97\u6cd5\u4e2d\u7684\u72b6\u6001\u503c\u4f30\u8ba1\u66ff\u6362\u4e3a\u884c\u52a8\u503c\u4f30\u8ba1\uff0c\u5c31\u80fd\u76f4\u63a5\u63a8\u5bfc\u51faSarsa\u7b97\u6cd5\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> </li> <li> <p>Sarsa\u7b97\u6cd5\u7684\u6570\u5b66\u672c\u8d28\u662f\u4ec0\u4e48\uff1f\u4e0e(7.1)\u4e2d\u7684TD\u7b97\u6cd5\u7c7b\u4f3c\uff0cSarsa\u662f\u4e00\u79cd\u7528\u4e8e\u6c42\u89e3\u7ed9\u5b9a\u7b56\u7565\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7684\u968f\u673a\u8fd1\u4f3c\u7b97\u6cd5\uff1a</p> \\[q_\\pi(s,a)=\\mathbb{E}\\left[R+\\gamma q_\\pi(S^{\\prime},A^{\\prime})|s,a\\right],\\quad\\mathrm{for~all}(s,a).\\tag{7.13}\\] <p>\u5f0f\\((7.13)\\)\u662f\u4ee5\u884c\u52a8\u503c\u51fd\u6570\u8868\u793a\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u3002\u5177\u4f53\u8bc1\u660e\u89c1\u65b9\u6846\\(7.3\\)\u3002</p> </li> <li> <p>Sarsa\u7b97\u6cd5\u662f\u5426\u6536\u655b\uff1f\u7531\u4e8eSarsa\u662f\\((7.1)\\)\u4e2dTD\u7b97\u6cd5\u7684\u884c\u52a8\u503c\u51fd\u6570\u7248\u672c\uff0c\u5176\u6536\u655b\u6027\u7ed3\u679c\u4e0e\u5b9a\u7406\\(7.1\\)\u76f8\u4f3c\uff0c\u5177\u4f53\u8868\u8ff0\u5982\u4e0b\u3002</p> </li> </ul> <p>Info</p> <p>\u5b9a\u74067.2 (Sarsa\u7b97\u6cd5\u7684\u6536\u655b\u6027).\u7ed9\u5b9a\u7b56\u7565 \\(\\pi\\)\uff0c\u82e5\u5bf9\u6240\u6709 \\((s, a)\\)\u6ee1\u8db3 \\(\\sum_t \\alpha_t(s, a) = \\infty\\)\u4e14 \\(\\sum_t \\alpha^2_t(s, a) &lt; \\infty\\)\uff0c\u5219\u901a\u8fc7 (7.12)\u5f0f\u7684 Sarsa\u7b97\u6cd5\uff0c\\(q_t(s, a)\\)\u51e0\u4e4e\u5fc5\u7136\u6536\u655b\u5230\u884c\u52a8\u503c \\(q_\\pi(s, a)\\)\uff08\u5f53 \\(t \\to \\infty\\)\u65f6\uff09\u3002</p> <p>\u8be5\u8bc1\u660e\u8fc7\u7a0b\u4e0e\u5b9a\u74067.1\u7c7b\u4f3c\uff0c\u6b64\u5904\u4ece\u7565\u3002\u9700\u6ee1\u8db3\u5bf9\u6240\u6709\u72b6\u6001-\u52a8\u4f5c\u5bf9\\((s, a)\\)\u5747\u6709\\(\\sum_t \\alpha_t(s, a) = \\infty\\)\u4e14\\(\\sum_t \\alpha_t^2(s, a) &lt; \\infty\\)\u7684\u6761\u4ef6\u3002\u7279\u522b\u5730\uff0c\\(\\sum_t \\alpha_t(s, a) = \\infty\\)\u8981\u6c42\u6bcf\u4e2a\u72b6\u6001-\u52a8\u4f5c\u5bf9\u5fc5\u987b\u88ab\u8bbf\u95ee\u65e0\u9650\u6b21\uff08\u6216\u8db3\u591f\u591a\u6b21\uff09\u3002\u5728\u65f6\u523b\\(t\\)\uff0c\u82e5\\((s, a) = (s_t, a_t)\\)\uff0c\u5219\\(\\alpha_t(s, a) &gt;0\\)\uff1b\u5426\u5219\\(\\alpha_t(s, a) =0\\)\u3002</p> <p>\u8be5\u8bc1\u660e\u8fc7\u7a0b\u4e0e\u5b9a\u7406\\(7.1\\)\u7c7b\u4f3c\uff0c\u6b64\u5904\u4ece\u7565\u3002\u9700\u6ee1\u8db3\u5bf9\u6240\u6709\u72b6\u6001-\u52a8\u4f5c\u5bf9\\((s,a)\\)\u5747\u6709\\(\\sum_t \\alpha_t(s, a) = \\infty\\)\u4e14\\(\\sum_t \\alpha_t^2(s, a) &lt; \\infty\\)\u7684\u6761\u4ef6\u3002\u7279\u522b\u5730\uff0c\\(\\sum_t \\alpha_t(s, a) = \\infty\\)\u8981\u6c42\u6bcf\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\u5fc5\u987b\u88ab\u8bbf\u95ee\u65e0\u9650\u6b21(\u6216\u8db3\u591f\u591a\u6b21)\u5728\u65f6\u523b\\(t\\)\uff0c\u82e5\\((s, a) = (s_t, a_t)\\)\uff0c\u5219\\(\\alpha_t(s, a) &gt;0\\)\uff1b\u5426\u5219\\(\\alpha_t(s, a) =0\\)\u3002</p>"},{"location":"Chapter-7/7-2/#722sarsa","title":"7.2.2\u57fa\u4e8eSarsa\u7b97\u6cd5\u7684\u6700\u4f18\u7b56\u7565\u5b66\u4e60","text":"<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD (7.12)\u5f0f\u4e2d\u7684Sarsa\u7b97\u6cd5\u4ec5\u80fd\u4f30\u8ba1\u7ed9\u5b9a\u7b56\u7565\u7684\u884c\u52a8\u503c\u3002\u5f3a\u5316\u5b66\u4e60\u7684\u6700\u7ec8\u76ee\u6807\u662f\u5bfb\u627e\u6700\u4f18\u7b56\u7565\uff0c\u5c06Sarsa\u4e0e\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u76f8\u7ed3\u5408\u3002\u8be5\u7ec4\u5408\u65b9\u6cd5\u901a\u5e38\u4ecd\u79f0\u4e3aSarsa\u7b97\u6cd5\uff0c\u5176\u5177\u4f53\u5b9e\u73b0\u6d41\u7a0b\u5982\u7b97\u6cd57.1\u6240\u793a\u3002 ======= (7.12)\u5f0f\u4e2d\u7684Sarsa\u7b97\u6cd5\u4ec5\u80fd\u4f30\u8ba1\u7ed9\u5b9a\u7b56\u7565\u7684\u884c\u52a8\u503c\u3002\u4e3a\u5bfb\u627e\u6700\u4f18\u7b56\u7565\uff0c\u53ef\u5c06\u5176\u4e0e\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u76f8\u7ed3\u5408\u3002\u8be5\u7ec4\u5408\u65b9\u6cd5\u901a\u5e38\u4ecd\u79f0\u4e3aSarsa\u7b97\u6cd5\uff0c\u5176\u5177\u4f53\u5b9e\u73b0\u6d41\u7a0b\u5982\u7b97\u6cd57.1\u6240\u793a\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <p></p> <p>\u7b97\u6cd5\\(7.1\\)</p> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u5982\u7b97\u6cd57.1\u6240\u793a\uff0c\u6bcf\u6b21\u8fed\u4ee3\u5305\u542b\u4e24\u4e2a\u6b65\u9aa4\uff1a\u7b2c\u4e00\u6b65\u66f4\u65b0\u88ab\u8bbf\u95ee\u72b6\u6001-\u52a8\u4f5c\u5bf9\u7684\\(q\\)\u503c\uff1b\u7b2c\u4e8c\u6b65\u5c06\u7b56\u7565\u66f4\u65b0\u4e3a\\(\\varepsilon\\)-\u8d2a\u5a6a\u7b56\u7565\u3002\\(q\\)\u503c\u66f4\u65b0\u6b65\u9aa4\u4ec5\u9488\u5bf9\u65f6\u523b\\(t\\)\u8bbf\u95ee\u7684\u5355\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\u8fdb\u884c\u66f4\u65b0\uff0c\u968f\u540e\u7acb\u5373\u66f4\u65b0\u72b6\u6001\\(s_t\\)\u5bf9\u5e94\u7684\u7b56\u7565\u3002\u8fd9\u610f\u5473\u7740\u6211\u4eec\u5728\u7b56\u7565\u66f4\u65b0\u524d\u5e76\u672a\u5bf9\u7ed9\u5b9a\u7b56\u7565\u8fdb\u884c\u5145\u5206\u8bc4\u4f30\uff0c\u8be5\u8bbe\u8ba1\u57fa\u4e8e\u5e7f\u4e49\u7b56\u7565\u8fed\u4ee3\u7684\u601d\u60f3\u3002\u6b64\u5916\uff0c\u7b56\u7565\u66f4\u65b0\u540e\u4f1a\u7acb\u5373\u7528\u4e8e\u751f\u6210\u4e0b\u4e00\u4e2a\u7ecf\u9a8c\u6837\u672c\u3002\u6b64\u5904\u91c7\u7528\u7684\\(\\varepsilon\\)-\u8d2a\u5a6a\u7b56\u7565\u5177\u6709\u63a2\u7d22\u6027\u7279\u5f81\u3002 ======= \u5982\u7b97\u6cd57.1\u6240\u793a\uff0c\u6bcf\u6b21\u8fed\u4ee3\u5305\u542b\u4e24\u4e2a\u6b65\u9aa4\uff1a\u7b2c\u4e00\u6b65\u66f4\u65b0\u88ab\u8bbf\u95ee\u72b6\u6001-\u52a8\u4f5c\u5bf9\u7684\\(q\\)\u503c\uff1b\u7b2c\u4e8c\u6b65\u5c06\u7b56\u7565\u66f4\u65b0\u4e3a\\(\\varepsilon\\)-\u8d2a\u5a6a\u7b56\u7565\u3002\\(q\\)\u503c\u66f4\u65b0\u6b65\u9aa4\u4ec5\u9488\u5bf9\u65f6\u523b\\(t\\)\u8bbf\u95ee\u7684\u5355\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\u8fdb\u884c\u66f4\u65b0\uff0c\u968f\u540e\u7acb\u5373\u66f4\u65b0\u72b6\u6001\\(s_t\\)\u5bf9\u5e94\u7684\u7b56\u7565\u3002\u8fd9\u610f\u5473\u7740\u6211\u4eec\u5728\u7b56\u7565\u66f4\u65b0\u524d\u5e76\u672a\u5bf9\u7ed9\u5b9a\u7b56\u7565\u8fdb\u884c\u5145\u5206\u8bc4\u4f30\uff0c\u8be5\u8bbe\u8ba1\u57fa\u4e8e\u5e7f\u4e49\u7b56\u7565\u8fed\u4ee3\u7684\u601d\u60f3\u3002\u6b64\u5916\uff0c\u7b56\u7565\u66f4\u65b0\u540e\u4f1a\u7acb\u5373\u7528\u4e8e\u751f\u6210\u4e0b\u4e00\u4e2a\u7ecf\u9a8c\u6837\u672c\u3002\u6b64\u5904\u91c7\u7528\u7684\\(\\varepsilon\\)-\u8d2a\u5a6a\u7b56\u7565\u5177\u6709\u63a2\u7d22\u6027\u7279\u5f81\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <p></p> <p>\u56fe\\(7.2\\)\uff1aSarsa\u7b97\u6cd5\u7684\u6f14\u793a\u793a\u4f8b\u3002\u6240\u6709\u8bad\u7ec3\u56de\u5408\u5747\u4ece\u5de6\u4e0a\u89d2\u72b6\u6001\u5f00\u59cb\uff0c\u5e76\u5728\u5230\u8fbe\u76ee\u6807\u72b6\u6001\uff08\u84dd\u8272\u5355\u5143\u683c\uff09\u65f6\u7ec8\u6b62\u3002\u76ee\u6807\u662f\u627e\u5230\u4ece\u8d77\u59cb\u72b6\u6001\u5230\u76ee\u6807\u72b6\u6001\u7684\u6700\u4f18\u8def\u5f84\u3002\u5956\u52b1\u8bbe\u7f6e\u4e3a \\(r_{\\text{target}} =0\\)\uff0c\\(r_{\\text{forbidden}} = r_{\\text{boundary}} = -10\\)\uff0c\u4ee5\u53ca \\(r_{\\text{other}} = -1\\)\u3002\u5b66\u4e60\u7387 \\(\\alpha =0.1\\)\uff0c\\(\\epsilon\\)\u503c\u4e3a0.1\u3002\u5de6\u56fe\u663e\u793a\u7b97\u6cd5\u83b7\u5f97\u7684\u6700\u7ec8\u7b56\u7565\uff0c\u53f3\u56fe\u5c55\u793a\u5404\u8bad\u7ec3\u56de\u5408\u7684\u603b\u5956\u52b1\u4e0e\u8def\u5f84\u957f\u5ea6\u3002</p> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u56fe7.2\u5c55\u793a\u4e86\u4e00\u4e2a\u6f14\u793aSarsa\u7b97\u6cd5\u7684\u4eff\u771f\u793a\u4f8b\u3002\u4e0e\u672c\u4e66\u4e4b\u524d\u8ba8\u8bba\u7684\u6240\u6709\u4efb\u52a1\u4e0d\u540c\uff0c\u8be5\u4efb\u52a1\u662f\u627e\u5230\u4e00\u6761\u4ece\u7279\u5b9a\u8d77\u59cb\u72b6\u6001\u5230\u76ee\u6807\u72b6\u6001\u7684\u826f\u597d\u8def\u5f84\uff0c\u800c\u975e\u4e3a\u6240\u6709\u72b6\u6001\u6c42\u89e3\u6700\u4f18\u7b56\u7565\u3002\u8fd9\u7c7b\u4efb\u52a1\u5728\u5b9e\u9645\u4e2d\u7ecf\u5e38\u51fa\u73b0\u2014\u2014\u5f53\u8d77\u59cb\u72b6\u6001\uff08\u5982\u5bb6\uff09\u548c\u76ee\u6807\u72b6\u6001\uff08\u5982\u5de5\u4f5c\u573a\u6240\uff09\u56fa\u5b9a\u65f6\uff0c\u6211\u4eec\u4ec5\u9700\u627e\u5230\u8fde\u63a5\u4e8c\u8005\u7684\u6700\u4f18\u8def\u5f84\u3002\u8be5\u4efb\u52a1\u7684\u76f8\u5bf9\u7b80\u5355\u6027\u5728\u4e8e\uff1a\u53ea\u9700\u63a2\u7d22\u8def\u5f84\u90bb\u8fd1\u72b6\u6001\uff0c\u800c\u65e0\u9700\u904d\u5386\u6240\u6709\u72b6\u6001\u3002\u4f46\u9700\u6ce8\u610f\u7684\u662f\uff0c\u82e5\u672a\u63a2\u7d22\u5168\u90e8\u72b6\u6001\uff0c\u6700\u7ec8\u8def\u5f84\u53ef\u80fd\u4ec5\u662f\u5c40\u90e8\u6700\u4f18\u800c\u975e\u5168\u5c40\u6700\u4f18\u3002 ======= \u56fe7.2\u5c55\u793a\u4e86\u4e00\u4e2a\u6f14\u793aSarsa\u7b97\u6cd5\u7684\u4eff\u771f\u793a\u4f8b\u3002\u4e0e\u672c\u4e66\u4e4b\u524d\u8ba8\u8bba\u7684\u6240\u6709\u4efb\u52a1\u4e0d\u540c\uff0c\u8be5\u4efb\u52a1\u7684\u76ee\u6807\u662f\u4ece\u7279\u5b9a\u8d77\u59cb\u72b6\u6001\u5230\u76ee\u6807\u72b6\u6001\u5bfb\u627e\u6700\u4f18\u8def\u5f84\uff0c\u800c\u975e\u4e3a\u6240\u6709\u72b6\u6001\u6c42\u89e3\u6700\u4f18\u7b56\u7565\u3002\u8fd9\u7c7b\u4efb\u52a1\u5728\u5b9e\u9645\u4e2d\u7ecf\u5e38\u51fa\u73b0\u2014\u2014\u5f53\u8d77\u59cb\u72b6\u6001\uff08\u5982\u5bb6\uff09\u548c\u76ee\u6807\u72b6\u6001\uff08\u5982\u5de5\u4f5c\u573a\u6240\uff09\u56fa\u5b9a\u65f6\uff0c\u6211\u4eec\u4ec5\u9700\u627e\u5230\u8fde\u63a5\u4e8c\u8005\u7684\u6700\u4f18\u8def\u5f84\u3002\u8be5\u4efb\u52a1\u7684\u76f8\u5bf9\u7b80\u5355\u6027\u5728\u4e8e\uff1a\u53ea\u9700\u63a2\u7d22\u8def\u5f84\u90bb\u8fd1\u72b6\u6001\uff0c\u800c\u65e0\u9700\u904d\u5386\u6240\u6709\u72b6\u6001\u3002\u4f46\u9700\u6ce8\u610f\u7684\u662f\uff0c\u82e5\u672a\u63a2\u7d22\u5168\u90e8\u72b6\u6001\uff0c\u6700\u7ec8\u8def\u5f84\u53ef\u80fd\u4ec5\u662f\u5c40\u90e8\u6700\u4f18\u800c\u975e\u5168\u5c40\u6700\u4f18\u89e3\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <p>\u4eff\u771f\u8bbe\u7f6e\u4e0e\u4eff\u771f\u7ed3\u679c\u8ba8\u8bba\u5982\u4e0b\u3002</p> <ul> <li> <p>\u4eff\u771f\u8bbe\u7f6e\uff1a\u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u6240\u6709\u8bad\u7ec3\u56de\u5408\u5747\u4ece\u5de6\u4e0a\u89d2\u72b6\u6001\u5f00\u59cb\uff0c\u5e76\u5728\u76ee\u6807\u72b6\u6001\u7ec8\u6b62\u3002\u5956\u52b1\u8bbe\u7f6e\u4e3a \\(r_{\\text{target}} =0\\)\uff0c\\(r_{\\text{forbidden}} = r_{\\text{boundary}} = -10\\)\uff0c\u4ee5\u53ca \\(r_{\\text{other}} = -1\\)\u3002\u6b64\u5916\uff0c\u5bf9\u6240\u6709\u65f6\u95f4\u6b65 \\(t\\)\u6709 \\(\\alpha_t(s, a) =0.1\\)\uff0c\u4e14 \\(\\epsilon =0.1\\)\u3002\u52a8\u4f5c\u4ef7\u503c\u7684\u521d\u59cb\u4f30\u8ba1\u503c\u4e3a \\(q_0(s, a) =0\\)\uff08\u5bf9\u6240\u6709\u72b6\u6001-\u52a8\u4f5c\u5bf9 \\((s, a)\\)\uff09\u3002\u521d\u59cb\u7b56\u7565\u5177\u6709\u9075\u5faa\u5747\u5300\u5206\u5e03:\\(\\pi_0(a|s) =0.2\\)\u5bf9\u4e8e\u6240\u6709\\(s,a\\)\u3002</p> </li> <li> <p>\u4e60\u5f97\u7b56\u7565(Learned policy)\uff1a\u56fe7.2\u5de6\u56fe\u5c55\u793a\u4e86Sarsa\u7b97\u6cd5\u5b66\u4e60\u5f97\u5230\u7684\u6700\u7ec8\u7b56\u7565\u3002\u5982\u56fe\u6240\u793a\uff0c\u8be5\u7b56\u7565\u80fd\u591f\u6210\u529f\u5730\u4ece\u8d77\u59cb\u72b6\u6001\u5f15\u5bfc\u81f3\u76ee\u6807\u72b6\u6001\u3002\u7136\u800c\uff0c\u5176\u4ed6\u90e8\u5206\u72b6\u6001\u7684\u7b56\u7565\u53ef\u80fd\u5e76\u975e\u6700\u4f18\uff0c\u8fd9\u662f\u7531\u4e8e\u8fd9\u4e9b\u72b6\u6001\u672a\u88ab\u5145\u5206\u63a2\u7d22\u6240\u81f4\u3002</p> </li> <li> <p>\u6bcf\u56de\u5408\u603b\u5956\u52b1(Total reward of each episode)\uff1a\u56fe\\(7.2\\)\u53f3\u4e0a\u89d2\u5b50\u56fe\u5c55\u793a\u4e86\u5404\u56de\u5408\u7684\u603b\u5956\u52b1\u503c\u3002\u6b64\u5904\u7684\u603b\u5956\u52b1\u662f\u6307\u6240\u6709\u5373\u65f6\u5956\u52b1\u7684\u975e\u6298\u73b0\u603b\u548c\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u6bcf\u56de\u5408\u603b\u5956\u52b1\u5448\u73b0\u9010\u6b65\u4e0a\u5347\u8d8b\u52bf\u3002\u8fd9\u662f\u7531\u4e8e\u521d\u59cb\u7b56\u7565\u6027\u80fd\u8f83\u5dee\uff0c\u5bfc\u81f4\u9891\u7e41\u83b7\u5f97\u8d1f\u5956\u52b1\uff1b\u968f\u7740\u7b56\u7565\u4e0d\u65ad\u4f18\u5316\uff0c\u603b\u5956\u52b1\u503c\u968f\u4e4b\u589e\u957f\u3002</p> </li> <li> <p>\u6bcf\u56de\u5408\u957f\u5ea6\uff1a\u56fe7.2\u53f3\u4e0b\u5b50\u56fe\u663e\u793a\u6bcf\u56de\u5408\u957f\u5ea6\u9010\u6e10\u7f29\u77ed\u3002\u8fd9\u662f\u56e0\u4e3a\u521d\u59cb\u7b56\u7565\u6027\u80fd\u8f83\u5dee\uff0c\u5728\u62b5\u8fbe\u76ee\u6807\u524d\u53ef\u80fd\u7ed5\u884c\u8f83\u591a\u3002\u968f\u7740\u7b56\u7565\u4f18\u5316\uff0c\u8f68\u8ff9\u957f\u5ea6\u968f\u4e4b\u51cf\u77ed\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u6bcf\u56de\u5408\u957f\u5ea6\u53ef\u80fd\u7a81\u7136\u589e\u52a0(\u4f8b\u5982\u7b2c460\u5e55)\uff0c\u5bf9\u5e94\u603b\u5956\u52b1\u503c\u4e5f\u4f1a\u6025\u5267\u4e0b\u964d\u3002\u8fd9\u662f\u7531\u4e8e\u7b56\u7565\u91c7\u7528\\(\\varepsilon\\)-\u8d2a\u5a6a\u7b97\u6cd5\uff0c\u5b58\u5728\u9009\u62e9\u975e\u6700\u4f18\u52a8\u4f5c\u7684\u6982\u7387\u3002\u89e3\u51b3\u65b9\u6cd5\u4e4b\u4e00\u662f\u91c7\u7528\u8870\u51cf\u5f0f\\(\\varepsilon\\)\uff0c\u5176\u6570\u503c\u4f1a\u9010\u6e10\u6536\u655b\u81f3\u96f6\u3002</p> </li> </ul> <p>\u6700\u540e\uff0cSarsa\u7b97\u6cd5\u8fd8\u5b58\u5728\u82e5\u5e72\u53d8\u4f53\uff0c\u4f8b\u5982Expected Sarsa\u3002\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u53c2\u9605Box 7.4\u3002</p>"},{"location":"Chapter-7/7-3/","title":"7.3-\u884c\u52a8\u503c\u4f30\u8ba1:n\u6b65Sarsa","text":""},{"location":"Chapter-7/7-3/#nsarsa","title":"\u884c\u52a8\u503c\u4f30\u8ba1: n\u6b65Sarsa","text":"<p>\u672c\u8282\u4ecb\u7ecdn\u6b65Sarsa\u7b97\u6cd5\u2014\u2014Sarsa\u7684\u6269\u5c55\u5f62\u5f0f\u3002\u6211\u4eec\u5c06\u770b\u5230\uff0cSarsa\u4e0e\u8499\u7279\u5361\u6d1b(MC)\u5b66\u4e60\u5b9e\u9645\u4e0a\u662fn\u6b65Sarsa\u7684\u4e24\u4e2a\u6781\u7aef\u7279\u4f8b\u3002</p> <p>\u56de\u987e\u884c\u52a8\u503c\u7684\u5b9a\u4e49\u4e3a</p> \\[q_\\pi(s,a)=\\mathbb{E}[G_t|S_t=s,A_t=a],\\tag{7.16}\\] <p>\u5176\u4e2d\\(G_t\\)\u4e3a\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u7684\u6298\u73b0\u56de\u62a5\uff1a</p> \\[G_{t}=R_{t+1}+\\gamma R_{t+2}+\\gamma^{2}R_{t+3}+\\ldots.\\] <p>\u4e8b\u5b9e\u4e0a\uff0c\\(G_t\\)\u4e5f\u53ef\u4ee5\u5206\u89e3\u4e3a\u4e0d\u540c\u5f62\u5f0f\uff1a</p> \\[\\begin{aligned} \\text{Sarsa} \\leftarrow &amp;G^{(1)}_t = R_{t+1} + \\gamma q_{\\pi}(S_{t+1}, A_{t+1}), \\\\ &amp;G^{(2)}_t = R_{t+1} + \\gamma R_{t+2} + \\gamma^2 q_{\\pi}(S_{t+2}, A_{t+2}), \\\\ &amp;\\vdots \\\\ \\text{n-step Sarsa} \\leftarrow &amp;G^{(n)}_t = R_{t+1} + \\gamma R_{t+2} + \\cdots + \\gamma^n q_{\\pi}(S_{t+n}, A_{t+n}), \\\\ &amp;\\vdots \\\\ \\text{MC} \\leftarrow &amp;G^{(\\infty)}_t = R_{t+1} + \\gamma R_{t+2} + \\gamma^2 R_{t+3} + \\gamma^3 R_{t+4} + \\cdots \\end{aligned}\\] <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u9700\u6ce8\u610f\\(G_t = G^{(1)}_t = G^{(2)}_t = G^{(n)}_t = G^{(\\infty)}_t\\)\uff0c\u5176\u4e2d\u4e0a\u6807\u4ec5\u8868\u793a\\(G_t\\)\u7684\u4e0d\u540c\u5206\u89e3\u7ed3\u6784\u3002</p>"},{"location":"Chapter-7/7-3/#gn_t716q_pis-a","title":"\u5c06\\(G^{(n)}_t\\)\u7684\u4e0d\u540c\u5206\u89e3\u5f62\u5f0f\u4ee3\u5165\\((7.16)\\)\u5f0f\u4e2d\u7684\\(q_\\pi(s, a)\\)\u4f1a\u5f97\u5230\u4e0d\u540c\u7684\u7b97\u6cd5\u3002","text":"<p>\u9700\u6ce8\u610f \\(G_t = G^{(1)}_t = G^{(2)}_t = G^{(n)}_t = G^{(\\infty)}_t\\)\uff0c\u5176\u4e2d\u4e0a\u6807\u4ec5\u8868\u793a \\(G_t\\)\u7684\u4e0d\u540c\u5206\u89e3\u7ed3\u6784\u3002</p> <p>\u5c06 \\(G^{(n)}_t\\)\u7684\u4e0d\u540c\u5206\u89e3\u5f62\u5f0f\u4ee3\u5165 (7.16)\u5f0f\u4e2d\u7684 \\(q_\\pi(s, a)\\)\u4f1a\u5f97\u5230\u4e0d\u540c\u7684\u7b97\u6cd5\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <ul> <li> <p>\u5f53\\(n=1\\)\uff0c\u6211\u4eec\u6709</p> \\[q_\\pi(s,a)=\\mathbb{E}[G_t^{(1)}|s,a]=\\mathbb{E}[R_{t+1}+\\gamma q_\\pi(S_{t+1},A_{t+1})|s,a].\\] <p>\u6c42\u89e3\u8be5\u65b9\u7a0b\u7684\u76f8\u5e94\u968f\u673a\u8fd1\u4f3c\u7b97\u6cd5\u4e3a</p> \\[q_{t+1}(s_t,a_t)=q_t(s_t,a_t)-\\alpha_t(s_t,a_t)\\left[q_t(s_t,a_t)-(r_{t+1}+\\gamma q_t(s_{t+1},a_{t+1}))\\right],\\] <p>\u5373\u5f0f\\((7.12)\\)\u4e2d\u7684 Sarsa\u7b97\u6cd5\u3002</p> </li> <li> <p>\u5f53\\(n=\\infty\\)\uff0c\u6211\u4eec\u6709</p> \\[q_\\pi(s,a)=\\mathbb{E}[G_t^{(\\infty)}|s,a]=\\mathbb{E}[R_{t+1}+\\gamma R_{t+2}+\\gamma^2R_{t+3}+\\ldots|s,a].\\] <p>\u6c42\u89e3\u8be5\u65b9\u7a0b\u7684\u5bf9\u5e94\u7b97\u6cd5\u4e3a</p> \\[q_{t+1}(s_t,a_t)=g_t\\doteq r_{t+1}+\\gamma r_{t+2}+\\gamma^2r_{t+3}+\\ldots,\\] </li> </ul> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD     \u5176\u4e2d\\(g_t\\)\u662f\\(G_t\\)\u7684\u4e00\u4e2a\u91c7\u6837\u6837\u672c\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u662f\u8499\u7279\u5361\u6d1b\uff08MC\uff09\u5b66\u4e60\u7b97\u6cd5\uff0c\u8be5\u7b97\u6cd5\u901a\u8fc7\u4ece\\((s_t, a_t)\\)\u8d77\u59cb\u7684\u5b8c\u6574\u56de\u5408\u7684\u6298\u73b0\u56de\u62a5\u6765\u8fd1\u4f3c\u4f30\u8ba1\\((s_t, a_t)\\)\u7684\u884c\u52a8\u503c\u3002 =======     \u5176\u4e2d\\(g_t\\)\u662f\\(G_t\\)\u7684\u4e00\u4e2a\u91c7\u6837\u6837\u672c\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u662f\u8499\u7279\u5361\u6d1b\uff08MC\uff09\u5b66\u4e60\u7b97\u6cd5\uff0c\u8be5\u7b97\u6cd5\u901a\u8fc7\u4ece\\((s_t, a_t)\\)\u8d77\u59cb\u7684\u5b8c\u6574\u56de\u5408\u7684\u6298\u73b0\u56de\u62a5\u6765\u8fd1\u4f3c\u4f30\u8ba1\\((s_t, a_t)\\)\u7684\u52a8\u4f5c\u4ef7\u503c\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <ul> <li> <p>\u5bf9\u4e8e\u4e00\u822c\u7684n\u503c\uff0c\u6211\u4eec\u6709</p> \\[q_\\pi(s,a)=\\mathbb{E}[G_t^{(n)}|s,a]=\\mathbb{E}[R_{t+1}+\\gamma R_{t+2}+\\cdots+\\gamma^nq_\\pi(S_{t+n},A_{t+n})|s,a].\\] <p>\u6c42\u89e3\u4e0a\u8ff0\u65b9\u7a0b\u7684\u5bf9\u5e94\u7b97\u6cd5\u4e3a</p> \\[\\begin{aligned}q_{t+1}(s_{t},a_{t})&amp;=q_{t}(s_{t},a_{t})\\\\&amp;-\\alpha_{t}(s_{t},a_{t})\\left[q_{t}(s_{t},a_{t})-\\left(r_{t+1}+\\gamma r_{t+2}+\\cdots+\\gamma^{n}q_{t}(s_{t+n},a_{t+n})\\right)\\right].\\end{aligned}\\tag{7.17}\\] <p>\u8be5\u7b97\u6cd5\u79f0\u4e3an\u6b65Sarsa\u3002</p> </li> </ul> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u7efc\u4e0a\u6240\u8ff0\uff0c\\(n\\)\u6b65Sarsa\u662f\u4e00\u79cd\u66f4\u901a\u7528\u7684\u7b97\u6cd5\uff1a\u5f53\\(n=1\\)\u65f6\u9000\u5316\u4e3a\u5355\u6b65Sarsa\u7b97\u6cd5\uff1b\u5f53\\(n=\\infty\\)(\u901a\u8fc7\u8bbe\u5b9a\\(\\alpha_t=1\\))\u65f6\u5219\u6f14\u5316\u4e3aMC\u5b66\u4e60\u7b97\u6cd5\u3002 ======= \u7efc\u4e0a\u6240\u8ff0\uff0c\\(n\\)\u6b65Sarsa\u662f\u4e00\u79cd\u66f4\u901a\u7528\u7684\u7b97\u6cd5\uff1a\u5f53\\(n=1\\)\u65f6\u9000\u5316\u4e3a\u5355\u6b65Sarsa\u7b97\u6cd5\uff1b\u5f53\\(n=\\infty\\)\uff08\u901a\u8fc7\u8bbe\u5b9a\\(\\alpha_t=1\\)\uff09\u65f6\u5219\u6f14\u5316\u4e3aMC\u5b66\u4e60\u7b97\u6cd5\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <p>\u4e3a\u5b9e\u73b0\\((7.17)\\)\u5f0f\u4e2d\u7684n\u6b65Sarsa\u7b97\u6cd5\uff0c\u6211\u4eec\u9700\u8981\u7ecf\u9a8c\u6837\u672c\\((s_t, a_t, r_{t+1}, s_{t+1}, a_{t+1}, ..., r_{t+n}, s_{t+n}, a_{t+n})\\)\u3002\u7531\u4e8e\u65f6\u523b\\(t\\)\u5c1a\u672a\u6536\u96c6\u5230\\((r_{t+n}, s_{t+n}, a_{t+n})\\)\uff0c\u5fc5\u987b\u7b49\u5230\u65f6\u523b\\(t+n\\)\u624d\u80fd\u66f4\u65b0\\((s_t, a_t)\\)\u7684q\u503c\u3002\u56e0\u6b64\uff0c\\((7.17)\\)\u5f0f\u53ef\u6539\u5199\u4e3a</p> \\[\\begin{aligned}q_{t+n}(s_{t},a_{t})&amp;=q_{t+n-1}(s_{t},a_{t})\\\\&amp;-\\alpha_{t+n-1}(s_{t},a_{t})\\left[q_{t+n-1}(s_{t},a_{t})-\\left(r_{t+1}+\\gamma r_{t+2}+\\cdots+\\gamma^{n}q_{t+n-1}(s_{t+n},a_{t+n})\\right)\\right],\\end{aligned}\\] <p>\u5176\u4e2d\\(q_{t+n}(s_t, a_t)\\)\u662f\u65f6\u523b \\(t+n\\)\u5bf9\\(q_\\pi(s_t, a_t)\\)\u7684\u4f30\u8ba1\u503c\u3002</p> <p>\u7531\u4e8en\u6b65Sarsa\u7b97\u6cd5\u5c06Sarsa\u4e0e\u8499\u7279\u5361\u6d1b(MC)\u5b66\u4e60\u4f5c\u4e3a\u4e24\u79cd\u6781\u7aef\u60c5\u51b5\u5305\u542b\u5176\u4e2d\uff0c\u5176\u6027\u80fd\u4ecb\u4e8e\u4e24\u8005\u4e4b\u95f4\u4fbf\u4e0d\u8db3\u4e3a\u5947\u3002\u5177\u4f53\u800c\u8a00\uff1a</p> <ul> <li> <p>\u5f53\\(n\\)\u53d6\u503c\u8f83\u5927\u65f6\uff0cn\u6b65Sarsa\u63a5\u8fd1MC\u5b66\u4e60\uff0c\u6b64\u65f6\u4f30\u8ba1\u503c\u5177\u6709\u8f83\u9ad8\u7684\u65b9\u5dee\u4f46\u504f\u5dee\u8f83\u5c0f\uff1b</p> </li> <li> <p>\u5f53\\(n\\)\u53d6\u503c\u8f83\u5c0f\u65f6\uff0cn\u6b65Sarsa\u5219\u63a5\u8fd1Sarsa\u7b97\u6cd5\uff0c\u6b64\u65f6\u4f30\u8ba1\u503c\u504f\u5dee\u8f83\u5927\u4f46\u65b9\u5dee\u8f83\u4f4e\u3002</p> </li> </ul> <p>\u9700\u7279\u522b\u8bf4\u660e\u7684\u662f\uff0c\u672c\u6587\u6240\u8ff0\u7684n\u6b65Sarsa\u7b97\u6cd5\u4ec5\u7528\u4e8e\u7b56\u7565\u8bc4\u4f30\u3002\u8981\u5b66\u4e60\u6700\u4f18\u7b56\u7565\uff0c\u5fc5\u987b\u7ed3\u5408\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u3002\u5176\u5b9e\u73b0\u65b9\u5f0f\u4e0eSarsa\u7b97\u6cd5\u7c7b\u4f3c\uff0c\u6b64\u5904\u4e0d\u518d\u8d58\u8ff0\u3002\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u53c2\u9605\u6587\u732e[3,\u7b2c7\u7ae0]\u5bf9\u591a\u6b65\u65f6\u5e8f\u5dee\u5206(TD)\u5b66\u4e60\u7684\u8be6\u7ec6\u5206\u6790\u3002</p>"},{"location":"Chapter-7/7-4/","title":"7.4-\u6700\u4f18\u884c\u52a8\u503c\u4f30\u8ba1:Q-Learning","text":""},{"location":"Chapter-7/7-4/#74-q-learning","title":"7.4 \u6700\u4f18\u884c\u52a8\u503c\u4f30\u8ba1: Q-learning","text":"<p>\u672c\u8282\u4ecb\u7ecd\u5f3a\u5316\u5b66\u4e60\u4e2d\u6700\u7ecf\u5178\u7684\u7b97\u6cd5\u4e4b\u4e00\u2014\u2014Q-Learning\u7b97\u6cd5[38,39]\u3002\u9700\u6ce8\u610f\u7684\u662f\uff0cSarsa\u7b97\u6cd5\u4ec5\u80fd\u4f30\u8ba1\u7ed9\u5b9a\u7b56\u7565\u7684\u884c\u52a8\u503c\uff0c\u5fc5\u987b\u7ed3\u5408\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u624d\u80fd\u83b7\u5f97\u6700\u4f18\u7b56\u7565\uff1b\u800cQ-Learning\u7b97\u6cd5\u53ef\u76f4\u63a5\u4f30\u8ba1\u6700\u4f18\u884c\u52a8\u503c\uff0c\u4ece\u800c\u76f4\u63a5\u6c42\u89e3\u6700\u4f18\u7b56\u7565\u3002</p>"},{"location":"Chapter-7/7-4/#741","title":"7.4.1\u7b97\u6cd5\u63cf\u8ff0","text":"<p>Q-Learning\u7b97\u6cd5\u4e3a</p> \\[\\begin{aligned}&amp;q_{t+1}(s_{t},a_{t})=q_{t}(s_{t},a_{t})-\\alpha_{t}(s_{t},a_{t})\\left[q_{t}(s_{t},a_{t})-\\left(r_{t+1}+\\gamma\\max_{a\\in\\mathcal{A}(s_{t+1})}q_{t}(s_{t+1},a)\\right)\\right],\\quad(7.18)\\\\&amp;q_{t+1}(s,a)=q_{t}(s,a),\\quad\\text{for all }(s,a)\\neq(s_{t},a_{t}),\\end{aligned}\\] <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u5176\u4e2d \\(t =0,1,2, \\dots\\)\u3002\u6b64\u5904 \\(q_t(s_t, a_t)\\)\u8868\u793a\u72b6\u6001-\u52a8\u4f5c\u5bf9 \\((s_t, a_t)\\)\u7684\u6700\u4f18\u884c\u52a8\u503c\u4f30\u8ba1\u503c\uff0c\\(\\alpha_t(s_t, a_t)\\)\u4e3a\u5bf9\u5e94\u72b6\u6001-\u884c\u52a8\u5bf9\u7684\u5b66\u4e60\u7387\u3002</p>"},{"location":"Chapter-7/7-4/#q-learningsarsatdq-learningtdr_t1-gamma-max_a-q_ts_t1-asarsatdr_t1-gamma-q_ts_t1-a_t1s_t-a_tsarsar_t1-s_t1-a_t1q-learningr_t1-s_t1","title":"Q-learning\u7684\u8868\u8fbe\u5f0f\u4e0eSarsa\u76f8\u4f3c\uff0c\u4e8c\u8005\u7684\u533a\u522b\u4ec5\u5728\u4e8eTD\u76ee\u6807\uff1aQ-learning\u7684TD\u76ee\u6807\u4e3a\\(r_{t+1} + \\gamma \\max_a q_t(s_{t+1}, a)\\)\uff0c\u800cSarsa\u7684TD\u76ee\u6807\u4e3a\\(r_{t+1} + \\gamma q_t(s_{t+1}, a_{t+1})\\)\u3002\u6b64\u5916\uff0c\u7ed9\u5b9a\\((s_t, a_t)\\)\u540e\uff0cSarsa\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u9700\u8981\\((r_{t+1}, s_{t+1}, a_{t+1})\\)\uff0c\u800cQ-learning\u4ec5\u9700\\((r_{t+1}, s_{t+1})\\)\u3002","text":"<p>\u5176\u4e2d \\(t =0,1,2, \\dots\\)\u3002\u6b64\u5904 \\(q_t(s_t, a_t)\\)\u8868\u793a\u72b6\u6001-\u52a8\u4f5c\u5bf9 \\((s_t, a_t)\\)\u7684\u6700\u4f18\u884c\u52a8\u503c\u4f30\u8ba1\u503c\uff0c\\(\\alpha_t(s_t, a_t)\\)\u4e3a\u5bf9\u5e94\u72b6\u6001-\u52a8\u4f5c\u5bf9\u7684\u5b66\u4e60\u7387\u3002</p> <p>Q-learning\u7684\u8868\u8fbe\u5f0f\u4e0eSarsa\u76f8\u4f3c\uff0c\u4e8c\u8005\u7684\u533a\u522b\u4ec5\u5728\u4e8eTD\u76ee\u6807\uff1aQ-learning\u7684TD\u76ee\u6807\u4e3a\\(r_{t+1} + \\gamma \\max_a q_t(s_{t+1}, a)\\)\uff0c\u800cSarsa\u7684TD\u76ee\u6807\u4e3a\\(r_{t+1} + \\gamma q_t(s_{t+1}, a_{t+1})\\)\u3002\u6b64\u5916\uff0c\u7ed9\u5b9a\\((s_t, a_t)\\)\u540e\uff0cSarsa\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u9700\u8981\\((r_{t+1}, s_{t+1}, a_{t+1})\\)\uff0c\u800cQ-learning\u4ec5\u9700\\((r_{t+1}, s_{t+1})\\)\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <p>\u4e3a\u4ec0\u4e48Q-learning\u88ab\u8bbe\u8ba1\u4e3a\\((7.18)\\)\u5f0f\u4e2d\u7684\u8868\u8fbe\u5f0f\uff0c\u5b83\u5728\u6570\u5b66\u4e0a\u5b9e\u73b0\u4e86\u4ec0\u4e48\u529f\u80fd\uff1fQ-learning\u662f\u4e00\u79cd\u968f\u673a\u8fd1\u4f3c\u7b97\u6cd5\uff0c\u7528\u4e8e\u6c42\u89e3\u4ee5\u4e0b\u65b9\u7a0b\uff1a</p> \\[q(s,a)=\\mathbb{E}\\left[R_{t+1}+\\gamma\\max_{a}q(S_{t+1},a)|S_{t}=s,A_{t}=a\\right].\\tag{7.19}\\] <p>\u8fd9\u662f\u7528\u884c\u52a8\u503c\u8868\u793a\u7684\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u3002\u5176\u8bc1\u660e\u8fc7\u7a0b\u89c1Box 7.5\u3002Q-Learning\u7684\u6536\u655b\u6027\u5206\u6790\u4e0e\u5b9a\u74067.1\u7c7b\u4f3c\uff0c\u6b64\u5904\u4ece\u7565\u3002\u66f4\u591a\u7ec6\u8282\u53ef\u53c2\u9605\u6587\u732e[32,39]\u3002</p> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p> <p>Note</p> <p>\u8fd9\u91cc\u5f97\u5230\u7684\\(q\\)\u503c\u4e0d\u662f\u8bf4\u54ea\u4e00\u4e2a\u7b56\u7565\u7684\\(q\\)\u503c\uff0c\u800c\u662f\u6700\u4f18\u7684\\(q\\)\u503c\uff0c\u5bf9\u5e94\u7684\u5373\u4e3a\u6700\u4f18\u7684\u7b56\u7565\u3002</p>"},{"location":"Chapter-7/7-4/#742-off-policyon-policy","title":"7.4.2 Off-policy\u548cOn-policy","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u5f15\u5165\u4e24\u4e2a\u91cd\u8981\u6982\u5ff5\uff1a\u7b56\u7565\u5b66\u4e60(on-policy learning)\u4e0e\u975e\u7b56\u7565\u5b66\u4e60(off-policy learning)\u3002Q\u5b66\u4e60\u4e0eTD\u7b97\u6cd5\u7684\u7ec6\u5fae\u5dee\u5f02\u5728\u4e8e\uff1aQ\u5b66\u4e60\u5c5e\u4e8e\u975e\u7b56\u7565\u5b66\u4e60\uff0c\u800c\u5176\u4ed6\u7b97\u6cd5\u5747\u4e3a\u7b56\u7565\u5b66\u4e60\u3002</p> <p>\u4efb\u4f55\u5f3a\u5316\u5b66\u4e60\u4efb\u52a1\u4e2d\u90fd\u5b58\u5728\u4e24\u79cd\u7b56\u7565\uff1a\u884c\u4e3a\u7b56\u7565\u548c\u76ee\u6807\u7b56\u7565\u3002\u884c\u4e3a\u7b56\u7565\u7528\u4e8e\u751f\u6210\u7ecf\u9a8c\u6837\u672c\uff0c\u800c\u76ee\u6807\u7b56\u7565\u5219\u6301\u7eed\u66f4\u65b0\u4ee5\u6536\u655b\u81f3\u6700\u4f18\u7b56\u7565\u3002\u5f53\u884c\u4e3a\u7b56\u7565\u4e0e\u76ee\u6807\u7b56\u7565\u76f8\u540c\u65f6\uff0c\u8be5\u5b66\u4e60\u8fc7\u7a0b\u79f0\u4e3aon-policy\uff1b\u82e5\u4e8c\u8005\u4e0d\u540c\uff0c\u5219\u79f0\u4e3aoff-policy\u3002</p>"},{"location":"Chapter-7/7-4/#off-policy-learning-sarsaepsilon-epsilon-off-policy-learning","title":"Off-policy learning\u7684\u4f18\u52bf\u5728\u4e8e\u80fd\u591f\u57fa\u4e8e\u5176\u4ed6\u7b56\u7565\u751f\u6210\u7684\u6837\u672c\u8fdb\u884c\u6700\u4f18\u7b56\u7565\u5b66\u4e60\uff0c\u8fd9\u4e9b\u6837\u672c\u53ef\u80fd\u6765\u81ea\u4eba\u7c7b\u6267\u884c\u7684\u7b56\u7565\u7b49\u6765\u6e90\u3002\u4e00\u4e2a\u91cd\u8981\u7279\u4f8b\u662f\uff1a\u884c\u4e3a\u7b56\u7565\u53ef\u9009\u62e9\u5177\u6709\u5f3a\u63a2\u7d22\u6027\u7684\u7b56\u7565\uff0c\u80fd\u591f\u63a2\u7d22\u6240\u6709\u7684\u72b6\u6001-\u884c\u52a8\u5bf9\u3002\u5982\u679c\u6211\u4eec\u60f3\u8981\u4f30\u8ba1\u6240\u6709\u72b6\u6001-\u52a8\u4f5c\u5bf9\u7684\u884c\u52a8\u503c\uff0c\u5c31\u5fc5\u987b\u786e\u4fdd\u8f68\u8ff9\u80fd\u5145\u5206\u8bbf\u95ee\u6bcf\u4e2a\u72b6\u6001-\u52a8\u4f5c\u5bf9\u3002\u867d\u7136Sarsa\u7b97\u6cd5\u91c7\u7528\\(\\epsilon\\)-\u8d2a\u5a6a\u7b56\u7565\u7ef4\u6301\u57fa\u7840\u63a2\u7d22\u80fd\u529b\uff0c\u4f46\\(\\epsilon\\)\u503c\u901a\u5e38\u8f83\u5c0f\uff0c\u56e0\u800c\u63a2\u7d22\u80fd\u529b\u6709\u9650\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u82e5\u91c7\u7528\u5177\u6709\u5f3a\u63a2\u7d22\u80fd\u529b\u7684\u7b56\u7565\u8f68\u8ff9\u751f\u6210\u8bbf\u95ee\u6bcf\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\u7684\u8db3\u591f\u591a\u7684\u56de\u5408\uff0c\u518d\u901a\u8fc7off-policy learning\u83b7\u53d6\u6700\u4f18\u7b56\u7565\uff0c\u5373\u53ef\u663e\u8457\u63d0\u5347\u5b66\u4e60\u6548\u7387\u3002","text":""},{"location":"Chapter-7/7-4/#742-off-policyon-policy_1","title":"7.4.2 Off-policy\u548cOn-policy","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u5f15\u5165\u4e24\u4e2a\u91cd\u8981\u6982\u5ff5\uff1aon-policy learning\u4e0eoff-policy learning\u3002Q\u5b66\u4e60\u4e0e\u5176\u4ed6\u65f6\u5e8f\u5dee\u5206\uff08TD\uff09\u7b97\u6cd5\u7684\u7ec6\u5fae\u5dee\u5f02\u5728\u4e8e\uff1aQ\u5b66\u4e60\u5c5e\u4e8eoff-policy learning\uff0c\u800c\u5176\u4ed6\u7b97\u6cd5\u5747\u4e3aon-policy learning\u3002</p> <p>\u4efb\u4f55\u5f3a\u5316\u5b66\u4e60\u4efb\u52a1\u4e2d\u90fd\u5b58\u5728\u4e24\u79cd\u7b56\u7565\uff1a\u884c\u4e3a\u7b56\u7565\u548c\u76ee\u6807\u7b56\u7565\u3002\u884c\u4e3a\u7b56\u7565\u7528\u4e8e\u751f\u6210\u7ecf\u9a8c\u6837\u672c\uff0c\u800c\u76ee\u6807\u7b56\u7565\u5219\u6301\u7eed\u66f4\u65b0\u4ee5\u6536\u655b\u81f3\u6700\u4f18\u7b56\u7565\u3002\u5f53\u884c\u4e3a\u7b56\u7565\u4e0e\u76ee\u6807\u7b56\u7565\u76f8\u540c\u65f6\uff0c\u8be5\u5b66\u4e60\u8fc7\u7a0b\u79f0\u4e3aon-policy\uff1b\u82e5\u4e8c\u8005\u4e0d\u540c\uff0c\u5219\u79f0\u4e3aoff-policy\u3002</p> <p>Off-policy learning\u7684\u4f18\u52bf\u5728\u4e8e\u80fd\u591f\u57fa\u4e8e\u5176\u4ed6\u7b56\u7565\u751f\u6210\u7684\u6837\u672c\u8fdb\u884c\u6700\u4f18\u7b56\u7565\u5b66\u4e60\uff0c\u8fd9\u4e9b\u6837\u672c\u53ef\u80fd\u6765\u81ea\u4eba\u7c7b\u64cd\u4f5c\u8005\u6267\u884c\u7684\u7b56\u7565\u7b49\u6765\u6e90\u3002\u4e00\u4e2a\u91cd\u8981\u7279\u4f8b\u662f\uff1a\u884c\u4e3a\u7b56\u7565\u53ef\u9009\u62e9\u5177\u6709\u5f3a\u63a2\u7d22\u6027\u7684\u7b56\u7565\u3002\u4f8b\u5982\uff0c\u82e5\u9700\u4f30\u8ba1\u6240\u6709\u72b6\u6001-\u52a8\u4f5c\u5bf9\u7684\u884c\u52a8\u503c\u51fd\u6570\uff0c\u5fc5\u987b\u786e\u4fdd\u91c7\u6837\u8f68\u8ff9\u80fd\u5145\u5206\u8bbf\u95ee\u6bcf\u4e2a\u72b6\u6001-\u52a8\u4f5c\u5bf9\u3002\u867d\u7136Sarsa\u7b97\u6cd5\u91c7\u7528\\(\\epsilon\\)-\u8d2a\u5a6a\u7b56\u7565\u7ef4\u6301\u57fa\u7840\u63a2\u7d22\u80fd\u529b\uff0c\u4f46\\(\\epsilon\\)\u503c\u901a\u5e38\u8f83\u5c0f\uff0c\u56e0\u800c\u63a2\u7d22\u80fd\u529b\u6709\u9650\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u82e5\u91c7\u7528\u5177\u6709\u5f3a\u63a2\u7d22\u80fd\u529b\u7684\u7b56\u7565\u751f\u6210\u8f68\u8ff9\uff0c\u518d\u901a\u8fc7off-policy learning\u83b7\u53d6\u6700\u4f18\u7b56\u7565\uff0c\u53ef\u663e\u8457\u63d0\u5347\u5b66\u4e60\u6548\u7387\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <p>\u8981\u5224\u65ad\u4e00\u4e2a\u7b97\u6cd5\u662fon-policy\u8fd8\u662foff-policy\uff0c\u53ef\u4ee5\u4ece\u4e24\u65b9\u9762\u8003\u5bdf\uff1a\u7b2c\u4e00\u662f\u7b97\u6cd5\u6c42\u89e3\u7684\u6570\u5b66\u95ee\u9898\uff1b\u7b2c\u4e8c\u662f\u7b97\u6cd5\u6240\u9700\u7684\u7ecf\u9a8c\u6837\u672c\u3002</p> <ul> <li>Sarsa\u662f\u4e00\u79cdon-policy\u7b97\u6cd5:</li> </ul> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD     Sarsa\u7b97\u6cd5\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u5305\u542b\u4e24\u4e2a\u6b65\u9aa4\uff1a\u7b2c\u4e00\u6b65\u662f\u901a\u8fc7\u6c42\u89e3\u7b56\u7565\\(\\pi\\)\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u6765\u8bc4\u4f30\u8be5\u7b56\u7565\uff0c\u8fd9\u9700\u8981\\(\\pi\\)\u751f\u6210\u7684\u6837\u672c\uff0c\u56e0\u6b64\\(\\pi\\)\u6b64\u65f6\u4f5c\u4e3a\u884c\u4e3a\u7b56\u7565\uff1b\u7b2c\u4e8c\u6b65\u662f\u57fa\u4e8e\\(\\pi\\)\u7684\u4f30\u8ba1\u503c\u83b7\u53d6\u6539\u8fdb\u7b56\u7565\uff0c\u6b64\u65f6\\(\\pi\\)\u4f5c\u4e3a\u4e0d\u65ad\u66f4\u65b0\u5e76\u6700\u7ec8\u6536\u655b\u81f3\u6700\u4f18\u7b56\u7565\u7684\u76ee\u6807\u7b56\u7565\u3002\u56e0\u6b64\u884c\u4e3a\u7b56\u7565\u4e0e\u76ee\u6807\u7b56\u7565\u662f\u540c\u4e00\u7b56\u7565\u3002 =======     \u539f\u56e0\u5982\u4e0b\u3002Sarsa\u7b97\u6cd5\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u5305\u542b\u4e24\u4e2a\u6b65\u9aa4\uff1a\u7b2c\u4e00\u6b65\u662f\u901a\u8fc7\u6c42\u89e3\u7b56\u7565\\(\\pi\\)\u7684Bellman\u65b9\u7a0b\u6765\u8bc4\u4f30\u8be5\u7b56\u7565\uff0c\u8fd9\u9700\u8981\\(\\pi\\)\u751f\u6210\u7684\u6837\u672c\uff0c\u56e0\u6b64\\(\\pi\\)\u6b64\u65f6\u4f5c\u4e3a\u884c\u4e3a\u7b56\u7565\uff1b\u7b2c\u4e8c\u6b65\u662f\u57fa\u4e8e\\(\\pi\\)\u7684\u4f30\u8ba1\u503c\u83b7\u53d6\u6539\u8fdb\u7b56\u7565\uff0c\u6b64\u65f6\\(\\pi\\)\u4f5c\u4e3a\u4e0d\u65ad\u66f4\u65b0\u5e76\u6700\u7ec8\u6536\u655b\u81f3\u6700\u4f18\u7b56\u7565\u7684\u76ee\u6807\u7b56\u7565\u3002\u7531\u6b64\u53ef\u89c1\uff0c\u884c\u4e3a\u7b56\u7565\u4e0e\u76ee\u6807\u7b56\u7565\u5b9e\u4e3a\u540c\u4e00\u7b56\u7565\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <pre><code>\u4ece\u53e6\u4e00\u4e2a\u89d2\u5ea6\u6765\u770b\uff0c\u6211\u4eec\u53ef\u4ee5\u5206\u6790\u7b97\u6cd5\u6240\u9700\u7684\u6837\u672c\u3002Sarsa\u7b97\u6cd5\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u9700\u8981\u7684\u6837\u672c\u5305\u62ec$(s_t, a_t, r_{t+1}, s_{t+1}, a_{t+1})$\u3002\u8fd9\u4e9b\u6837\u672c\u7684\u751f\u6210\u65b9\u5f0f\u5982\u4e0b\u6240\u793a\uff1a\n\n$$s_t\\xrightarrow{\\pi_b}a_t\\xrightarrow{\\mathrm{model}}r_{t+1},s_{t+1}\\xrightarrow{\\pi_b}a_{t+1}$$\n</code></pre> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD     \u53ef\u4ee5\u770b\u51fa\uff0c\u884c\u4e3a\u7b56\u7565\\(\\pi_b\\)\u662f\u5728\u72b6\u6001\\(s_t\\)\u4e0b\u751f\u6210\u884c\u52a8\\(a_t\\)\u3001\u5728\u72b6\u6001 \\(s_{t+1}\\)\u4e0b\u751f\u6210\u884c\u52a8\\(a_{t+1}\\)\u7684\u7b56\u7565\u3002Sarsa\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u4f30\u8ba1\u76ee\u6807\u7b56\u7565 \\(\\pi_T\\)\u5728\u72b6\u6001-\u884c\u52a8\u5bf9 \\((s_t, a_t)\\)\u5904\u7684\u884c\u52a8\u503c\uff1b\u4e4b\u6240\u4ee5\u79f0\u4e3a\u76ee\u6807\u7b56\u7565\uff0c\u662f\u56e0\u4e3a\u5b83\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u4f1a\u6839\u636e\u4f30\u8ba1\u503c\u8fdb\u884c\u6539\u8fdb\u3002\u5b9e\u9645\u4e0a\uff0c\\(\\pi_T\\)\u4e0e \\(\\pi_b\\)\u662f\u76f8\u540c\u7684\uff0c\u56e0\u4e3a\u5bf9 \\(\\pi_T\\)\u7684\u8bc4\u4f30\u4f9d\u8d56\u4e8e\u6837\u672c \\((r_{t+1}, s_{t+1}, a_{t+1})\\)\uff0c\u5176\u4e2d \\(a_{t+1}\\)\u6b63\u662f\u9075\u5faa \\(\\pi_b\\)(\u4e5f\u5373\\(\\pi_t(s_{t+1})\\))\u751f\u6210\u7684\u3002\u6362\u8a00\u4e4b\uff0cSarsa\u6240\u8bc4\u4f30\u7684\u7b56\u7565\u6b63\u662f\u7528\u4e8e\u751f\u6210\u7ecf\u9a8c\u6837\u672c\u7684\u7b56\u7565\u3002</p> <ul> <li> <p>Q-Learning\u662f\u4e00\u79cdoff-policy\u7b97\u6cd5:</p> <p>\u6839\u672c\u539f\u56e0\u5728\u4e8e\uff0cQ-learning\u662f\u7528\u4e8e\u6c42\u89e3\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u7684\u7b97\u6cd5\uff0c\u800cSarsa\u5219\u662f\u6c42\u89e3\u7ed9\u5b9a\u7b56\u7565\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u3002\u6c42\u89e3\u8d1d\u5c14\u66fc\u65b9\u7a0b\u53ef\u4ee5\u8bc4\u4f30\u5bf9\u5e94\u7b56\u7565\u7684\u6027\u80fd\uff0c\u800c\u6c42\u89e3\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u5219\u80fd\u76f4\u63a5\u751f\u6210\u6700\u4f18\u503c\u4e0e\u6700\u4f18\u7b56\u7565\u3002</p> <p>\u7279\u522b\u5730\uff0cQ-learning\u6bcf\u6b21\u8fed\u4ee3\u6240\u9700\u7684\u6837\u672c\u4e3a\\((s_t, a_t, r_{t+1}, s_{t+1})\\)\u3002\u8fd9\u4e9b\u6837\u672c\u7684\u751f\u6210\u65b9\u5f0f\u5982\u4e0b\u6240\u793a\uff1a</p> \\[s_t\\xrightarrow{\\pi_b}a_t\\xrightarrow{\\mathrm{model}}r_{t+1},s_{t+1}\\] <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u884c\u4e3a\u7b56\u7565 \\(\\pi_b\\)\u662f\u751f\u6210\u72b6\u6001\\(s_t\\)\u4e0b\u884c\u52a8\\(a_t\\)\u7684\u7b56\u7565\u3002Q-Learning\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u4f30\u8ba1\\((s_t, a_t)\\)\u7684\u6700\u4f18\u884c\u52a8\u503c\u51fd\u6570\u3002\u8fd9\u4e00\u4f30\u8ba1\u8fc7\u7a0b\u4f9d\u8d56\u4e8e\u6837\u672c\\((r_{t+1}, s_{t+1})\\)\u3002\u5982\u679c\\((s_t, a_t)\\)\u662f\u7ed9\u5b9a\u7684\uff0c\u90a3\u4e48\\((r_{t+1},s_{t+1})\\)\u4e0d\u4f9d\u8d56\u4e8e\u7b56\u7565\\(\\pi_b\\)\uff0c\u56e0\u4e3a\u5b83\u7531\u7cfb\u7edf\u6a21\u578b(\u5373\\(p(s^\\prime|s,a),p(r|s,a)\\))\u51b3\u5b9a\u3002\u56e0\u6b64\uff0c\u5bf9\\((s_t, a_t)\\)\u6700\u4f18\u884c\u52a8\u503c\u7684\u4f30\u8ba1\u4e0e\\(\\pi_b\\)\u65e0\u5173\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4efb\u610f\\(\\pi_b\\)\u6765\u751f\u6210\\(s_t\\)\u72b6\u6001\u4e0b\u7684\\(a_t\\)\u3002\u6b64\u5916\uff0c\u6b64\u5904\u76ee\u6807\u7b56\u7565\\(\\pi_T\\)\u662f\u57fa\u4e8e\u4f30\u8ba1\u7684\u6700\u4f18\u503c\u5f97\u5230\u7684\u8d2a\u5a6a\u7b56\u7565(\u7b97\u6cd57.3)\u3002\u884c\u4e3a\u7b56\u7565\u4e0d\u5fc5\u4e0e\\(\\pi_T\\)\u76f8\u540c\u3002</p> <p>Note</p> <p>\u6ce8: Q-learning\u7684\u884c\u4e3a\u7b56\u7565\u5c31\u662f\u9700\u8981\u4ece\\(s_t\\)\u51fa\u53d1\u6839\u636e\u4e00\u4e2a\u7b56\u7565\u5f97\u5230\u4e00\u4e2a\\(a_t\\)\uff0c\u800c\u76ee\u6807\u7b56\u7565\u5c31\u662f\u6839\u636e\u8ba1\u7b97\u5f97\u5230\u7684\\(q\\)\u6765\u9009\u62e9\u5bf9\u5e94\u7684\u884c\u52a8\uff0c\u5f53\\(q\\)\u9010\u6e10\u6536\u655b\u5230\u6700\u4f18\\(q\\)\u503c\u65f6\uff0c\u4e5f\u5c31\u6536\u655b\u5230\u4e86\u6700\u4f18\u7b56\u7565\u3002</p> </li> <li> <p>MC learning\u662f\u4e00\u79cdon-policy\u7b97\u6cd5:</p> </li> <li> <p>Q-Learning\u662f\u4e00\u79cdoff-policy\u7b97\u6cd5:</p> <p>\u6839\u672c\u539f\u56e0\u5728\u4e8e\uff0cQ-learning\u662f\u7528\u4e8e\u6c42\u89e3\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u7684\u7b97\u6cd5\uff0c\u800c Sarsa\u5219\u662f\u6c42\u89e3\u7ed9\u5b9a\u7b56\u7565\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u3002\u6c42\u89e3\u8d1d\u5c14\u66fc\u65b9\u7a0b\u53ef\u4ee5\u8bc4\u4f30\u5bf9\u5e94\u7b56\u7565\u7684\u6027\u80fd\uff0c\u800c\u6c42\u89e3\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u5219\u80fd\u76f4\u63a5\u751f\u6210\u6700\u4f18\u503c\u51fd\u6570\u4e0e\u6700\u4f18\u7b56\u7565\u3002</p> <p>\u7279\u522b\u5730\uff0cQ-learning\u6bcf\u6b21\u8fed\u4ee3\u6240\u9700\u7684\u6837\u672c\u4e3a \\((s_t, a_t, r_{t+1}, s_{t+1})\\)\u3002\u8fd9\u4e9b\u6837\u672c\u7684\u751f\u6210\u65b9\u5f0f\u5982\u4e0b\u6240\u793a\uff1a</p> \\[s_t\\xrightarrow{\\pi_b}a_t\\xrightarrow{\\mathrm{model}}r_{t+1},s_{t+1}\\] <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u884c\u4e3a\u7b56\u7565 \\(\\pi_b\\)\u662f\u751f\u6210\u72b6\u6001\\(s_t\\)\u4e0b\u884c\u52a8\\(a_t\\)\u7684\u7b56\u7565\u3002Q-Learning\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u4f30\u8ba1\\((s_t, a_t)\\)\u7684\u6700\u4f18\u884c\u52a8\u503c\u51fd\u6570\u3002\u8fd9\u4e00\u4f30\u8ba1\u8fc7\u7a0b\u4f9d\u8d56\u4e8e\u6837\u672c\\((r_{t+1}, s_{t+1})\\)\u3002\u751f\u6210\\((r_{t+1},s_{t+1})\\)\u7684\u8fc7\u7a0b\u4e0d\u6d89\u53ca\\(\\pi_b\\)\uff0c\u56e0\u4e3a\u5b83\u7531\u7cfb\u7edf\u6a21\u578b(\u6216\u901a\u8fc7\u4e0e\u73af\u5883\u7684\u4ea4\u4e92)\u51b3\u5b9a\u3002\u56e0\u6b64\uff0c\u5bf9\\((s_t, a_t)\\)\u6700\u4f18\u884c\u52a8\u503c\u7684\u4f30\u8ba1\u4e0e \\(\\pi_b\\)\u65e0\u5173\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4efb\u610f\\(\\pi_b\\)\u6765\u751f\u6210\\(s_t\\)\u72b6\u6001\u4e0b\u7684\\(a_t\\)\u3002\u6b64\u5916\uff0c\u6b64\u5904\u76ee\u6807\u7b56\u7565\\(\\pi_T\\)\u662f\u57fa\u4e8e\u4f30\u8ba1\u7684\u6700\u4f18\u503c\u5f97\u5230\u7684\u8d2a\u5a6a\u7b56\u7565(\u7b97\u6cd57.3)\u3002\u884c\u4e3a\u7b56\u7565\u4e0d\u5fc5\u4e0e \\(\\pi_T\\)\u76f8\u540c\u3002</p> </li> <li> <p>MC learning\u662f\u4e00\u79cdon-policy\u7b97\u6cd5:</p> <p>\u539f\u56e0\u4e0eSarsa\u7b97\u6cd5\u7c7b\u4f3c\u3002\u5f85\u8bc4\u4f30\u548c\u6539\u8fdb\u7684\u76ee\u6807\u7b56\u7565\uff08target policy\uff09\u4e0e\u751f\u6210\u6837\u672c\u7684\u884c\u4e3a\u7b56\u7565\uff08behavior policy\uff09\u662f\u76f8\u540c\u7684\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <p>\u53e6\u4e00\u4e2a\u53ef\u80fd\u4e0eon-policy/off-policy\u6df7\u6dc6\u7684\u6982\u5ff5\u662fonline/offline\u3002\u5728\u7ebf\u5b66\u4e60\u6307\u667a\u80fd\u4f53\u5728\u4e0e\u73af\u5883\u4ea4\u4e92\u7684\u540c\u65f6\u66f4\u65b0\u4ef7\u503c\u51fd\u6570\u548c\u7b56\u7565\uff1b\u79bb\u7ebf\u5b66\u4e60\u5219\u6307\u667a\u80fd\u4f53\u4f7f\u7528\u9884\u5148\u6536\u96c6\u7684\u7ecf\u9a8c\u6570\u636e\u8fdb\u884c\u7b56\u7565\u66f4\u65b0\uff0c\u800c\u65e0\u9700\u4e0e\u73af\u5883\u5b9e\u65f6\u4ea4\u4e92\u3002\u82e5\u7b97\u6cd5\u5c5e\u4e8eon-policy\uff0c\u5219\u53ef\u5728online\uff0c\u4f46\u4e0d\u80fd\u4f7f\u7528\u5176\u4ed6\u7b56\u7565\u751f\u6210\u7684\u9884\u5b58\u6570\u636e\uff1b\u82e5\u7b97\u6cd5\u5c5e\u4e8eoff-policy\uff0c\u5219\u65e2\u53efonline\u5b9e\u73b0\u4e5f\u53efoffline\u5b9e\u73b0\u3002</p> </li> </ul> <p></p> <p>\u7b97\u6cd57.2</p> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p> <p>Note</p> <p>\u770bon-policy\u7684Q-learning\u7684update q-value\u53ef\u4ee5\u770b\u5230\uff0c\u4e0eSarsa\u7684\u516c\u5f0f\u4e0d\u540c\u7684\u662f\uff0cSarsa\u4e2d\u7684\u6700\u540e\u9879\u662f\\(q_t(s_{t+1},a_{t+1})\\)\uff0c\u800cQ-learning\u7684\u6700\u540e\u9879\u662f\\(\\gamma \\max_a q_t(s_{t+1},a)\\)\u3002\u53ef\u4ee5\u770b\u5230\uff0con-policy\u7248\u672c\u7684Q-learning\u662f\u6839\u636e\u7b56\u7565\u751f\u6210\u7ecf\u9a8c\u6837\u672c\u66f4\u65b0\\(q\\)\u503c\uff0c\u5229\u7528\\(q\\)\u503c\u66f4\u65b0\u7b56\u7565\uff0c\u7136\u540e\u91cd\u590d\u3002</p> <p></p> <p>\u7b97\u6cd57.3</p> <p>Note</p> <p>\u8fd9\u91cc\u4e0eon-policy\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8eupdate target policy\u4ece\\(\\varepsilon\\)-\u8d2a\u5a6a\u7b56\u7565\u53d8\u4e3a\u4e86\u8d2a\u5a6a\u7b56\u7565\u3002</p> <p>=======  </p> <p>\u7b97\u6cd57.3</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0   \u56fe\\(7.3\\)\uff1aQ-Learning\u7b97\u6cd5\u7684\u6f14\u793a\u793a\u4f8b\u3002\u6240\u6709\u8bad\u7ec3\u56de\u5408\u5747\u4ece\u5de6\u4e0a\u89d2\u72b6\u6001\u5f00\u59cb\uff0c\u5e76\u5728\u5230\u8fbe\u76ee\u6807\u72b6\u6001\u540e\u7ec8\u6b62\u3002\u76ee\u6807\u662f\u627e\u5230\u4ece\u8d77\u59cb\u72b6\u6001\u5230\u76ee\u6807\u72b6\u6001\u7684\u6700\u4f18\u8def\u5f84\u3002\u5956\u52b1\u8bbe\u7f6e\u4e3a \\(r_{\\text{target}} =0\\)\u3001\\(r_{\\text{forbidden}} = r_{\\text{boundary}} = -10\\)\uff0c\u4ee5\u53ca \\(r_{\\text{other}} = -1\\)\u3002\u5b66\u4e60\u7387 \\(\\alpha =0.1\\)\uff0c\\(\\gamma\\)\u503c\u4e3a0.1\u3002\u5de6\u56fe\u663e\u793a\u7b97\u6cd5\u83b7\u5f97\u7684\u6700\u7ec8\u7b56\u7565\uff0c\u53f3\u56fe\u5c55\u793a\u6bcf\u4e2a\u8bad\u7ec3\u56de\u5408\u7684\u603b\u5956\u52b1\u4e0e\u8def\u5f84\u957f\u5ea6\u3002</p>"},{"location":"Chapter-7/7-4/#sarsa","title":"\u539f\u56e0\u4e0eSarsa\u7b97\u6cd5\u7c7b\u4f3c\u3002\u5f85\u8bc4\u4f30\u548c\u6539\u8fdb\u7684\u76ee\u6807\u7b56\u7565\u4e0e\u751f\u6210\u6837\u672c\u7684\u884c\u4e3a\u7b56\u7565\u662f\u76f8\u540c\u7684\u3002","text":"<p>\u53ef\u4ee5\u770b\u51fa\uff0c\u884c\u4e3a\u7b56\u7565 \\(\\pi_b\\)\u662f\u5728\u72b6\u6001 \\(s_t\\)\u4e0b\u751f\u6210\u52a8\u4f5c \\(a_t\\)\u3001\u5728\u72b6\u6001 \\(s_{t+1}\\)\u4e0b\u751f\u6210\u52a8\u4f5c \\(a_{t+1}\\)\u7684\u7b56\u7565\u3002Sarsa\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u4f30\u8ba1\u76ee\u6807\u7b56\u7565 \\(\\pi_T\\)\u5728\u72b6\u6001-\u52a8\u4f5c\u5bf9 \\((s_t, a_t)\\)\u5904\u7684\u52a8\u4f5c\u503c\u51fd\u6570\uff1b\u4e4b\u6240\u4ee5\u79f0\u4e3a\u76ee\u6807\u7b56\u7565\uff0c\u662f\u56e0\u4e3a\u5b83\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u4f1a\u6839\u636e\u4f30\u8ba1\u503c\u8fdb\u884c\u6539\u8fdb\u3002\u5b9e\u9645\u4e0a\uff0c\\(\\pi_T\\)\u4e0e \\(\\pi_b\\)\u662f\u76f8\u540c\u7684\uff0c\u56e0\u4e3a\u5bf9 \\(\\pi_T\\)\u7684\u8bc4\u4f30\u4f9d\u8d56\u4e8e\u6837\u672c \\((r_{t+1}, s_{t+1}, a_{t+1})\\)\uff0c\u5176\u4e2d \\(a_{t+1}\\)\u6b63\u662f\u9075\u5faa \\(\\pi_b\\)\u751f\u6210\u7684\u3002\u6362\u8a00\u4e4b\uff0cSarsa\u6240\u8bc4\u4f30\u7684\u7b56\u7565\u6b63\u662f\u7528\u4e8e\u751f\u6210\u6837\u672c\u7684\u7b56\u7565\u3002</p>"},{"location":"Chapter-7/7-4/#743","title":"7.4.3 \u7b97\u6cd5\u5b9e\u73b0","text":"<p>\u7531\u4e8eQ-learning\u5c5e\u4e8eoff-policy\u7b97\u6cd5\uff0c\u56e0\u6b64\u65e2\u53ef\u91c7\u7528on-policy\u4e5f\u53ef\u91c7\u7528off-policy\u65b9\u5f0f\u5b9e\u73b0\u3002</p> <p>Q\u5b66\u4e60\u7684on-policy\u7248\u672c\u5982\u7b97\u6cd57.2\u6240\u793a\u3002\u8be5\u5b9e\u73b0\u65b9\u5f0f\u4e0e\u7b97\u6cd57.1\u4e2d\u7684Sarsa\u7b97\u6cd5\u7c7b\u4f3c\u3002\u5176\u4e2d\uff0c\u884c\u4e3a\u7b56\u7565\u4e0e\u76ee\u6807\u7b56\u7565\u76f8\u540c\uff0c\u5747\u4e3a\\(\\varepsilon\\)-\u8d2a\u5a6a\u7b56\u7565\u3002</p> <p>off-policy\u7248\u672c\u5982\u7b97\u6cd5\\(7.3\\)\u6240\u793a\u3002\u884c\u4e3a\u7b56\u7565\\(\\pi_b\\)\u53ef\u4ee5\u662f\u4efb\u610f\u7b56\u7565\uff0c\u53ea\u8981\u5176\u80fd\u751f\u6210\u8db3\u591f\u7684\u7ecf\u9a8c\u6837\u672c\u3002\u5f53\\(\\pi_b\\)\u5177\u6709\u63a2\u7d22\u6027\u65f6\u901a\u5e38\u66f4\u6709\u5229\u3002\u6b64\u5904\u76ee\u6807\u7b56\u7565\\(\\pi_T\\)\u91c7\u7528\u8d2a\u5a6a\u7b56\u7565\u800c\u975e\\(\\varepsilon\\)-\u8d2a\u5a6a\u7b56\u7565\uff0c\u56e0\u5176\u4e0d\u7528\u4e8e\u751f\u6210\u6837\u672c\uff0c\u6545\u65e0\u9700\u5177\u5907\u63a2\u7d22\u6027\u3002\u6b64\u5916\uff0c\u672c\u6587\u63d0\u51fa\u7684Q-learning off-policy\u7248\u672c\u91c7\u7528offline\u5b9e\u73b0\u65b9\u5f0f\uff1a\u6240\u6709\u7ecf\u9a8c\u6837\u672c\u5747\u9700\u5148\u91c7\u96c6\u540e\u5904\u7406\u3002</p>"},{"location":"Chapter-7/7-4/#744","title":"7.4.4 \u793a\u4f8b","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u901a\u8fc7\u793a\u4f8b\u5c55\u793aQ-learning\u7b97\u6cd5\u7684\u5e94\u7528\u3002</p> <p>\u7b2c\u4e00\u4e2a\u793a\u4f8b\u5982\u56fe\\(7.3\\)\u6240\u793a\uff0c\u5b83\u5c55\u793a\u4e86on-policy Q-learning\u7684\u8fc7\u7a0b\u3002\u8be5\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u4ece\u521d\u59cb\u72b6\u6001\u627e\u5230\u4e00\u6761\u901a\u5f80\u76ee\u6807\u72b6\u6001\u7684\u6700\u4f18\u8def\u5f84\u3002\u5177\u4f53\u5b9e\u9a8c\u8bbe\u7f6e\u89c1\u56fe\\(7.3\\)\u7684\u56fe\u6ce8\u8bf4\u660e\u3002\u53ef\u4ee5\u770b\u51fa\uff0cQ-learning\u6700\u7ec8\u80fd\u591f\u627e\u5230\u6700\u4f18\u8def\u5f84\u3002\u5728\u5b66\u4e60\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u4e2a\u8bad\u7ec3\u5468\u671f\u7684\u8def\u5f84\u957f\u5ea6\u9010\u6e10\u7f29\u77ed\uff0c\u800c\u5bf9\u5e94\u7684\u603b\u5956\u52b1\u503c\u5219\u6301\u7eed\u589e\u52a0\u3002</p> <p>\u7b2c\u4e8c\u7ec4\u793a\u4f8b\u5982\u56fe\\(7.4\\)\u548c\u56fe\\(7.5\\)\u6240\u793a\uff0c\u5c55\u793a\u4e86off-policy Q-learning\u8fc7\u7a0b\u3002\u5176\u76ee\u6807\u662f\u4e3a\u6240\u6709\u72b6\u6001\u5bfb\u627e\u6700\u4f18\u7b56\u7565\u3002\u5956\u52b1\u8bbe\u7f6e\u4e3a \\(r_{\\text{boundary}} = r_{\\text{forbidden}} = -1\\)\uff0c\u4e14 \\(r_{\\text{target}} =1\\)\u3002\u6298\u6263\u7387 \\(\\gamma =0.9\\)\uff0c\u5b66\u4e60\u7387 \\(\\alpha =0.1\\)\u3002</p> <ul> <li> <p>\u57fa\u51c6\u771f\u503c(ground truth)\uff1a\u4e3a\u9a8c\u8bc1 Q-learning\u7684\u6709\u6548\u6027\uff0c\u9996\u5148\u9700\u8981\u83b7\u77e5\u6700\u4f18\u7b56\u7565\u4e0e\u6700\u4f18\u72b6\u6001\u503c\u7684\u57fa\u51c6\u771f\u503c\u3002\u6b64\u5904\u901a\u8fc7\u57fa\u4e8e\u6a21\u578b\u7684\u7b56\u7565\u8fed\u4ee3\u7b97\u6cd5\u83b7\u53d6\u57fa\u51c6\u771f\u503c\uff0c\u5177\u4f53\u6570\u636e\u89c1\u56fe\\(7.4(a)\\)\u4e0e\\((b)\\)\u3002</p> </li> <li> <p>\u7ecf\u9a8c\u6837\u672c(experience samples)\uff1a\u884c\u4e3a\u7b56\u7565\u91c7\u7528\u5747\u5300\u5206\u5e03\uff0c\u5373\u5728\u4efb\u610f\u72b6\u6001\u4e0b\u91c7\u53d6\u4efb\u4e00\u52a8\u4f5c\u7684\u6982\u7387\u5747\u4e3a\\(0.2\\)(\u56fe\\(7.4(c)\\))\u3002\u901a\u8fc7\u751f\u6210\u4e00\u4e2a\u5305\u542b100,000\u6b65\u7684\u5355\u4e00\u56de\u5408(\u56fe\\(7.4(d)\\))\uff0c\u7531\u4e8e\u884c\u4e3a\u7b56\u7565\u5177\u5907\u826f\u597d\u7684\u63a2\u7d22\u80fd\u529b\uff0c\u8be5\u56de\u5408\u4f1a\u591a\u6b21\u8bbf\u95ee\u6240\u6709\u72b6\u6001-\u884c\u52a8\u5bf9\u3002</p> </li> <li> <p>\u5b66\u4e60\u7ed3\u679c(learned results)\uff1a\u57fa\u4e8e\u884c\u4e3a\u7b56\u7565\u751f\u6210\u7684\u56de\u5408\uff0c\u901a\u8fc7Q-learning\u5f97\u5230\u7684\u6700\u7ec8\u76ee\u6807\u7b56\u7565\u5982\u56fe\\(7.4(e)\\)\u6240\u793a\u3002\u8be5\u7b56\u7565\u662f\u6700\u4f18\u7684\uff0c\u56e0\u4e3a\u5982\u56fe\\(7.4(f)\\)\u6240\u793a\uff0c\u5176\u72b6\u6001\u503c\u4f30\u8ba1\u8bef\u5dee(\u5747\u65b9\u6839\u8bef\u5dee)\u6536\u655b\u81f3\u96f6\u3002\u6b64\u5916\uff0c\u53ef\u4ee5\u6ce8\u610f\u5230\u5b66\u4e60\u5f97\u5230\u7684\u6700\u4f18\u7b56\u7565\u4e0e\u56fe\\(7.4(a)\\)\u4e2d\u7684\u7b56\u7565\u5e76\u4e0d\u5b8c\u5168\u76f8\u540c\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5b58\u5728\u591a\u4e2a\u5177\u6709\u76f8\u540c\u6700\u4f18\u72b6\u6001\u503c\u7684\u6700\u4f18\u7b56\u7565\u3002</p> </li> <li> <p>\u4e0d\u540c\u521d\u59cb\u503c\u7684\u5f71\u54cd(different initial values)\uff1a\u7531\u4e8eQ-learning\u91c7\u7528\u81ea\u4e3e\u6cd5(bootstraps)\uff0c\u7b97\u6cd5\u6027\u80fd\u53d6\u51b3\u4e8e\u884c\u52a8\u503c\u7684\u521d\u59cb\u4f30\u8ba1\u503c\u3002\u5982\u56fe\\(7.4(g)\\)\u6240\u793a\uff0c\u5f53\u521d\u59cb\u4f30\u8ba1\u63a5\u8fd1\u771f\u5b9e\u503c\u65f6\uff0c\u7ea6\\(10,000\\)\u6b65\u5185\u5373\u53ef\u6536\u655b\uff1b\u53cd\u4e4b\u5219\u9700\u8981\u66f4\u591a\u8fed\u4ee3\u6b65\u6570(\u56fe\\(7.4(h)\\))\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u8fd9\u4e9b\u7ed3\u679c\u8868\u660e\u5373\u4f7f\u521d\u59cb\u503c\u4e0d\u7cbe\u786e\uff0cQ-learning\u4ecd\u80fd\u4fdd\u6301\u8f83\u5feb\u7684\u6536\u655b\u901f\u5ea6\u3002</p> </li> </ul> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD - \u4e0d\u540c\u884c\u4e3a\u7b56\u7565\u7684\u8868\u73b0\u5dee\u5f02(different behavior policies)\uff1a\u5f53\u884c\u4e3a\u7b56\u7565\u4e0d\u5177\u5907\u63a2\u7d22\u6027\u65f6\uff0c\u5b66\u4e60\u6027\u80fd\u4f1a\u663e\u8457\u4e0b\u964d\u3002\u4f8b\u5982\uff0c\u8003\u8651\u56fe\\(7.5\\)\u6240\u793a\u7684\u7b56\u7565\uff0c\u5b83\u4eec\u662f\\(\\epsilon\\)-\u8d2a\u5fc3\u7b56\u7565(\\(\\epsilon=0.5\\)\u6216\\(0.1\\))\uff1b\u56fe\\(7.4(c)\\)\u4e2d\u7684\u5747\u5300\u7b56\u7565\u53ef\u89c6\u4e3a\\(\\epsilon=1\\)\u7684\\(\\epsilon\\)-\u8d2a\u5fc3\u7b56\u7565\uff09\u3002\u7814\u7a76\u8868\u660e\uff0c\u5f53\\(\\epsilon\\)\u4ece1\u964d\u81f30.5\u518d\u964d\u81f30.1\u65f6\uff0c\u5b66\u4e60\u901f\u5ea6\u6025\u5267\u4e0b\u964d\u3002\u8fd9\u662f\u56e0\u4e3a\u7b56\u7565\u7684\u63a2\u7d22\u80fd\u529b\u8f83\u5f31\uff0c\u5bfc\u81f4\u7ecf\u9a8c\u6837\u672c\u4e0d\u8db3\u3002</p> <p></p> <p>\u56fe\\(7.4\\)\uff1a\u901a\u8fc7Q-learning\u6f14\u793aoff-policy\u5b66\u4e60\u7684\u793a\u4f8b\u3002\\((a)\\)\u548c\\((b)\\)\u5206\u522b\u663e\u793a\u4e86\u6700\u4f18\u7b56\u7565\u548c\u6700\u4f18\u72b6\u6001\u503c\u3002\\((c)\\)\u548c\\((d)\\)\u5206\u522b\u5c55\u793a\u4e86\u884c\u4e3a\u7b56\u7565\u548c\u751f\u6210\u7684\u8f68\u8ff9\u3002\\((e)\\)\u548c\\((f)\\)\u5206\u522b\u5448\u73b0\u4e86\u4f30\u8ba1\u7b56\u7565\u4e0e\u8bef\u5dee\u6f14\u53d8\u8fc7\u7a0b\u3002\\((g)\\)\u548c\\((h)\\)\u5219\u663e\u793a\u4e86\u4e0d\u540c\u521d\u59cb\u503c\u6761\u4ef6\u4e0b\u7684\u5bf9\u6bd4\u60c5\u51b5\u3002</p> <p></p>"},{"location":"Chapter-7/7-4/#75q-learning100000","title":"\u56fe\\(7.5\\)\uff1a\u5f53\u884c\u4e3a\u7b56\u7565\u4e0d\u5177\u5907\u63a2\u7d22\u6027\u65f6\uff0cQ-learning\u7b97\u6cd5\u7684\u6027\u80fd\u4f1a\u4e0b\u964d\u3002\u5de6\u5217\u5404\u56fe\u5c55\u793a\u4e86\u884c\u4e3a\u7b56\u7565\u7684\u5206\u5e03\u7279\u5f81\u3002\u4e2d\u95f4\u5217\u5404\u56fe\u5448\u73b0\u4e86\u5bf9\u5e94\u884c\u4e3a\u7b56\u7565\u4e0b\u751f\u6210\u7684\u8f68\u8ff9\u5e8f\u5217\uff0c\u6bcf\u4e2a\u793a\u4f8b\u4e2d\u7684\u8f68\u8ff9\u5747\u5305\u542b\\(100,000\\)\u6b65\u3002\u53f3\u5217\u5404\u56fe\u5219\u663e\u793a\u4e86\u72b6\u6001\u503c\u4f30\u8ba1\u503c\u7684\u5747\u65b9\u6839\u8bef\u5dee\u6f14\u53d8\u8fc7\u7a0b\u3002","text":"<ul> <li>\u4e0d\u540c\u884c\u4e3a\u7b56\u7565\u7684\u8868\u73b0\u5dee\u5f02(different behavior policies)\uff1a\u5f53\u884c\u4e3a\u7b56\u7565\u4e0d\u5177\u5907\u63a2\u7d22\u6027\u65f6\uff0c\u5b66\u4e60\u6027\u80fd\u4f1a\u663e\u8457\u4e0b\u964d\u3002\u4f8b\u5982\uff0c\u8003\u8651\u56fe\\(7.5\\)\u6240\u793a\u7684\u7b56\u7565\uff0c\u5b83\u4eec\u662f\\(\\epsilon\\)-\u8d2a\u5fc3\u7b56\u7565\uff08\\(\\epsilon=0.5\\)\u6216\\(0.1\\)\uff1b\u56fe\\(7.4(c)\\)\u4e2d\u7684\u5747\u5300\u7b56\u7565\u53ef\u89c6\u4e3a\\(\\epsilon=1\\)\u7684\\(\\epsilon\\)-\u8d2a\u5fc3\u7b56\u7565\uff09\u3002\u7814\u7a76\u8868\u660e\uff0c\u5f53\\(\\epsilon\\)\u4ece1\u964d\u81f30.5\u518d\u964d\u81f30.1\u65f6\uff0c\u5b66\u4e60\u901f\u5ea6\u6025\u5267\u4e0b\u964d\u3002\u8fd9\u662f\u56e0\u4e3a\u7b56\u7565\u7684\u63a2\u7d22\u80fd\u529b\u8f83\u5f31\uff0c\u5bfc\u81f4\u7ecf\u9a8c\u6837\u672c\u4e0d\u8db3\u3002 <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> </li> </ul>"},{"location":"Chapter-7/7-5/","title":"7.5-\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5\u7684\u7edf\u4e00\u6846\u67b6","text":""},{"location":"Chapter-7/7-5/#75","title":"7.5 \u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5\u7684\u7edf\u4e00\u6846\u67b6","text":"<p>\u622a\u81f3\u76ee\u524d\uff0c\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u591a\u79cd\u65f6\u5e8f\u5dee\u5206\uff08TD\uff09\u7b97\u6cd5\uff0c\u4f8b\u5982Sarsa\u3001n\u6b65Sarsa\u548cQ-learning\u3002\u672c\u8282\u5c06\u63d0\u51fa\u4e00\u4e2a\u7edf\u4e00\u6846\u67b6\uff0c\u7528\u4ee5\u517c\u5bb9\u4e0a\u8ff0\u6240\u6709\u7b97\u6cd5\u53ca\u8499\u7279\u5361\u6d1b(MC)\u5b66\u4e60\u65b9\u6cd5\u3002</p> <p>\u7279\u522b\u5730\uff0c\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5\uff08\u7528\u4e8e\u884c\u52a8\u503c\u4f30\u8ba1)\u53ef\u7edf\u4e00\u8868\u793a\u4e3a\uff1a</p> \\[q_{t+1}(s_t,a_t)=q_t(s_t,a_t)-\\alpha_t(s_t,a_t)[q_t(s_t,a_t)-\\bar{q}_t],\\tag{7.20}\\]"},{"location":"Chapter-7/7-5/#head","title":"&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD","text":"<p>\u56fe\\(7.4\\)\uff1a\u901a\u8fc7Q-learning\u6f14\u793aoff-policy\u5b66\u4e60\u7684\u793a\u4f8b\u3002(a)\u548c(b)\u5206\u522b\u663e\u793a\u4e86\u6700\u4f18\u7b56\u7565\u548c\u6700\u4f18\u72b6\u6001\u503c\u3002\u00a9\u548c(d)\u5206\u522b\u5c55\u793a\u4e86\u884c\u4e3a\u7b56\u7565\u548c\u751f\u6210\u7684\u8f68\u8ff9\u3002(e)\u548c(f)\u5206\u522b\u5448\u73b0\u4e86\u4f30\u8ba1\u7b56\u7565\u4e0e\u8bef\u5dee\u6f14\u53d8\u8fc7\u7a0b\u3002(g)\u548c(h)\u5219\u663e\u793a\u4e86\u4e0d\u540c\u521d\u59cb\u503c\u6761\u4ef6\u4e0b\u7684\u5bf9\u6bd4\u60c5\u51b5\u3002</p> <p></p> <p>\u56fe\\(7.5\\)\uff1a\u5f53\u884c\u4e3a\u7b56\u7565\u4e0d\u5177\u5907\u63a2\u7d22\u6027\u65f6\uff0cQ-learning\u7b97\u6cd5\u7684\u6027\u80fd\u4f1a\u4e0b\u964d\u3002\u5de6\u5217\u5404\u56fe\u5c55\u793a\u4e86\u884c\u4e3a\u7b56\u7565\u7684\u5206\u5e03\u7279\u5f81\u3002\u4e2d\u95f4\u5217\u5404\u56fe\u5448\u73b0\u4e86\u5bf9\u5e94\u884c\u4e3a\u7b56\u7565\u4e0b\u751f\u6210\u7684\u8f68\u8ff9\u5e8f\u5217\uff0c\u6bcf\u4e2a\u793a\u4f8b\u4e2d\u7684\u8f68\u8ff9\u5747\u5305\u542b\\(100,000\\)\u6b65\u3002\u53f3\u5217\u5404\u56fe\u5219\u663e\u793a\u4e86\u72b6\u6001\u503c\u4f30\u8ba1\u503c\u7684\u5747\u65b9\u6839\u8bef\u5dee\u6f14\u53d8\u8fc7\u7a0b\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0   \u88687.2\uff1a\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5\u7684\u7edf\u4e00\u89c6\u89d2\u3002\u5176\u4e2dBE\u548cBOE\u5206\u522b\u8868\u793a\u8d1d\u5c14\u66fc\u65b9\u7a0b(Bellman equation)\u548c\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b(Bellman optimality equation)\u3002</p> <p>\u5176\u4e2d \\(\\bar{q}_t\\)\u4e3aTD\u76ee\u6807\u503c\u3002\u4e0d\u540c\u7684\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5\u5bf9\u5e94\u4e0d\u540c\u7684\\(\\bar{q}_t\\)\u8868\u8fbe\u5f0f\uff0c\u5177\u4f53\u603b\u7ed3\u89c1\u88687.2\u3002\u8499\u7279\u5361\u6d1b\u5b66\u4e60\u7b97\u6cd5\u53ef\u89c6\u4e3a\u5f0f\\((7.20)\\)\u7684\u7279\u4f8b\uff1a\u4ee4 \\(\\alpha_t(s_t, a_t) =1\\)\u65f6\uff0c\u5f0f(7.20)\u5373\u9000\u5316\u4e3a \\(q_{t+1}(s_t, a_t) = \\bar{q}_t\\)\u3002</p> <p>\u7b97\u6cd5\\((7.20)\\)\u53ef\u89c6\u4e3a\u6c42\u89e3\u7edf\u4e00\u65b9\u7a0b\\(q(s, a) = E[\\bar{q}_t|s, a]\\)\u7684\u968f\u673a\u8fd1\u4f3c\u7b97\u6cd5\u3002\u8be5\u65b9\u7a0b\u968f \\(\\bar{q}_t\\)\u7684\u4e0d\u540c\u5177\u6709\u4e0d\u540c\u8868\u8fbe\u5f62\u5f0f\uff0c\u5176\u5bf9\u5e94\u5173\u7cfb\u603b\u7ed3\u4e8e\u8868\\(7.2\\)\u4e2d\u3002\u7531\u6b64\u53ef\u89c1\uff0c\u9664 Q-learning\u7b97\u6cd5\u4ee5\u6c42\u89e3\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u4e3a\u76ee\u6807\u5916\uff0c\u5176\u4f59\u7b97\u6cd5\u5747\u81f4\u529b\u4e8e\u6c42\u89e3\u8d1d\u5c14\u66fc\u65b9\u7a0b\u3002</p>"},{"location":"Chapter-7/7-6/","title":"7.6-\u603b\u7ed3","text":""},{"location":"Chapter-7/7-6/#76","title":"7.6 \u603b\u7ed3","text":"<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u672c\u7ae0\u4ecb\u7ecd\u4e86\u4e00\u7c7b\u91cd\u8981\u7684\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u2014\u2014\u65f6\u5e8f\u5dee\u5206(TD)\u5b66\u4e60\u3002\u5177\u4f53\u6db5\u76d6\u7684\u7b97\u6cd5\u5305\u62ec Sarsa\u3001n\u6b65-Sarsa\u4ee5\u53caQ-learning\u3002\u8fd9\u4e9b\u7b97\u6cd5\u5747\u53ef\u89c6\u4e3a\u6c42\u89e3\u8d1d\u5c14\u66fc\u65b9\u7a0b\u6216\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u7684\u968f\u673a\u8fd1\u4f3c\u7b97\u6cd5\u3002</p> <p>\u672c\u7ae0\u4ecb\u7ecd\u7684TD\u7b97\u6cd5(\u9664Q-learning\u5916)\u5747\u7528\u4e8e\u7b56\u7565\u8bc4\u4f30\uff0c\u5373\u901a\u8fc7\u7ecf\u9a8c\u6837\u672c\u4f30\u8ba1\u7ed9\u5b9a\u7b56\u7565\u7684\u72b6\u6001\u503c/\u884c\u52a8\u503c\u3002\u7ed3\u5408\u7b56\u7565\u6539\u8fdb\u673a\u5236\uff0c\u8fd9\u4e9b\u7b97\u6cd5\u53ef\u7528\u4e8e\u5b66\u4e60\u6700\u4f18\u7b56\u7565\u3002\u6b64\u5916\uff0c\u8fd9\u4e9b\u7b97\u6cd5\u5747\u5c5e\u4e8eon-policy\u65b9\u6cd5\uff1a\u76ee\u6807\u7b56\u7565\u540c\u65f6\u4f5c\u4e3a\u884c\u4e3a\u7b56\u7565\u6765\u751f\u6210\u7ecf\u9a8c\u6837\u672c\u3002</p>"},{"location":"Chapter-7/7-6/#tdq-learningoff-policyq-learningq-learning","title":"\u4e0eTD\u7b97\u6cd5\u76f8\u6bd4\uff0cQ-learning\u5177\u6709\u4e00\u4e2a\u7279\u6b8a\u6027\u8d28\uff1a\u5b83\u662f\u4e00\u79cdoff-policy\u7b97\u6cd5\u3002\u5728Q-learning\u4e2d\uff0c\u76ee\u6807\u7b56\u7565\u53ef\u4ee5\u4e0e\u884c\u4e3a\u7b56\u7565\u4e0d\u540c\u3002\u5176\u6839\u672c\u539f\u56e0\u5728\u4e8e\uff0cQ-learning\u65e8\u5728\u6c42\u89e3\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\uff0c\u800c\u975e\u7279\u5b9a\u7b56\u7565\u5bf9\u5e94\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u3002","text":"<p>\u672c\u7ae0\u4ecb\u7ecd\u4e86\u4e00\u7c7b\u91cd\u8981\u7684\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u2014\u2014\u65f6\u5e8f\u5dee\u5206(TD)\u5b66\u4e60\u3002\u5177\u4f53\u6db5\u76d6\u7684\u7b97\u6cd5\u5305\u62ec Sarsa\u3001n\u6b65 Sarsa\u4ee5\u53ca Q\u5b66\u4e60\u3002\u8fd9\u4e9b\u7b97\u6cd5\u5747\u53ef\u89c6\u4e3a\u6c42\u89e3\u8d1d\u5c14\u66fc\u65b9\u7a0b\u6216\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u7684\u968f\u673a\u8fd1\u4f3c\u7b97\u6cd5\u3002</p> <p>\u672c\u7ae0\u4ecb\u7ecd\u7684\u65f6\u5e8f\u5dee\u5206(TD)\u7b97\u6cd5(\u9664Q-learning\u5916)\u5747\u7528\u4e8e\u7b56\u7565\u8bc4\u4f30\uff0c\u5373\u901a\u8fc7\u7ecf\u9a8c\u6837\u672c\u4f30\u8ba1\u7ed9\u5b9a\u7b56\u7565\u7684\u72b6\u6001\u503c/\u884c\u52a8\u503c\u3002\u7ed3\u5408\u7b56\u7565\u6539\u8fdb\u673a\u5236\uff0c\u8fd9\u4e9b\u7b97\u6cd5\u53ef\u7528\u4e8e\u5b66\u4e60\u6700\u4f18\u7b56\u7565\u3002\u6b64\u5916\uff0c\u8fd9\u4e9b\u7b97\u6cd5\u5747\u5c5e\u4e8eon-policy\u65b9\u6cd5\uff1a\u76ee\u6807\u7b56\u7565\u540c\u65f6\u4f5c\u4e3a\u884c\u4e3a\u7b56\u7565\u6765\u751f\u6210\u7ecf\u9a8c\u6837\u672c\u3002</p> <p>\u4e0e\u5176\u4ed6\u65f6\u5e8f\u5dee\u5206(TD)\u7b97\u6cd5\u76f8\u6bd4\uff0cQ-learning\u5177\u6709\u4e00\u4e2a\u7279\u6b8a\u6027\u8d28\uff1a\u5b83\u662f\u4e00\u79cdoff-policy\u7b97\u6cd5\u3002\u5728Q-learning\u4e2d\uff0c\u76ee\u6807\u7b56\u7565\u53ef\u4ee5\u4e0e\u884c\u4e3a\u7b56\u7565\u4e0d\u540c\u3002\u5176\u6839\u672c\u539f\u56e0\u5728\u4e8e\uff0cQ-learning\u65e8\u5728\u6c42\u89e3\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\uff0c\u800c\u975e\u7279\u5b9a\u7b56\u7565\u5bf9\u5e94\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <p>\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u5b58\u5728\u82e5\u5e72\u65b9\u6cd5\u53ef\u5c06on-policy\u7b97\u6cd5\u8f6c\u5316\u4e3aoff-policy\u7b97\u6cd5\u3002\u91cd\u8981\u6027\u91c7\u6837\u662f\u5176\u4e2d\u5e7f\u6cdb\u5e94\u7528\u7684\u4e00\u79cd[3,40]\uff0c\u5c06\u5728\u7b2c10\u7ae0\u8be6\u8ff0\u3002\u6b64\u5916\uff0c\u672c\u7ae0\u4ecb\u7ecd\u7684\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5\u5b58\u5728\u591a\u79cd\u53d8\u4f53\u4e0e\u6269\u5c55[41\u201345]\uff0c\u4f8b\u5982\\(TD(\\lambda)\\)\u65b9\u6cd5\u4e3a\u65f6\u5e8f\u5dee\u5206\u5b66\u4e60\u63d0\u4f9b\u4e86\u66f4\u901a\u7528\u7edf\u4e00\u7684\u6846\u67b6\u3002\u66f4\u591a\u4fe1\u606f\u53ef\u53c2\u9605\u6587\u732e[3,20,46]\u3002</p>"},{"location":"Chapter-7/intro/","title":"\u4ecb\u7ecd","text":"<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u672c\u7ae0\u4ecb\u7ecd\u5f3a\u5316\u5b66\u4e60\u4e2d\u7684\u65f6\u5e8f\u5dee\u5206(Temporal-Difference, TD)\u65b9\u6cd5\u3002\u4e0e\u8499\u7279\u5361\u6d1b(Monte Carlo, MC)\u5b66\u4e60\u7c7b\u4f3c\uff0cTD\u5b66\u4e60\u540c\u6837\u5c5e\u4e8e\u65e0\u6a21\u578b\u65b9\u6cd5\uff0c\u4f46\u5176\u589e\u91cf\u5f0f\u66f4\u65b0\u5f62\u5f0f\u5177\u6709\u72ec\u7279\u4f18\u52bf\u3002\u901a\u8fc7\u7b2c6\u7ae0\u7684\u94fa\u57ab\uff0c\u8bfb\u8005\u5728\u63a5\u89e6TD\u5b66\u4e60\u7b97\u6cd5\u65f6\u5c06\u4e0d\u4f1a\u611f\u5230\u964c\u751f\u3002\u4e8b\u5b9e\u4e0a\uff0cTD\u5b66\u4e60\u7b97\u6cd5\u53ef\u89c6\u4e3a\u6c42\u89e3\u8d1d\u5c14\u66fc\u65b9\u7a0b\u6216\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u7684\u7279\u6b8a\u968f\u673a\u7b97\u6cd5\u3002</p> <p>Note</p> <p>MC\u662f\u4e00\u79cdnon-incremental\u7684\u65b9\u6cd5\uff0c\u800cTD\u662f\u4e00\u79cdincremental\u7684\u65b9\u6cd5</p>"},{"location":"Chapter-7/intro/#td","title":"\u7531\u4e8e\u672c\u7ae0\u4ecb\u7ecd\u4e86\u591a\u79cd\u65f6\u5e8f\u5dee\u5206(TD)\u7b97\u6cd5\uff0c\u6211\u4eec\u9996\u5148\u6982\u8ff0\u8fd9\u4e9b\u7b97\u6cd5\u5e76\u5398\u6e05\u5b83\u4eec\u4e4b\u95f4\u7684\u5173\u7cfb\u3002","text":"<p>\u672c\u7ae0\u4ecb\u7ecd\u5f3a\u5316\u5b66\u4e60\u4e2d\u7684\u65f6\u5e8f\u5dee\u5206\uff08Temporal-Difference, TD\uff09\u65b9\u6cd5\u3002\u4e0e\u8499\u7279\u5361\u6d1b\uff08Monte Carlo, MC\uff09\u5b66\u4e60\u7c7b\u4f3c\uff0cTD\u5b66\u4e60\u540c\u6837\u5c5e\u4e8e\u65e0\u6a21\u578b\u65b9\u6cd5\uff0c\u4f46\u5176\u589e\u91cf\u5f0f\u66f4\u65b0\u5f62\u5f0f\u5177\u6709\u72ec\u7279\u4f18\u52bf\u3002\u901a\u8fc7\u7b2c6\u7ae0\u7684\u94fa\u57ab\uff0c\u8bfb\u8005\u5728\u63a5\u89e6TD\u5b66\u4e60\u7b97\u6cd5\u65f6\u5c06\u4e0d\u4f1a\u611f\u5230\u964c\u751f\u3002\u4e8b\u5b9e\u4e0a\uff0cTD\u5b66\u4e60\u7b97\u6cd5\u53ef\u89c6\u4e3a\u6c42\u89e3\u8d1d\u5c14\u66fc\u65b9\u7a0b\u6216\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u7684\u7279\u6b8a\u968f\u673a\u7b97\u6cd5\u3002</p> <p>\u7531\u4e8e\u672c\u7ae0\u4ecb\u7ecd\u4e86\u591a\u79cd\u65f6\u5e8f\u5dee\u5206\uff08TD\uff09\u7b97\u6cd5\uff0c\u6211\u4eec\u9996\u5148\u6982\u8ff0\u8fd9\u4e9b\u7b97\u6cd5\u5e76\u5398\u6e05\u5b83\u4eec\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <ul> <li> <p>\u7b2c7.1\u8282\u4ecb\u7ecd\u4e86\u6700\u57fa\u672c\u7684TD\u7b97\u6cd5\uff0c\u8be5\u7b97\u6cd5\u80fd\u591f\u4f30\u8ba1\u7ed9\u5b9a\u7b56\u7565\u7684\u72b6\u6001\u503c\u3002\u5728\u7814\u7a76\u5176\u4ed6\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5\u4e4b\u524d\uff0c\u9996\u5148\u7406\u89e3\u8fd9\u4e00\u57fa\u7840\u7b97\u6cd5\u81f3\u5173\u91cd\u8981\u3002</p> </li> <li> <p>7.2\u8282\u4ecb\u7ecd\u4e86Sarsa\u7b97\u6cd5\uff0c\u8be5\u7b97\u6cd5\u80fd\u591f\u4f30\u8ba1\u7ed9\u5b9a\u7b56\u7565\u7684\u884c\u52a8\u503c\u3002\u901a\u8fc7\u7ed3\u5408\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\uff0c\u8be5\u7b97\u6cd5\u53ef\u7528\u4e8e\u6c42\u89e3\u6700\u4f18\u7b56\u7565\u3002\u53ea\u9700\u5c067.1\u8282TD\u7b97\u6cd5\u4e2d\u7684\u72b6\u6001\u4ef7\u503c\u4f30\u8ba1\u66ff\u6362\u4e3a\u884c\u52a8\u503c\u4f30\u8ba1\uff0c\u5373\u53ef\u76f4\u63a5\u5bfc\u51faSarsa\u7b97\u6cd5\u3002</p> </li> </ul> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD - 7.3\u8282\u5c06\u4ecb\u7ecd n\u6b65-Sarsa\u7b97\u6cd5\uff0c\u8be5\u7b97\u6cd5\u662fSarsa\u7b97\u6cd5\u7684\u5e7f\u4e49\u5f62\u5f0f\u3002\u7814\u7a76\u8868\u660e\uff0cSarsa\u4e0e\u8499\u7279\u5361\u6d1b(MC)\u5b66\u4e60\u5747\u4e3an\u6b65-Sarsa\u7684\u4e24\u4e2a\u7279\u4f8b\u3002</p> <ul> <li>7.4\u8282\u4ecb\u7ecd\u4e86Q-learning\u7b97\u6cd5\uff0c\u8fd9\u662f\u6700\u7ecf\u5178\u7684\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u4e4b\u4e00\u3002\u5176\u4ed6TD\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u6c42\u89e3\u7ed9\u5b9a\u7b56\u7565\u7684\u8d1d\u5c14\u66fc\u65b9\u7a0b\uff0c\u800c Q-learning\u5219\u65e8\u5728\u76f4\u63a5\u6c42\u89e3\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b\u4ee5\u83b7\u5f97\u6700\u4f18\u7b56\u7565\u3002</li> </ul>"},{"location":"Chapter-7/intro/#-75td","title":"- 7.5\u8282\u6bd4\u8f83\u4e86\u672c\u7ae0\u4ecb\u7ecd\u7684TD\u7b97\u6cd5\uff0c\u5e76\u63d0\u4f9b\u4e86\u7edf\u4e00\u7684\u89c2\u70b9\u3002","text":"<ul> <li> <p>7.3\u8282\u5c06\u4ecb\u7ecd n\u6b65 Sarsa\u7b97\u6cd5\uff0c\u8be5\u7b97\u6cd5\u662f Sarsa\u7b97\u6cd5\u7684\u5e7f\u4e49\u5f62\u5f0f\u3002\u7814\u7a76\u8868\u660e\uff0cSarsa\u4e0e\u8499\u7279\u5361\u6d1b\uff08MC\uff09\u5b66\u4e60\u5747\u4e3a n\u6b65 Sarsa\u7684\u4e24\u4e2a\u7279\u4f8b\u3002</p> </li> <li> <p>7.4\u8282\u4ecb\u7ecd\u4e86 Q-learning\u7b97\u6cd5\uff0c\u8fd9\u662f\u6700\u7ecf\u5178\u7684\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u4e4b\u4e00\u3002\u5176\u4ed6 TD\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u6c42\u89e3\u7ed9\u5b9a\u7b56\u7565\u7684 Bellman\u65b9\u7a0b\uff0c\u800c Q-learning\u5219\u65e8\u5728\u76f4\u63a5\u6c42\u89e3 Bellman\u6700\u4f18\u6027\u65b9\u7a0b\u4ee5\u83b7\u5f97\u6700\u4f18\u7b56\u7565\u3002</p> </li> <li> <p>7.5\u8282\u6bd4\u8f83\u4e86\u672c\u7ae0\u4ecb\u7ecd\u7684 TD\u7b97\u6cd5\uff0c\u5e76\u63d0\u4f9b\u4e86\u7edf\u4e00\u7684\u89c2\u70b9\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> </li> </ul>"},{"location":"Chapter-8/8-1/","title":"8.1-\u4ef7\u503c\u8868\u793a:\u4ece\u8868\u683c\u5230\u51fd\u6570","text":""},{"location":"Chapter-8/8-1/#81","title":"8.1 \u4ef7\u503c\u8868\u793a: \u4ece\u8868\u683c\u5230\u51fd\u6570","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u793a\u4f8b\u6765\u5c55\u793a\u8868\u683c\u5316\u65b9\u6cd5\u4e0e\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u4e4b\u95f4\u7684\u5dee\u5f02\u3002</p> <p>\u5047\u8bbe\u5b58\u5728\\(n\\)\u4e2a\u72b6\u6001\\(\\{s_i\\}_{i=1}^n\\)\uff0c\u5176\u72b6\u6001\u503c\u4e3a\\(\\{v_\\pi(s_i)\\}_{i=1}^n\\)\uff0c\u5176\u4e2d\\(\\pi\\)\u4e3a\u7ed9\u5b9a\u7b56\u7565\u3002\u4ee4\\(\\{\\hat{v}(s_i)\\}_{i=1}^n\\)\u8868\u793a\u5bf9\u771f\u5b9e\u72b6\u6001\u503c\u7684\u4f30\u8ba1\u503c\u3002\u82e5\u91c7\u7528\u8868\u683c\u6cd5\uff0c\u8fd9\u4e9b\u4f30\u8ba1\u503c\u53ef\u7ef4\u62a4\u4e8e\u4e0b\u8868\u4e2d\u3002\u8be5\u8868\u5728\u5185\u5b58\u4e2d\u53ef\u5b58\u50a8\u4e3a\u6570\u7ec4\u6216\u5411\u91cf\uff0c\u901a\u8fc7\u76f4\u63a5\u8bfb\u5199\u8868\u4e2d\u5bf9\u5e94\u6761\u76ee\u5373\u53ef\u5b9e\u73b0\u503c\u7684\u68c0\u7d22\u6216\u66f4\u65b0\u3002</p> \u72b6\u6001 \\(s_1\\) \\(s_2\\) \\(\\cdots\\) \\(s_n\\) \u4f30\u8ba1\u503c \\(\\hat{v}(s_1)\\) \\(\\hat{v}(s_2)\\) \\(\\cdots\\) \\(\\hat{v}(s_n)\\) <p>\u63a5\u4e0b\u6765\u8bc1\u660e\u4e0a\u8868\u4e2d\u7684\u503c\u53ef\u901a\u8fc7\u51fd\u6570\u903c\u8fd1\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5c06 \\(\\{(s_i, \\hat{v}(s_i))\\}_{i=1}^n\\)\u8868\u793a\u4e3a\u56fe\\(8.2\\)\u4e2d\u7684\\(n\\)\u4e2a\u70b9\uff0c\u8fd9\u4e9b\u70b9\u53ef\u901a\u8fc7\u66f2\u7ebf\u8fdb\u884c\u62df\u5408\u6216\u903c\u8fd1\u3002\u6700\u7b80\u5355\u7684\u66f2\u7ebf\u662f\u76f4\u7ebf\uff0c\u5176\u8868\u8fbe\u5f0f\u4e3a\uff1a</p> \\[\\hat{v}(s,w)=as+b=\\underbrace{[s,1]}_{\\phi^T(s)}\\underbrace{\\begin{bmatrix}a\\\\b\\end{bmatrix}}_{w}=\\phi^T(s)w.\\tag{8.1}\\] <p></p> <p>\u56fe\\(8.2\\)\uff1a\u51fd\u6570\u903c\u8fd1\u65b9\u6cd5\u793a\u610f\u56fe\u3002\\(x\\)\u8f74\u548c\\(y\\)\u8f74\u5206\u522b\u5bf9\u5e94\\(s\\)\u4e0e\\(\\hat{v}(s)\\)\u3002</p> <p>\u6b64\u5904\uff0c\\(\\hat{v}(s, w)\\)\u662f\u7528\u4e8e\u903c\u8fd1\\(v_\\pi(s)\\)\u7684\u51fd\u6570\u3002\u8be5\u51fd\u6570\u7531\u72b6\u6001\\(s\\)\u548c\u53c2\u6570\u5411\u91cf\\(w \\in \\mathbb{R}^2\\)\u5171\u540c\u51b3\u5b9a\u3002\\(\\hat{v}(s, w)\\)\u6709\u65f6\u4e5f\u5199\u4f5c\\(\\hat{v}_w(s)\\)\u3002\u5176\u4e2d\\(\\phi(s) \\in \\mathbb{R}^2\\)\u79f0\u4e3a\u72b6\u6001\\(s\\)\u7684\u7279\u5f81\u5411\u91cf\u3002</p> <p>\u8868\u683c\u5316\u65b9\u6cd5\u4e0e\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u4e4b\u95f4\u7684\u5dee\u5f02\u5728\u4e8e\u5176\u6570\u503c\u68c0\u7d22\u4e0e\u66f4\u65b0\u673a\u5236\u3002</p> <ul> <li> <p>\u5982\u4f55\u68c0\u7d22\u6570\u503c\uff1a\u5f53\u6570\u503c\u4ee5\u8868\u683c\u5f62\u5f0f\u5448\u73b0\u65f6\uff0c\u82e5\u9700\u68c0\u7d22\u7279\u5b9a\u503c\uff0c\u53ef\u76f4\u63a5\u8bfb\u53d6\u8868\u4e2d\u5bf9\u5e94\u6761\u76ee\u3002\u7136\u800c\uff0c\u5f53\u6570\u503c\u7531\u51fd\u6570\u8868\u793a\u65f6\uff0c\u83b7\u53d6\u7279\u5b9a\u503c\u7684\u8fc7\u7a0b\u4f1a\u7a0d\u663e\u590d\u6742\u3002\u5177\u4f53\u800c\u8a00\uff0c\u6211\u4eec\u9700\u8981\u5c06\u72b6\u6001\u7d22\u5f15\\(s\\)\u8f93\u5165\u51fd\u6570\u5e76\u8ba1\u7b97\u51fd\u6570\u503c(\u56fe\\(8.3\\))\u3002\u4ee5\u5f0f\\((8.1)\\)\u4e3a\u4f8b\uff0c\u9996\u5148\u9700\u8981\u8ba1\u7b97\u7279\u5f81\u5411\u91cf\\(\\phi(s)\\)\uff0c\u518d\u8ba1\u7b97\\(\\phi^T(s)w\\)\u3002\u82e5\u51fd\u6570\u4e3a\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\uff0c\u5219\u9700\u4ece\u8f93\u5165\u5c42\u5230\u8f93\u51fa\u5c42\u6267\u884c\u524d\u5411\u4f20\u64ad\u8ba1\u7b97\u3002</p> <p></p> <p>\u56fe\\(8.3\\)\uff1a\u51fd\u6570\u8fd1\u4f3c\u6cd5\u6c42\u89e3\\(s\\)\u503c\u8fc7\u7a0b\u7684\u793a\u610f\u56fe\u3002</p> <p>\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u5728\u5b58\u50a8\u6548\u7387\u65b9\u9762\u66f4\u5177\u4f18\u52bf\uff0c\u8fd9\u6e90\u4e8e\u5176\u72b6\u6001\u503c\u7684\u83b7\u53d6\u65b9\u5f0f\u3002\u5177\u4f53\u800c\u8a00\uff0c\u8868\u683c\u6cd5\u9700\u8981\u5b58\u50a8\\(n\\)\u4e2a\u72b6\u6001\u503c\uff0c\u800c\u6211\u4eec\u4ec5\u9700\u5b58\u50a8\u4e00\u4e2a\u4f4e\u7ef4\u53c2\u6570\u5411\u91cf\\(w\\)\uff0c\u56e0\u6b64\u5b58\u50a8\u6548\u7387\u53ef\u5f97\u5230\u663e\u8457\u63d0\u5347\u3002\u7136\u800c\u8fd9\u79cd\u4f18\u52bf\u5e76\u975e\u6ca1\u6709\u4ee3\u4ef7\uff1a\u51fd\u6570\u53ef\u80fd\u65e0\u6cd5\u7cbe\u786e\u8868\u5f81\u72b6\u6001\u503c\u3002\u4f8b\u5982\uff0c\u56fe\\(8.2\\)\u4e2d\u7684\u6570\u636e\u70b9\u5c31\u65e0\u6cd5\u7528\u76f4\u7ebf\u7cbe\u786e\u62df\u5408\uff0c\u8fd9\u6b63\u662f\u8be5\u65b9\u6cd5\u88ab\u79f0\u4e3a\"\u8fd1\u4f3c\"\u7684\u539f\u56e0\u3002\u4ece\u672c\u8d28\u4e0a\u770b\uff0c\u5f53\u6211\u4eec\u7528\u4f4e\u7ef4\u5411\u91cf\u8868\u793a\u9ad8\u7ef4\u6570\u636e\u96c6\u65f6\uff0c\u5fc5\u7136\u4f1a\u9020\u6210\u90e8\u5206\u4fe1\u606f\u635f\u5931\u3002\u56e0\u6b64\uff0c\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u901a\u8fc7\u727a\u7272\u7cbe\u5ea6\u6765\u63d0\u5347\u5b58\u50a8\u6548\u7387\u3002</p> </li> <li> <p>\u5982\u4f55\u66f4\u65b0\u503c\uff1a\u5f53\u503c\u4ee5\u8868\u683c\u5f62\u5f0f\u8868\u793a\u65f6\uff0c\u82e5\u9700\u66f4\u65b0\u67d0\u4e2a\u503c\uff0c\u53ef\u76f4\u63a5\u91cd\u5199\u8868\u4e2d\u5bf9\u5e94\u6761\u76ee\u3002\u7136\u800c\uff0c\u5f53\u503c\u4ee5\u51fd\u6570\u5f62\u5f0f\u8868\u793a\u65f6\uff0c\u66f4\u65b0\u65b9\u5f0f\u5219\u5b8c\u5168\u4e0d\u540c\u3002\u5177\u4f53\u800c\u8a00\uff0c\u6211\u4eec\u5fc5\u987b\u901a\u8fc7\u95f4\u63a5\u66f4\u65b0\u6743\u91cd\\(w\\)\u6765\u5b9e\u73b0\u503c\u7684\u53d8\u66f4\u3002\u5173\u4e8e\u5982\u4f55\u4f18\u5316\u66f4\u65b0\\(w\\)\u4ee5\u83b7\u53d6\u6700\u4f73\u72b6\u6001\u503c\u7684\u65b9\u6cd5\uff0c\u5c06\u5728\u540e\u6587\u8be6\u7ec6\u8ba8\u8bba\u3002</p> <p>\u5f97\u76ca\u4e8e\u72b6\u6001\u503c\u7684\u66f4\u65b0\u65b9\u5f0f\uff0c\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u8fd8\u5177\u6709\u53e6\u4e00\u4f18\u52bf\uff1a\u5176\u6cdb\u5316\u80fd\u529b\u4f18\u4e8e\u8868\u683c\u6cd5\u3002\u539f\u56e0\u5982\u4e0b\uff1a\u4f7f\u7528\u8868\u683c\u6cd5\u65f6\uff0c\u4ec5\u5f53\u67d0\u72b6\u6001\u5728\u56de\u5408\u4e2d\u88ab\u8bbf\u95ee\u65f6\u624d\u80fd\u66f4\u65b0\u5176\u5bf9\u5e94\u503c\uff1b\u800c\u672a\u8bbf\u95ee\u72b6\u6001\u7684\u503c\u5219\u65e0\u6cd5\u66f4\u65b0\u3002\u7136\u800c\uff0c\u91c7\u7528\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u65f6\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u66f4\u65b0\u6743\u91cd\u5411\u91cf\\(w\\)\u6765\u8c03\u6574\u72b6\u6001\uff0c\\(w\\)\u7684\u66f4\u65b0\u4f1a\u540c\u65f6\u5f71\u54cd\u5176\u4ed6\u67d0\u4e9b\u672a\u88ab\u8bbf\u95ee\u72b6\u6001\u7684\u503c\u4f30\u8ba1\u3002\u56e0\u6b64\uff0c\u5355\u4e2a\u72b6\u6001\u7684\u7ecf\u9a8c\u6837\u672c\u80fd\u591f\u6cdb\u5316\uff0c\u4ece\u800c\u8f85\u52a9\u4f30\u8ba1\u5176\u4ed6\u72b6\u6001\u7684\u503c\u3002</p> <p>\u4e0a\u8ff0\u5206\u6790\u5982\u56fe\\(8.4\\)\u6240\u793a\uff0c\u5176\u4e2d\u5305\u542b\u4e09\u4e2a\u72b6\u6001\\(\\{s_1, s_2, s_3\\}\\)\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u5173\u4e8e\u72b6\u6001\\(s_3\\)\u7684\u7ecf\u9a8c\u6837\u672c\uff0c\u5e76\u5e0c\u671b\u66f4\u65b0\\(\\hat{v}(s_3)\\)\u3002\u82e5\u91c7\u7528\u8868\u683c\u5316\u65b9\u6cd5\uff0c\u5982\u56fe\\(8.4(a)\\)\u6240\u793a\uff0c\u5355\u72ec\u66f4\u65b0\\(\\hat{v}(s_3)\\)\u4e0d\u4f1a\u5f71\u54cd\\(\\hat{v}(s_1)\\)\u6216\\(\\hat{v}(s_2)\\)\u7684\u503c\u3002\u4f46\u5f53\u4f7f\u7528\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u65f6\uff0c\u5982\u56fe\\(8.4(b)\\)\u6240\u793a\uff0c\u6743\u91cd\u53c2\u6570\\(w\\)\u7684\u66f4\u65b0\u4e0d\u4ec5\u4f1a\u6539\u53d8\\(\\hat{v}(s_3)\\)\uff0c\u8fd8\u4f1a\u8fde\u5e26\u5f71\u54cd\\(\\hat{v}(s_1)\\)\u548c\\(\\hat{v}(s_2)\\)\u7684\u4f30\u503c\u3002\u56e0\u6b64\uff0c\\(s_3\\)\u7684\u7ecf\u9a8c\u6837\u672c\u80fd\u591f\u5e2e\u52a9\u66f4\u65b0\u5176\u90bb\u8fd1\u72b6\u6001\u7684\u4ef7\u503c\u4f30\u8ba1\u3002</p> </li> </ul> <p></p> <p>\u56fe\\(8.4\\)\uff1a\u72b6\u6001\u503c\u66f4\u65b0\u65b9\u6cd5\u793a\u610f\u56fe\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u6bd4\u76f4\u7ebf\u5177\u6709\u66f4\u5f3a\u8fd1\u4f3c\u80fd\u529b\u7684\u590d\u6742\u51fd\u6570\u3002\u4f8b\u5982\uff0c\u8003\u8651\u4e00\u4e2a\u4e8c\u9636\u591a\u9879\u5f0f\uff1a</p> \\[\\hat{v}(s,w)=as^2+bs+c=\\underbrace{[s^2,s,1]}_{\\phi^T(s)}\\underbrace{\\begin{bmatrix}a\\\\b\\\\c\\end{bmatrix}}_{w}=\\phi^T(s)w.\\] <p>\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u66f4\u9ad8\u9636\u7684\u591a\u9879\u5f0f\u66f2\u7ebf\u6765\u62df\u5408\u8fd9\u4e9b\u6570\u636e\u70b9\u3002\u968f\u7740\u66f2\u7ebf\u9636\u6570\u7684\u589e\u52a0\uff0c\u8fd1\u4f3c\u7cbe\u5ea6\u4f1a\u76f8\u5e94\u63d0\u9ad8\uff0c\u4f46\u53c2\u6570\u5411\u91cf\u7684\u7ef4\u5ea6\u4e5f\u4f1a\u968f\u4e4b\u589e\u5927\uff0c\u4ece\u800c\u9700\u8981\u66f4\u591a\u7684\u5b58\u50a8\u7a7a\u95f4\u548c\u8ba1\u7b97\u8d44\u6e90\u3002</p> <p>\u6ce8\u610f\u5230\uff0c\\((8.1)\\)\u6216\\((8.2)\\)\u5f0f\u4e2d\u7684\\(\\hat{v}(s, w)\\)\u5bf9\u4e8e\\(w\\)\u662f\u7ebf\u6027\u7684(\u5c3d\u7ba1\u5bf9\u4e8e\\(s\\)\u53ef\u80fd\u662f\u975e\u7ebf\u6027\u7684)\u3002\u8fd9\u7c7b\u65b9\u6cd5\u79f0\u4e3a\u7ebf\u6027\u51fd\u6570\u8fd1\u4f3c\uff0c\u662f\u6700\u7b80\u5355\u7684\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u3002</p> <p>\u4e3a\u5b9e\u73b0\u7ebf\u6027\u51fd\u6570\u8fd1\u4f3c\uff0c\u9700\u8981\u9009\u53d6\u5408\u9002\u7684\u7279\u5f81\u5411\u91cf\\(\\phi(s)\\)\u3002\u4f8b\u5982\uff0c\u5fc5\u987b\u51b3\u5b9a\u662f\u91c7\u7528\u4e00\u9636\u76f4\u7ebf\u8fd8\u662f\u4e8c\u9636\u66f2\u7ebf\u6765\u62df\u5408\u6570\u636e\u70b9\u3002\u9009\u62e9\u5408\u9002\u7684\u7279\u5f81\u5411\u91cf\u5e76\u975e\u6613\u4e8b\uff0c\u8fd9\u9700\u8981\u4efb\u52a1\u76f8\u5173\u7684\u5148\u9a8c\u77e5\u8bc6\uff1a\u5bf9\u4efb\u52a1\u7406\u89e3\u8d8a\u6df1\u5165\uff0c\u5c31\u80fd\u9009\u62e9\u8d8a\u597d\u7684\u7279\u5f81\u5411\u91cf\u3002\u4f8b\u5982\uff0c\u82e5\u5df2\u77e5\u56fe\\(8.2\\)\u4e2d\u7684\u6570\u636e\u70b9\u5927\u81f4\u5206\u5e03\u5728\u4e00\u6761\u76f4\u7ebf\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u76f4\u7ebf\u62df\u5408\u8fd9\u4e9b\u6570\u636e\u70b9\u3002\u7136\u800c\uff0c\u8fd9\u7c7b\u5148\u9a8c\u77e5\u8bc6\u5728\u5b9e\u9645\u4e2d\u901a\u5e38\u672a\u77e5\u3002\u82e5\u6ca1\u6709\u4efb\u4f55\u5148\u9a8c\u77e5\u8bc6\uff0c\u5e38\u7528\u7684\u89e3\u51b3\u65b9\u6848\u662f\u91c7\u7528\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u4f5c\u4e3a\u975e\u7ebf\u6027\u51fd\u6570\u8fd1\u4f3c\u5668\u3002</p> <p>\u53e6\u4e00\u4e2a\u5173\u952e\u95ee\u9898\u662f\u5982\u4f55\u5bfb\u627e\u6700\u4f18\u53c2\u6570\u5411\u91cf\u3002\u82e5\u5df2\u77e5\\(\\{v_\\pi(s_i)\\}_{i=1}^n\\)\uff0c\u8be5\u95ee\u9898\u53ef\u8f6c\u5316\u4e3a\u6700\u5c0f\u4e8c\u4e58\u95ee\u9898\u3002\u901a\u8fc7\u4f18\u5316\u4ee5\u4e0b\u76ee\u6807\u51fd\u6570\u5373\u53ef\u83b7\u5f97\u6700\u4f18\u53c2\u6570\uff1a</p> \\[\\begin{aligned}J_1=\\sum_{i=1}^n\\left(\\hat{v}(s_i,w)-v_\\pi(s_i)\\right)^2&amp;=\\sum_{i=1}^n\\left(\\phi^T(s_i)w-v_\\pi(s_i)\\right)^2\\\\&amp;\\left.\\left.=\\left\\|\\left[\\begin{array}{c}\\phi^T(s_1)\\\\\\vdots\\\\\\phi^T(s_n)\\end{array}\\right.\\right.\\right]w-\\begin{bmatrix}v_\\pi(s_1)\\\\\\vdots\\\\v_\\pi(s_n)\\end{bmatrix}\\right\\|^2\\doteq\\|\\Phi w-v_\\pi\\|^2,\\end{aligned}\\] <p>\u5728\u8fd9\u91cc</p> \\[\\Phi\\doteq\\begin{bmatrix}\\phi^T(s_1)\\\\\\vdots\\\\\\phi^T(s_n)\\end{bmatrix}\\in\\mathbb{R}^{n\\times2},\\quad v_\\pi\\doteq\\begin{bmatrix}v_\\pi(s_1)\\\\\\vdots\\\\v_\\pi(s_n)\\end{bmatrix}\\in\\mathbb{R}^n.\\] <p>\u53ef\u4ee5\u9a8c\u8bc1\uff0c\u8be5\u6700\u5c0f\u4e8c\u4e58\u95ee\u9898\u7684\u6700\u4f18\u89e3\u4e3a</p> \\[w^*=(\\Phi^T\\Phi)^{-1}\\Phi v_\\pi.\\] <p>\u5173\u4e8e\u6700\u5c0f\u4e8c\u4e58\u95ee\u9898\u7684\u66f4\u591a\u7ec6\u8282\u53ef\u53c2\u9605\u6587\u732e[47,\u7b2c3.3\u8282]\u548c[48,\u7b2c5.14\u8282]\u3002</p> <p>\u672c\u8282\u5c55\u793a\u7684\u66f2\u7ebf\u62df\u5408\u793a\u4f8b\u9610\u91ca\u4e86\u4ef7\u503c\u51fd\u6570\u8fd1\u4f3c\u7684\u57fa\u672c\u601d\u60f3\uff0c\u8be5\u601d\u60f3\u5c06\u5728\u4e0b\u4e00\u8282\u8fdb\u884c\u6b63\u5f0f\u5b9a\u4e49\u3002</p>"},{"location":"Chapter-8/8-2/","title":"8.2-\u57fa\u4e8e\u503c\u51fd\u6570\u7684\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5:\u72b6\u6001\u503c\u4f30\u8ba1","text":""},{"location":"Chapter-8/8-2/#_1","title":"\u57fa\u4e8e\u503c\u51fd\u6570\u7684\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5: \u72b6\u6001\u503c\u4f30\u8ba1","text":"<p>\u672c\u8282\u5c06\u9610\u8ff0\u5982\u4f55\u5c06\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u6574\u5408\u81f3\u65f6\u5e8f\u5dee\u5206(TD)\u5b66\u4e60\u6846\u67b6\u4e2d\uff0c\u7528\u4e8e\u4f30\u8ba1\u7ed9\u5b9a\u7b56\u7565\u7684\u72b6\u6001\u503c\u3002\u8be5\u7b97\u6cd5\u5c06\u5728\\(8.3\\)\u8282\u8fdb\u4e00\u6b65\u6269\u5c55\u81f3\u884c\u52a8\u503c\u4e0e\u6700\u4f18\u7b56\u7565\u7684\u5b66\u4e60\u3002</p> <p>\u672c\u8282\u5305\u542b\u591a\u4e2a\u5b50\u7ae0\u8282\u53ca\u5927\u91cf\u8fde\u8d2f\u5185\u5bb9\u3002\u5efa\u8bae\u5728\u6df1\u5165\u7ec6\u8282\u524d\u5148\u6574\u4f53\u56de\u987e\u5185\u5bb9\u3002</p> <ul> <li> <p>\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u88ab\u8868\u8ff0\u4e3a\u4e00\u4e2a\u4f18\u5316\u95ee\u9898\u3002\u8be5\u95ee\u9898\u7684\u76ee\u6807\u51fd\u6570\u5728\u7b2c\\(8.2.1\\)\u8282\u4e2d\u7ed9\u51fa\u3002\u7528\u4e8e\u4f18\u5316\u8be5\u76ee\u6807\u51fd\u6570\u7684TD\u5b66\u4e60\u7b97\u6cd5\u5c06\u5728\u7b2c\\(8.2.2\\)\u8282\u4e2d\u4ecb\u7ecd\u3002</p> </li> <li> <p>\u4e3a\u5e94\u7528TD\u5b66\u4e60\u7b97\u6cd5\uff0c\u6211\u4eec\u9700\u8981\u9009\u62e9\u5408\u9002\u7684\u7279\u5f81\u5411\u91cf\u3002\\(8.2.3\\)\u8282\u5c06\u8ba8\u8bba\u8be5\u95ee\u9898\u3002</p> </li> <li> <p>\\(8.2.4\\)\u8282\u901a\u8fc7\u793a\u4f8b\u6f14\u793a\u4e86TD\u7b97\u6cd5\u53ca\u4e0d\u540c\u7279\u5f81\u5411\u91cf\u7684\u5f71\u54cd\u3002</p> </li> <li> <p>\u5173\u4e8eTD\u7b97\u6cd5\u7684\u7406\u8bba\u5206\u6790\u8be6\u89c1\u7b2c\\(8.2.5\\)\u8282\u3002\u8be5\u5c0f\u8282\u6570\u5b66\u63a8\u5bfc\u8f83\u4e3a\u5bc6\u96c6\uff0c\u8bfb\u8005\u53ef\u6839\u636e\u5174\u8da3\u9009\u62e9\u6027\u9605\u8bfb\u3002</p> </li> </ul>"},{"location":"Chapter-8/8-2/#821","title":"8.2.1 \u76ee\u6807\u51fd\u6570","text":"<p>\u8bbe\\(v_\\pi(s)\\)\u4e0e\\(\\hat{v}(s, w)\\)\u5206\u522b\u8868\u793a\u72b6\u6001\\(s \\in S\\)\u7684\u771f\u5b9e\u72b6\u6001\u503c\u548c\u8fd1\u4f3c\u72b6\u6001\u503c\u3002\u5f85\u6c42\u89e3\u7684\u95ee\u9898\u662f\u627e\u5230\u6700\u4f18\u53c2\u6570\\(w\\)\uff0c\u4f7f\u5f97\u5bf9\u4e8e\u6240\u6709\u72b6\u6001\\(s\\)\uff0c\\(\\hat{v}(s, w)\\)\u80fd\u6700\u4f73\u8fd1\u4f3c\\(v_\\pi(s)\\)\u3002\u5177\u4f53\u800c\u8a00\uff0c\u76ee\u6807\u51fd\u6570\u4e3a</p> \\[J(w)=\\mathbb{E}[(v_\\pi(S)-\\hat{v}(S,w))^2],\\tag{8.3}\\] <p>\u5176\u4e2d\u671f\u671b\u503c\u662f\u5173\u4e8e\u968f\u673a\u53d8\u91cf\\(S \\in \\mathcal{S}\\)\u8ba1\u7b97\u7684\u3002\u867d\u7136\\(S\\)\u662f\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\uff0c\u4f46\u5176\u6982\u7387\u5206\u5e03\u662f\u4ec0\u4e48\uff1f\u8fd9\u4e2a\u95ee\u9898\u5bf9\u4e8e\u7406\u89e3\u8be5\u76ee\u6807\u51fd\u6570\u81f3\u5173\u91cd\u8981\u3002\u5b9a\u4e49\\(S\\)\u7684\u6982\u7387\u5206\u5e03\u6709\u4ee5\u4e0b\u51e0\u79cd\u65b9\u5f0f\u3002</p> <ul> <li> <p>\u7b2c\u4e00\u79cd\u65b9\u6cd5\u662f\u91c7\u7528\u5747\u5300\u5206\u5e03\u3002\u5373\u901a\u8fc7\u5c06\u6bcf\u4e2a\u72b6\u6001\u7684\u6982\u7387\u8bbe\u4e3a\\(1/n\\)\uff0c\u5c06\u6240\u6709\u72b6\u6001\u89c6\u4e3a\u540c\u7b49\u91cd\u8981\u3002\u6b64\u65f6\uff0c\\((8.3)\\)\u4e2d\u7684\u76ee\u6807\u51fd\u6570\u53d8\u4e3a</p> \\[J(w)=\\frac{1}{n}\\sum_{s\\in\\mathcal{S}}(v_\\pi(s)-\\hat{v}(s,w))^2,\\tag{8.4}\\] <p>\u8fd9\u662f\u6240\u6709\u72b6\u6001\u8fd1\u4f3c\u8bef\u5dee\u7684\u5e73\u5747\u503c\u3002\u7136\u800c\uff0c\u8fd9\u79cd\u65b9\u6cd5\u6ca1\u6709\u8003\u8651\u7ed9\u5b9a\u7b56\u7565\u4e0b\u9a6c\u5c14\u53ef\u592b\u8fc7\u7a0b\u7684\u771f\u5b9e\u52a8\u6001\u7279\u6027\u3002\u7531\u4e8e\u67d0\u4e9b\u72b6\u6001\u53ef\u80fd\u5f88\u5c11\u88ab\u7b56\u7565\u8bbf\u95ee\u5230\uff0c\u5c06\u6240\u6709\u72b6\u6001\u89c6\u4e3a\u540c\u7b49\u91cd\u8981\u5e76\u4e0d\u5408\u7406\u3002</p> </li> <li> <p>\u7b2c\u4e8c\u79cd\u65b9\u6cd5(\u672c\u7ae0\u91cd\u70b9)\u662f\u5229\u7528\u7a33\u6001\u5206\u5e03(stationary distribution)\u3002\u7a33\u6001\u5206\u5e03\u63cf\u8ff0\u4e86\u9a6c\u5c14\u53ef\u592b\u51b3\u7b56\u8fc7\u7a0b\u7684\u957f\u671f\u884c\u4e3a(long-run behavior)\uff1b\u5177\u4f53\u800c\u8a00\uff0c\u5f53\u667a\u80fd\u4f53\u6267\u884c\u7ed9\u5b9a\u7b56\u7565\u8db3\u591f\u957f\u65f6\u95f4\u540e\uff0c\u5176\u5904\u4e8e\u4efb\u610f\u72b6\u6001\u7684\u6982\u7387\u5747\u53ef\u7531\u8be5\u7a33\u6001\u5206\u5e03\u8868\u5f81\u3002\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u53c2\u9605Box\\(8.1\\)\u83b7\u53d6\u7ec6\u8282\u3002</p> <p>\u8bbe\\(\\{d_\\pi(s)\\}_{s\\in\\mathcal{S}}\\)\u8868\u793a\u7b56\u7565\\(\\pi\\)\u4e0b\u9a6c\u5c14\u53ef\u592b\u8fc7\u7a0b\u7684\u7a33\u6001\u5206\u5e03\u3002\u5373\u667a\u80fd\u4f53\u5728\u957f\u65f6\u95f4\u8fd0\u884c\u540e\u8bbf\u95ee\u72b6\u6001\\(s\\)\u7684\u6982\u7387\u4e3a\\(d_\\pi(s)\\)\u3002\u6839\u636e\u5b9a\u4e49\uff0c\u6ee1\u8db3\\(\\sum_{s\\in\\mathcal{S}}d_\\pi(s)=1\\)\u3002\u56e0\u6b64\uff0c\\((8.3)\\)\u4e2d\u7684\u76ee\u6807\u51fd\u6570\u53ef\u6539\u5199\u4e3a</p> \\[J(w)=\\sum_{s\\in\\mathcal{S}}d_\\pi(s)(v_\\pi(s)-\\hat{v}(s,w))^2,\\] <p>\u8fd9\u662f\u4e00\u4e2a\u5bf9\u8fd1\u4f3c\u8bef\u5dee\u8fdb\u884c\u52a0\u6743\u5e73\u5747\u7684\u6307\u6807\u3002\u90a3\u4e9b\u88ab\u8bbf\u95ee\u6982\u7387\u8f83\u9ad8\u7684\u72b6\u6001\u4f1a\u88ab\u8d4b\u4e88\u66f4\u5927\u7684\u6743\u91cd\u3002</p> </li> </ul> <p>Note</p> <p>long-run behavior\u5c31\u662f\u4ece\u67d0\u4e00\u4e2a\u72b6\u6001\u51fa\u53d1\uff0c\u7136\u540e\u6211\u6309\u7167\u7b56\u7565\u91c7\u53d6\u884c\u52a8\uff0c\u7136\u540e\u4e0d\u65ad\u5730\u53bb\u548c\u73af\u5883\u8fdb\u884c\u4ea4\u4e92\uff0c\u7136\u540e\u4e00\u76f4\u91c7\u53d6\u8fd9\u4e2a\u7b56\u7565\uff0c\u91c7\u53d6\u975e\u5e38\u591a\u6b21\u4e4b\u540e\uff0c\u6211\u5c31\u8fbe\u5230\u4e86\u4e00\u79cd\u5e73\u7a33\u7684\u72b6\u6001\uff0c\u5728\u90a3\u4e2a\u5e73\u7a33\u7684\u72b6\u6001\u4e0b\u5c31\u5f97\u5230\u5728\u6bcf\u4e00\u4e2a\u72b6\u6001\u667a\u80fd\u4f53\u51fa\u73b0\u5b83\u7684\u6982\u7387\u662f\u591a\u5c11\u3002</p> <p></p> <p>\u56fe\\(8.5\\)\uff1a\\(\\varepsilon=0.5\\)\u7684\\(\\varepsilon\\)-\u8d2a\u5fc3\u7b56\u7565\u957f\u671f\u884c\u4e3a\u3002\u53f3\u56fe\u4e2d\u661f\u53f7\u8868\u793a\u5411\u91cf\\(d^\\pi\\)\u5404\u5206\u91cf\u7684\u7406\u8bba\u503c\u3002</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\\(d_\\pi(s)\\)\u7684\u503c\u96be\u4ee5\u76f4\u63a5\u83b7\u53d6\uff0c\u56e0\u4e3a\u8fd9\u9700\u8981\u5df2\u77e5\u72b6\u6001\u8f6c\u79fb\u6982\u7387\u77e9\u9635\\(P^\\pi\\)\uff08\u53c2\u89c1\u65b9\u6846\\(8.1\\)\uff09\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u5982\u540e\u7eed\u5c0f\u8282\u6240\u793a\uff0c\u6211\u4eec\u65e0\u9700\u8ba1\u7b97\\(d_\\pi(s)\\)\u7684\u5177\u4f53\u503c\u5373\u53ef\u6700\u5c0f\u5316\u8be5\u76ee\u6807\u51fd\u6570\u3002\u6b64\u5916\uff0c\u5728\u5f15\u5165\u5f0f\\((8.4)\\)\u548c\\((8.5)\\)\u65f6\uff0c\u6211\u4eec\u5047\u8bbe\u72b6\u6001\u6570\u91cf\u662f\u6709\u9650\u7684\u3002\u5f53\u72b6\u6001\u7a7a\u95f4\u8fde\u7eed\u65f6\uff0c\u53ef\u5c06\u6c42\u548c\u8fd0\u7b97\u66ff\u6362\u4e3a\u79ef\u5206\u8fd0\u7b97\u3002</p>"},{"location":"Chapter-8/8-2/#822","title":"8.2.2 \u4f18\u5316\u7b97\u6cd5","text":"<p>\u4e3a\u6700\u5c0f\u5316\u5f0f\\((8.3)\\)\u4e2d\u7684\u76ee\u6807\u51fd\u6570\\(J(w)\\)\uff0c\u53ef\u91c7\u7528\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\uff1a</p> \\[w_{k+1}=w_k-\\alpha_k\\nabla_wJ(w_k),\\] <p>\u5728\u8fd9\u91cc</p> \\[\\begin{aligned}\\nabla_wJ(w_k)&amp;=\\nabla_w\\mathbb{E}[(v_\\pi(S)-\\hat{v}(S,w_k))^2]\\\\&amp;=\\mathbb{E}[\\nabla_w(v_\\pi(S)-\\hat{v}(S,w_k))^2]\\\\&amp;=2\\mathbb{E}[(v_\\pi(S)-\\hat{v}(S,w_k))(-\\nabla_w\\hat{v}(S,w_k))]\\\\&amp;=-2\\mathbb{E}[(v_\\pi(S)-\\hat{v}(S,w_k))\\nabla_w\\hat{v}(S,w_k)].\\end{aligned}\\] <p>\u56e0\u6b64\uff0c\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u662f</p> \\[w_{k+1}=w_k+2\\alpha_k\\mathbb{E}[(v_\\pi(S)-\\hat{v}(S,w_k))\\nabla_w\\hat{v}(S,w_k)],\\tag{8.11}\\] <p>\u5176\u4e2d\u7cfb\u6570\\(2\\)\u53ef\u4ee5\u4e0d\u5931\u4e00\u822c\u6027\u5730\u5408\u5e76\u5230\\(\\alpha_k\\)\u4e2d\u3002\u5f0f\\((8.11)\\)\u7684\u7b97\u6cd5\u9700\u8981\u8ba1\u7b97\u671f\u671b\u503c\u3002\u6839\u636e\u968f\u673a\u68af\u5ea6\u4e0b\u964d\u6cd5\u7684\u601d\u60f3\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u968f\u673a\u68af\u5ea6\u66ff\u4ee3\u771f\u5b9e\u68af\u5ea6\u3002\u56e0\u6b64\uff0c\\((8.11)\\)\u5f0f\u53ef\u6539\u5199\u4e3a</p> \\[w_{t+1}=w_t+\\alpha_t\\left(v_\\pi(s_t)-\\hat{v}(s_t,w_t)\\right)\\nabla_w\\hat{v}(s_t,w_t),\\tag{8.12}\\] <p>\u5176\u4e2d\\(s_t\\)\u662f\\(S\\)\u5728\u65f6\u523b\\(t\\)\u7684\u91c7\u6837\u503c\u3002</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\\((8.12)\\)\u5f0f\u4e0d\u53ef\u76f4\u63a5\u5b9e\u73b0\uff0c\u56e0\u4e3a\u5b83\u9700\u8981\u771f\u5b9e\u7684\u72b6\u6001\u503c\\(v_\\pi\\)\u2014\u2014\u8be5\u503c\u672a\u77e5\u4e14\u5fc5\u987b\u901a\u8fc7\u4f30\u8ba1\u83b7\u5f97\u3002\u6211\u4eec\u53ef\u4ee5\u7528\u8fd1\u4f3c\u503c\u66ff\u4ee3\\(v_\\pi(s_t)\\)\u4f7f\u7b97\u6cd5\u53ef\u6267\u884c\uff0c\u5177\u4f53\u53ef\u901a\u8fc7\u4ee5\u4e0b\u4e24\u79cd\u65b9\u6cd5\u5b9e\u73b0\u3002</p> <ul> <li> <p>\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\uff1a\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u56de\u5408\\((s_0,r_1,s_1,r_2,\\ldots)\\)\u3002\u4ee4\\(g_t\\)\u8868\u793a\u4ece\u72b6\u6001\\(s_t\\)\u5f00\u59cb\u7684\u6298\u73b0\u56de\u62a5\uff0c\u5219\\(g_t\\)\u53ef\u4f5c\u4e3a\\(v_\\pi(s_t)\\)\u7684\u4f30\u8ba1\u503c\u3002\u6b64\u65f6\u5f0f\\((8.12)\\)\u4e2d\u7684\u7b97\u6cd5\u53ef\u6539\u5199\u4e3a</p> \\[w_{t+1}=w_t+\\alpha_t\\left(g_t-\\hat{v}(s_t,w_t)\\right)\\nabla_w\\hat{v}(s_t,w_t).\\] <p>\u8fd9\u662f\u57fa\u4e8e\u51fd\u6570\u8fd1\u4f3c\u7684\u8499\u7279\u5361\u6d1b\u5b66\u4e60\u7b97\u6cd5\u3002</p> </li> <li> <p>\u65f6\u5e8f\u5dee\u5206\u6cd5\uff1a\u6839\u636eTD\u5b66\u4e60\u7684\u601d\u60f3\uff0c\\(r_{t+1}+\\gamma\\hat{v}(s_{t+1},w_t)\\)\u53ef\u4f5c\u4e3a\\(v_\\pi(s_t)\\)\u7684\u4f30\u8ba1\u503c\u3002\u6b64\u65f6\\((8.12)\\)\u5f0f\u4e2d\u7684\u7b97\u6cd5\u53d8\u4e3a</p> \\[w_{t+1}=w_t+\\alpha_t\\left[r_{t+1}+\\gamma\\hat{v}(s_{t+1},w_t)-\\hat{v}(s_t,w_t)\\right]\\nabla_w\\hat{v}(s_t,w_t).\\tag{8.13}\\] <p>\u8fd9\u662f\u57fa\u4e8e\u51fd\u6570\u8fd1\u4f3c\u7684TD\u5b66\u4e60\u7b97\u6cd5\u3002\u8be5\u7b97\u6cd5\u603b\u7ed3\u5728\u7b97\u6cd5\\(8.1\\)\u4e2d\u3002</p> </li> </ul> <p></p> <p>\u7b97\u6cd5\\(8.1\\): \u57fa\u4e8e\u72b6\u6001\u503c\u51fd\u6570\u8fd1\u4f3c\u7684TD\u5b66\u4e60\u3002</p> <p>\u7406\u89e3\u5f0f\\((8.13)\\)\u4e2d\u7684TD\u7b97\u6cd5\u5bf9\u4e8e\u7814\u7a76\u672c\u7ae0\u5176\u4ed6\u7b97\u6cd5\u81f3\u5173\u91cd\u8981\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\\((8.13)\\)\u4ec5\u80fd\u5b66\u4e60\u7ed9\u5b9a\u7b56\u7565\u7684\u72b6\u6001\u503c\u3002\u5728\\(8.3.1\\)\u548c\\(8.3.2\\)\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u628a\u5b83\u6269\u5c55\u4e3a\u80fd\u591f\u5b66\u4e60\u884c\u52a8\u503c\u7684\u7b97\u6cd5\u3002</p>"},{"location":"Chapter-8/8-2/#823","title":"8.2.3 \u51fd\u6570\u8fd1\u4f3c\u5668\u7684\u9009\u62e9","text":"<p>\u4e3a\u5e94\u7528\\((8.13)\\)\u4e2d\u7684TD\u7b97\u6cd5\uff0c\u9700\u9009\u62e9\u5408\u9002\u7684\\(\\hat{v}(s, w)\\)\u3002\u5177\u4f53\u6709\u4e24\u79cd\u5b9e\u73b0\u65b9\u5f0f\uff1a\u5176\u4e00\uff0c\u91c7\u7528\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u4f5c\u4e3a\u975e\u7ebf\u6027\u51fd\u6570\u8fd1\u4f3c\u5668\uff0c\u5176\u4e2d\u7f51\u7edc\u8f93\u5165\u4e3a\u72b6\u6001\\(s\\)\uff0c\u8f93\u51fa\u4e3a\\(\\hat{v}(s, w)\\)\uff0c\u7f51\u7edc\u53c2\u6570\u4e3a\\(w\\)\uff1b\u5176\u4e8c\uff0c\u76f4\u63a5\u91c7\u7528\u7ebf\u6027\u51fd\u6570\uff1a</p> \\[\\hat{v}(s,w)=\\phi^T(s)w,\\] <p>\u5176\u4e2d\\(\\phi(s) \\in \\mathbb{R}^m\\)\u8868\u793a\u72b6\u6001\\(s\\)\u7684\u7279\u5f81\u5411\u91cf\u3002\\(\\phi(s)\\)\u4e0e\\(w\\)\u7684\u7ef4\u5ea6\u5747\u4e3a\\(m\\)\uff0c\u8be5\u503c\u901a\u5e38\u8fdc\u5c0f\u4e8e\u72b6\u6001\u7a7a\u95f4\u7684\u603b\u6570\u3002\u5728\u7ebf\u6027\u60c5\u51b5\u4e0b\uff0c\u68af\u5ea6\u8868\u8fbe\u5f0f\u4e3a</p> \\[\\nabla_w\\hat{v}(s,w)=\\phi(s),\\] <p>\u5c06\u5176\u4ee3\u5165\u5f0f\\((8.13)\\)\u53ef\u5f97</p> \\[w_{t+1}=w_t+\\alpha_t\\left[r_{t+1}+\\gamma\\phi^T(s_{t+1})w_t-\\phi^T(s_t)w_t\\right]\\phi(s_t).\\tag{8.14}\\] <p>\u8fd9\u662f\u91c7\u7528\u7ebf\u6027\u51fd\u6570\u8fd1\u5316\u7684TD\u5b66\u4e60\u7b97\u6cd5\uff0c\u7b80\u79f0\u4e3aTD-Linear\u3002</p> <p>\u7ebf\u6027\u60c5\u51b5\u5728\u7406\u8bba\u4e0a\u6bd4\u975e\u7ebf\u6027\u60c5\u51b5\u66f4\u6613\u7406\u89e3\uff0c\u4f46\u5176\u8fd1\u4f3c\u80fd\u529b\u6709\u9650\u3002\u5bf9\u4e8e\u590d\u6742\u4efb\u52a1\uff0c\u9009\u62e9\u5408\u9002\u7684\u7279\u5f81\u5411\u91cf\u4e5f\u975e\u6613\u4e8b\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u4f5c\u4e3a\u9ed1\u7bb1\u975e\u7ebf\u6027\u8fd1\u4f3c\u5668\uff0c\u80fd\u591f\u66f4\u597d\u5730\u8fd1\u4f3c\u76ee\u6807\u503c\uff0c\u4e14\u66f4\u6613\u4e8e\u4f7f\u7528\u3002</p> <p>\u7136\u800c\uff0c\u7814\u7a76\u7ebf\u6027\u60c5\u5f62\u4ecd\u5177\u91cd\u8981\u610f\u4e49\u3002\u6df1\u5165\u7406\u89e3\u7ebf\u6027\u60c5\u5f62\u6709\u52a9\u4e8e\u8bfb\u8005\u66f4\u597d\u5730\u638c\u63e1\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u7684\u6838\u5fc3\u601d\u60f3\u3002\u6b64\u5916\uff0c\u672c\u4e66\u8ba8\u8bba\u7684\u7b80\u5355\u7f51\u683c\u4e16\u754c\u4efb\u52a1\u4e2d\uff0c\u7ebf\u6027\u60c5\u5f62\u5df2\u8db3\u4ee5\u89e3\u51b3\u95ee\u9898\u3002\u66f4\u91cd\u8981\u7684\u662f\uff0c\u4ece\u8868\u683c\u5316\u65b9\u6cd5\u53ef\u89c6\u4e3a\u7279\u6b8a\u7ebf\u6027\u60c5\u5f62\u8fd9\u4e00\u89c6\u89d2\u6765\u770b\uff0c\u7ebf\u6027\u65b9\u6cd5\u4ecd\u5177\u6709\u5f3a\u5927\u7684\u80fd\u529b\u3002\u5173\u4e8e\u8868\u683c\u5316\u65b9\u5f0f\u4e3a\u4ec0\u4e48\u662f\u4e00\u79cd\u7279\u6b8a\u7684TD-Linear\u53ef\u53c2\u9605Box 8.2\u3002</p>"},{"location":"Chapter-8/8-2/#824","title":"8.2.4 \u4f8b\u5b50","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u901a\u8fc7\u793a\u4f8b\u5c55\u793a\u5982\u4f55\u5229\u7528\\((8.14)\\)\u4e2d\u7684TD-Linear\u7b97\u6cd5\u4f30\u8ba1\u7ed9\u5b9a\u7b56\u7565\u7684\u72b6\u6001\u503c\uff0c\u540c\u65f6\u8bf4\u660e\u7279\u5f81\u5411\u91cf\u7684\u9009\u53d6\u65b9\u6cd5\u3002</p> <p></p> <p>\u56fe\\(8.6\\):\\((a)\\)\u5f85\u8bc4\u4f30\u7b56\u7565\u3002\\((b)\\)\u771f\u5b9e\u72b6\u6001\u503c\u4ee5\u8868\u683c\u5f62\u5f0f\u5448\u73b0\u3002\\((c)\\)\u771f\u5b9e\u72b6\u6001\u503c\u4ee5\u4e09\u7ef4\u66f2\u9762\u5f62\u5f0f\u5448\u73b0\u3002</p> <p>\u7f51\u683c\u4e16\u754c\u793a\u4f8b\u5982\u56fe\\(8.6\\)\u6240\u793a\u3002\u7ed9\u5b9a\u7b56\u7565\u5728\u6bcf\u4e2a\u72b6\u6001\u4e0b\u4ee5\\(0.2\\)\u7684\u6982\u7387\u91c7\u53d6\u4efb\u610f\u52a8\u4f5c\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\u4f30\u8ba1\u8be5\u7b56\u7565\u4e0b\u7684\u72b6\u6001\u503c\u3002\u8be5\u7cfb\u7edf\u5171\u5305\u542b\\(25\\)\u4e2a\u72b6\u6001\u503c\u3002\u771f\u5b9e\u72b6\u6001\u503c\u5982\u56fe\\(8.6(b)\\)\u6240\u793a\uff0c\u5176\u4e09\u7ef4\u66f2\u9762\u53ef\u89c6\u5316\u7ed3\u679c\u5c55\u793a\u5728\u56fe\\(8.6(c)\\)\u4e2d\u3002</p> <p>Note</p> <p>\u603b\u5171\u670925\u4e2a\u72b6\u6001\u503c\uff0c\u5982\u679c\u7528\u8868\u683c\u7684\u65b9\u5f0f\uff0c\u90a3\u4e48\u9700\u8981\u5b58\u50a825\u4e2a\u72b6\u6001\u503c\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u8bc1\u660e\uff0c\u53ef\u4ee5\u7528\u5c11\u4e8e\\(25\\)\u4e2a\u53c2\u6570\u6765\u8fd1\u4f3c\u8fd9\u4e9b\u72b6\u6001\u503c\u3002\u4eff\u771f\u8bbe\u7f6e\u5982\u4e0b\uff1a\u901a\u8fc7\u7ed9\u5b9a\u7b56\u7565\u751f\u6210\\(500\\)\u4e2a\u56de\u5408\uff0c\u6bcf\u4e2a\u56de\u5408\u5305\u542b\\(500\\)\u4e2a\u6b65\u957f\uff0c\u6bcf\u4e2a\u56de\u5408\u51fa\u53d1\u7684\u72b6\u6001-\u884c\u52a8\u5bf9\u662f\u968f\u673a\u9009\u62e9\u7684\uff0c\u5e76\u4e14\u9075\u5faa\u5747\u5300\u5206\u5e03\u3002\u6b64\u5916\uff0c\u5728\u6bcf\u6b21\u4eff\u771f\u8bd5\u9a8c\u4e2d\uff0c\u53c2\u6570\u5411\u91cf\\(w\\)\u88ab\u968f\u673a\u521d\u59cb\u5316\uff0c\u5176\u6bcf\u4e2a\u5143\u7d20\u5747\u4ece\u5747\u503c\u4e3a\\(0\\)\u3001\u6807\u51c6\u5dee\u4e3a\\(1\\)\u7684\u6807\u51c6\u6b63\u6001\u5206\u5e03\u4e2d\u62bd\u53d6\u3002\u6211\u4eec\u8bbe\u5b9a\\(r_{\\text{forbidden}} = r_{\\text{boundary}} = -1\\)\uff0c\\(r_{\\text{target}} =1\\)\uff0c\u4ee5\u53ca\\(\\gamma =0.9\\)\u3002</p> <p>\u4e3a\u5b9e\u73b0TD-Linear\u7b97\u6cd5\uff0c\u9996\u5148\u9700\u8981\u9009\u62e9\u7279\u5f81\u5411\u91cf\\(\\phi(s)\\)\u3002\u5177\u4f53\u5b9e\u73b0\u65b9\u5f0f\u5982\u4e0b\u6240\u793a\u3002</p> <ul> <li> <p>\u7b2c\u4e00\u79cd\u7279\u5f81\u5411\u91cf\u57fa\u4e8e\u591a\u9879\u5f0f\u6784\u5efa\u3002\u5728\u7f51\u683c\u4e16\u754c\u793a\u4f8b\u4e2d\uff0c\u72b6\u6001\\(s\\)\u5bf9\u5e94\u4e8c\u7ef4\u5750\u6807\u4f4d\u7f6e\uff0c\u5176\u4e2d\\(x\\)\u548c\\(y\\)\u5206\u522b\u8868\u793a\\(s\\)\u7684\u5217\u7d22\u5f15\u4e0e\u884c\u7d22\u5f15\u3002\u4e3a\u907f\u514d\u6570\u503c\u95ee\u9898\uff0c\u6211\u4eec\u5c06\\(x\\)\u548c\\(y\\)\u5f52\u4e00\u5316\u81f3\u533a\u95f4\\([-1, +1]\\)\u5185\u3002\u5728\u4e0d\u5f15\u8d77\u6b67\u4e49\u7684\u524d\u63d0\u4e0b\uff0c\u5f52\u4e00\u5316\u540e\u7684\u503c\u4ecd\u7528\\(x\\)\u548c\\(y\\)\u8868\u793a\u3002\u6b64\u65f6\uff0c\u6700\u7b80\u5355\u7684\u7279\u5f81\u5411\u91cf\u53ef\u8868\u793a\u4e3a</p> <p>\\(\\phi(s)=\\begin{bmatrix}x\\\\y\\end{bmatrix}\\in\\mathbb{R}^2.\\)</p> <p>\u5728\u6b64\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6709</p> \\[\\hat{v}(s,w)=\\phi^T(s)w=[x,y]\\begin{bmatrix}w_1\\\\w_2\\end{bmatrix}=w_1x+w_2y.\\] <p>\u5f53\u7ed9\u5b9a\\(w\\)\u65f6\uff0c\\(\\hat{v}(s, w) = w_1x + w_2y\\)\u8868\u793a\u4e00\u4e2a\u901a\u8fc7\u539f\u70b9\u7684\u4e8c\u7ef4\u5e73\u9762\u3002\u7531\u4e8e\u72b6\u6001\u503c\u66f2\u9762\u53ef\u80fd\u4e0d\u7ecf\u8fc7\u539f\u70b9\uff0c\u6211\u4eec\u9700\u8981\u4e3a\u8be5\u4e8c\u7ef4\u5e73\u9762\u5f15\u5165\u504f\u7f6e\u9879\u4ee5\u66f4\u597d\u5730\u903c\u8fd1\u72b6\u6001\u503c\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u8003\u8651\u4ee5\u4e0b\u4e09\u7ef4\u7279\u5f81\u5411\u91cf\uff1a</p> \\[\\phi(s)=\\begin{bmatrix}1\\\\x\\\\y\\end{bmatrix}\\in\\mathbb{R}^3.\\tag{8.15}\\] <p>\u5728\u6b64\u60c5\u51b5\u4e0b\uff0c\u8fd1\u4f3c\u72b6\u6001\u503c\u4e3a</p> \\[\\hat{v}(s,w)=\\phi^T(s)w=[1,x,y]\\begin{bmatrix}w_1\\\\w_2\\\\w_3\\end{bmatrix}=w_1+w_2x+w_3y.\\] <p>\u5f53\u7ed9\u5b9a\\(w\\)\u65f6\uff0c\\(\\hat{v}(s, w)\\)\u5bf9\u5e94\u4e00\u4e2a\u53ef\u80fd\u4e0d\u7ecf\u8fc7\u539f\u70b9\u7684\u5e73\u9762\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\\(\\varphi(s)\\)\u4e5f\u53ef\u4ee5\u5b9a\u4e49\u4e3a\\(\\varphi(s) = [x, y,1]^T\\)\uff0c\u5176\u4e2d\u5143\u7d20\u7684\u6392\u5217\u987a\u5e8f\u65e0\u5173\u7d27\u8981\u3002</p> <p>\u91c7\u7528\u5f0f\\((8.15)\\)\u4e2d\u7279\u5f81\u5411\u91cf\u6240\u5f97\u7684\u4f30\u8ba1\u7ed3\u679c\u5982\u56fe\\(8.7(a)\\)\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u4f30\u8ba1\u7684\u72b6\u6001\u503c\u5f62\u6210\u4e00\u4e2a\u4e8c\u7ef4\u5e73\u9762\u3002\u5c3d\u7ba1\u968f\u7740\u4f7f\u7528\u66f4\u591a\u8bad\u7ec3\u56de\u5408\u4f30\u8ba1\u8bef\u5dee\u4f1a\u6536\u655b\uff0c\u4f46\u7531\u4e8e\u4e8c\u7ef4\u5e73\u9762\u7684\u8fd1\u4f3c\u80fd\u529b\u6709\u9650\uff0c\u8be5\u8bef\u5dee\u65e0\u6cd5\u964d\u81f3\u96f6\u3002</p> <p>\u4e3a\u63d0\u5347\u8fd1\u4f3c\u80fd\u529b\uff0c\u53ef\u901a\u8fc7\u589e\u52a0\u7279\u5f81\u5411\u91cf\u7684\u7ef4\u5ea6\u5b9e\u73b0\u3002\u4e3a\u6b64\uff0c\u8003\u8651</p> \\[\\phi(s)=[1,x,y,x^2,y^2,xy]^T\\in\\mathbb{R}^6.\\tag{8.16}\\] <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\\(\\hat{v}(s, w) = \\varphi^T(s)w = w_1 + w_2x + w_3y + w_4x^2 + w_5y^2 + w_6xy\\)\uff0c\u5bf9\u5e94\u4e00\u4e2a\u4e8c\u6b21\u4e09\u7ef4\u66f2\u9762\u3002\u6211\u4eec\u53ef\u4ee5\u8fdb\u4e00\u6b65\u589e\u52a0\u7279\u5f81\u5411\u91cf\u7684\u7ef4\u5ea6\uff1a</p> \\[\\phi(s)=[1,x,y,x^2,y^2,xy,x^3,y^3,x^2y,xy^2]^T\\in\\mathbb{R}^{10}.\\tag{8.17}\\] <p>\u4f7f\u7528\u5f0f\\((8.16)\\)\u548c\\((8.17)\\)\u4e2d\u7279\u5f81\u5411\u91cf\u5f97\u5230\u7684\u4f30\u8ba1\u7ed3\u679c\u5982\u56fe\\(8.7(b)-(c)\\)\u6240\u793a\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u7279\u5f81\u5411\u91cf\u8d8a\u957f\uff0c\u72b6\u6001\u503c\u7684\u8fd1\u4f3c\u7cbe\u5ea6\u8d8a\u9ad8\u3002\u4f46\u5728\u6240\u6709\u4e09\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f30\u8ba1\u8bef\u5dee\u5747\u65e0\u6cd5\u6536\u655b\u81f3\u96f6\uff0c\u8fd9\u662f\u56e0\u4e3a\u8fd9\u4e9b\u7ebf\u6027\u8fd1\u4f3c\u5668\u4ecd\u5b58\u5728\u8868\u8fbe\u80fd\u529b\u5c40\u9650\u3002</p> </li> </ul> <p></p> <p>\u56fe\\(8.7\\)\uff1a\u91c7\u7528\u591a\u9879\u5f0f\u7279\u5f81\\((8.15)\\),\\((8.16)\\)\u548c\\((8.17)\\)\u5f97\u5230\u7684TD-Linear\u4f30\u8ba1\u7ed3\u679c\u3002</p> <ul> <li> <p>\u9664\u4e86\u591a\u9879\u5f0f\u7279\u5f81\u5411\u91cf\u5916\uff0c\u8fd8\u5b58\u5728\u591a\u79cd\u5176\u4ed6\u7c7b\u578b\u7684\u7279\u5f81\u8868\u793a\u65b9\u6cd5\uff0c\u4f8b\u5982\u5085\u91cc\u53f6\u57fa(Fourier basis)\u548c\u7247\u7f16\u7801(Tile coding)[3,\u7b2c9\u7ae0]\u3002\u9996\u5148\uff0c\u9700\u786e\u5b9a\u53d8\u91cf\\(x\\)\u4e0e\\(y\\)\u7684 \u5404\u72b6\u6001\u91cf\u88ab\u5f52\u4e00\u5316\u81f3\u533a\u95f4[0,1]\u3002\u6240\u5f97\u7279\u5f81\u5411\u91cf\u4e3a</p> \\[\\left.\\phi(s)=\\left[\\begin{array}{c}\\vdots\\\\\\cos\\left(\\pi(c_1x+c_2y)\\right)\\\\\\vdots\\end{array}\\right.\\right]\\in\\mathbb{R}^{(q+1)^2},\\tag{8.18}\\] <p>\u5176\u4e2d\\(\\pi\\)\u8868\u793a\u5706\u5468\u7387\uff0c\u5176\u503c\u4e3a\\(3.1415...\\)\uff0c\u800c\u975e\u7b56\u7565\u3002\u6b64\u5904\\(c_1\\)\u6216\\(c_2\\)\u53ef\u8bbe\u7f6e\u4e3a\u96c6\u5408\\(\\{0,1, ..., q\\}\\)\u4e2d\u7684\u4efb\u610f\u6574\u6570\uff0c\u5176\u4e2d\\(q\\)\u4e3a\u7528\u6237\u6307\u5b9a\u6574\u6570\u3002\u56e0\u6b64\uff0c\u4e8c\u5143\u7ec4\\((c_1, c_2)\\)\u5171\u6709\\((q +1)^2\\)\u79cd\u53ef\u80fd\u7684\u53d6\u503c\u7ec4\u5408\uff0c\u6545\u7279\u5f81\u6620\u5c04\\(\\phi(s)\\)\u7684\u7ef4\u5ea6\u4e3a\\((q +1)^2\\)\u3002\u4f8b\u5982\u5f53\\(q=1\\)\u65f6\uff0c\u7279\u5f81\u5411\u91cf\u53ef\u8868\u793a\u4e3a</p> \\[\\left.\\phi(s)=\\left[\\begin{array}{c}\\cos\\left(\\pi(0x+0y)\\right)\\\\\\cos\\left(\\pi(0x+1y)\\right)\\\\\\cos\\left(\\pi(1x+0y)\\right)\\\\\\cos\\left(\\pi(1x+1y)\\right)\\end{array}\\right.\\right]=\\begin{bmatrix}1\\\\\\cos(\\pi y)\\\\\\cos(\\pi x)\\\\\\cos(\\pi(x+y))\\end{bmatrix}\\in\\mathbb{R}^4.\\] <p>\u91c7\u7528\\(q =1,2,3\\)\u7684\u5085\u91cc\u53f6\u7279\u5f81\u8fdb\u884c\u4f30\u8ba1\u7684\u7ed3\u679c\u5982\u56fe\\(8.8\\)\u6240\u793a\u3002\u4e09\u79cd\u60c5\u51b5\u4e0b\u7279\u5f81\u5411\u91cf\u7684\u7ef4\u5ea6\u5206\u522b\u4e3a\\(4,9,16\\)\u3002\u53ef\u4ee5\u770b\u51fa\uff0c\u7279\u5f81\u5411\u91cf\u7ef4\u5ea6\u8d8a\u9ad8\uff0c\u72b6\u6001\u503c\u7684\u8fd1\u4f3c\u7cbe\u5ea6\u8d8a\u9ad8\u3002</p> </li> </ul> <p></p> <p>\u56fe\\(8.8\\)\uff1a\u91c7\u7528\u5f0f\\((8.18)\\)\u4e2d\u5085\u91cc\u53f6\u7279\u5f81\u5f97\u5230\u7684TD-Linear\u4f30\u8ba1\u7ed3\u679c\u3002</p>"},{"location":"Chapter-8/8-2/#825","title":"8.2.5 \u7406\u8bba\u5206\u6790","text":"<p>\u81f3\u6b64\uff0c\u6211\u4eec\u5df2\u7ecf\u5b8c\u6574\u9610\u8ff0\u4e86\u51fd\u6570\u8fd1\u4f3c\u4e0b\u7684TD\u5b66\u4e60\u7406\u8bba\u6846\u67b6\u3002\u8be5\u6846\u67b6\u7684\u8d77\u70b9\u662f\u516c\u5f0f\\((8.3)\\)\u4e2d\u7684\u76ee\u6807\u51fd\u6570\u3002\u4e3a\u4f18\u5316\u8fd9\u4e00\u76ee\u6807\uff0c\u6211\u4eec\u5728\\((8.12)\\)\u4e2d\u5f15\u5165\u4e86\u968f\u673a\u7b97\u6cd5\u3002\u968f\u540e\uff0c\u5c06\u8be5\u7b97\u6cd5\u4e2d\u672a\u77e5\u7684\u771f\u5b9e\u503c\u51fd\u6570\u66ff\u6362\u4e3a\u8fd1\u4f3c\u503c\uff0c\u4ece\u800c\u5f97\u5230\\((8.13)\\)\u4e2d\u7684TD\u7b97\u6cd5\u3002\u867d\u7136\u8fd9\u4e2a\u53d9\u8ff0\u6709\u52a9\u4e8e\u7406\u89e3\u503c\u51fd\u6570\u8fd1\u4f3c\u7684\u57fa\u672c\u601d\u60f3\uff0c\u4f46\u4ece\u6570\u5b66\u89d2\u5ea6\u5e76\u4e0d\u4e25\u8c28\u3002\u4f8b\u5982\uff0c\\((8.13)\\)\u4e2d\u7684\u7b97\u6cd5\u5b9e\u9645\u4e0a\u5e76\u672a\u6700\u5c0f\u5316\\((8.3)\\)\u4e2d\u7684\u76ee\u6807\u51fd\u6570\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5bf9\u5f0f\\((8.13)\\)\u4e2d\u7684TD\u7b97\u6cd5\u8fdb\u884c\u7406\u8bba\u5206\u6790\uff0c\u4ee5\u63ed\u793a\u8be5\u7b97\u6cd5\u9ad8\u6548\u8fd0\u4f5c\u7684\u673a\u7406\u53ca\u5176\u89e3\u51b3\u7684\u6570\u5b66\u95ee\u9898\u3002\u7531\u4e8e\u975e\u7ebf\u6027\u8fd1\u4f3c\u5668\u96be\u4ee5\u5206\u6790\uff0c\u672c\u8282\u4ec5\u8ba8\u8bba\u7ebf\u6027\u60c5\u5f62\u3002\u9274\u4e8e\u672c\u90e8\u5206\u6570\u5b66\u63a8\u5bfc\u8f83\u4e3a\u5bc6\u96c6\uff0c\u5efa\u8bae\u8bfb\u8005\u6839\u636e\u5174\u8da3\u9009\u62e9\u6027\u9605\u8bfb\u3002</p>"},{"location":"Chapter-8/8-2/#_2","title":"\u6536\u655b\u6027\u5206\u6790","text":"<p>\u4e3a\u7814\u7a76\u5f0f (8.13)\u7684\u6536\u655b\u6027\uff0c\u6211\u4eec\u9996\u5148\u8003\u5bdf\u4ee5\u4e0b\u786e\u5b9a\u6027\u7b97\u6cd5:</p> \\[w_{t+1}=w_t+\\alpha_t\\mathbb{E}\\left[\\left(r_{t+1}+\\gamma\\phi^T(s_{t+1})w_t-\\phi^T(s_t)w_t\\right)\\phi(s_t)\\right],\\tag{8.19}\\] <p>\u5176\u4e2d\u671f\u671b\u503c\u662f\u5173\u4e8e\u968f\u673a\u53d8\u91cf\\(s_t\\),\\(s_{t+1}\\).\\(r_{t+1}\\)\u8ba1\u7b97\u7684\u3002\u5047\u8bbe\\(s_t\\)\u7684\u5206\u5e03\u4e3a\u5e73\u7a33\u5206\u5e03\\(d^\\pi\\)\u3002\u5f0f\\((8.19)\\)\u4e2d\u7684\u7b97\u6cd5\u662f\u786e\u5b9a\u6027\u7684\uff0c\u56e0\u4e3a\u5728\u8ba1\u7b97\u671f\u671b\u540e\uff0c\u968f\u673a\u53d8\u91cf\\(s_t\\),\\(s_{t+1}\\).\\(r_{t+1}\\)\u5747\u88ab\u6d88\u9664\u3002</p> <p>\u6211\u4eec\u4e3a\u4f55\u8003\u8651\u8fd9\u4e00\u786e\u5b9a\u6027\u7b97\u6cd5\uff1f\u9996\u5148\uff0c\u8be5\u786e\u5b9a\u6027\u7b97\u6cd5\u7684\u6536\u655b\u6027\u5206\u6790\u66f4\u4e3a\u7b80\u4fbf(\u5c3d\u7ba1\u5e76\u975e\u5e73\u51e1)\uff1b\u5176\u6b21\u4e14\u66f4\u91cd\u8981\u7684\u662f\uff0c\u5176\u6536\u655b\u6027\u53ef\u63a8\u5bfc\u51fa\u968f\u673aTD\u7b97\u6cd5\\((8.13)\\)\u7684\u6536\u655b\u6027\u3002\u8fd9\u662f\u56e0\u4e3a\\((8.13)\\)\u53ef\u89c6\u4e3a\\((8.19)\\)\u7684\u968f\u673a\u68af\u5ea6\u4e0b\u964d\\((SGD)\\)\u5b9e\u73b0\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4ec5\u9700\u7814\u7a76\u786e\u5b9a\u6027\u7b97\u6cd5\u7684\u6536\u655b\u7279\u6027\u3002</p> <p>\u867d\u7136\u5f0f\\((8.19)\\)\u7684\u8868\u8fbe\u5f0f\u521d\u770b\u53ef\u80fd\u8f83\u4e3a\u590d\u6742\uff0c\u4f46\u53ef\u5927\u5e45\u7b80\u5316\u3002\u4e3a\u6b64\uff0c\u5b9a\u4e49</p> \\[\\Phi=\\begin{bmatrix}\\vdots\\\\\\phi^T(s)\\\\\\vdots\\end{bmatrix}\\in\\mathbb{R}^{n\\times m},\\quad D=\\begin{bmatrix}\\ddots\\\\&amp;d_\\pi(s)\\\\&amp;&amp;\\ddots\\end{bmatrix}\\in\\mathbb{R}^{n\\times n},\\tag{8.20}\\] <p>\u5176\u4e2d\\(\\Phi\\)\u4e3a\u5305\u542b\u6240\u6709\u7279\u5f81\u5411\u91cf\u7684\u77e9\u9635\uff0c\\(D\\)\u662f\u4ee5\u5e73\u7a33\u5206\u5e03\u4e3a\u5bf9\u89d2\u5143\u7d20\u7684\u5bf9\u89d2\u77e9\u9635\u3002\u8fd9\u4e24\u4e2a\u77e9\u9635\u5c06\u9891\u7e41\u4f7f\u7528\u3002</p> <p>Info</p> <p>\u5f15\u74068.1. \u5f0f\\((8.19)\\)\u4e2d\u7684\u671f\u671b\u53ef\u6539\u5199\u4e3a</p> \\[\\mathrm{E}\\left[\\left(r_{t+1}+\\gamma\\phi^{T}(s_{t+1})w_{t}-\\phi^{T}(s_{t})w_{t}\\right)\\phi(s_{t})\\right]=b-Aw_{t},\\] <p>\u5728\u8fd9\u91cc</p> \\[\\begin{aligned}&amp;A\\doteq\\Phi^{T}D(I-\\gamma P_{\\pi})\\Phi\\in\\mathbb{R}^{m\\times m},\\\\&amp;b\\doteq\\Phi^{T}Dr_{\\pi}\\in\\mathbb{R}^{m}.\\end{aligned}\\tag{8.21}\\] <p>\u6b64\u5904\uff0c\\(P_\\pi\\)\u548c \\(r_\\pi\\)\u662f\u8d1d\u5c14\u66fc\u65b9\u7a0b\\(v_\\pi = r_\\pi + \\gamma P_\\pi v_\\pi\\)\u4e2d\u7684\u4e24\u9879\uff0c\\(I\\)\u4e3a\u76f8\u5e94\u7ef4\u5ea6\u7684\u5355\u4f4d\u77e9\u9635\u3002</p> <p>\u8bc1\u660e\u8fc7\u7a0b\u89c1Box 8.3\u3002\u6839\u636e\u5f15\u7406\\(8.1\\)\u4e2d\u7684\u8868\u8fbe\u5f0f\uff0c\u786e\u5b9a\u6027\u7b97\u6cd5\\((8.19)\\)\u53ef\u6539\u5199\u4e3a</p> \\[w_{t+1}=w_t+\\alpha_t(b-Aw_t),\\tag{8.22}\\] <p>\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u786e\u5b9a\u6027\u8fc7\u7a0b\uff0c\u5176\u6536\u655b\u6027\u5206\u6790\u5982\u4e0b\u3002</p> <p>\u9996\u5148\uff0c\\(w_t\\)\u7684\u6536\u655b\u503c\u662f\u591a\u5c11\uff1f\u5047\u8bbe\u5f53\\(t\\rightarrow \\infty\\)\u65f6\uff0c\\(w_t\\)\u6536\u655b\u81f3\u5e38\u6570\u503c\\(w^\u2217\\)\uff0c\u5219\u7531\u5f0f\\((8.22)\\)\u53ef\u5f97\\(w^\u2217 = w^\u2217 + \\alpha_\\infty(b \u2212 Aw^*)\\)\uff0c\u8fd9\u610f\u5473\u7740\\(b \u2212 Aw^* =0\\)\uff0c\u56e0\u6b64</p> \\[w^*=A^{-1}b.\\] <p>\u5173\u4e8e\u8be5\u6536\u655b\u503c\u7684\u51e0\u70b9\u8bf4\u660e\u5982\u4e0b\u3002</p> <ul> <li> <p>\u77e9\u9635\\(A\\)\u662f\u5426\u53ef\u9006\uff1f\u7b54\u6848\u662f\u80af\u5b9a\u7684\u3002\u4e8b\u5b9e\u4e0a\uff0c\\(A\\)\u4e0d\u4ec5\u53ef\u9006\uff0c\u8fd8\u662f\u6b63\u5b9a\u77e9\u9635\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5bf9\u4e8e\u4efb\u610f\u9002\u5f53\u7ef4\u5ea6\u7684\u975e\u96f6\u5411\u91cf \\(\\mathbf{x}\\)\uff0c\u5747\u6709\\(\\mathbf{x}^T A \\mathbf{x} &gt;0\\)\u3002\u8bc1\u660e\u8fc7\u7a0b\u89c1Box 8.4\u3002</p> </li> <li> <p>\u5982\u4f55\u89e3\u91ca\\(w^* = A^{-1}b\\)\u7684\u542b\u4e49\uff1f\u5b83\u5b9e\u9645\u4e0a\u662f\u6700\u5c0f\u5316\u6295\u5f71\u8d1d\u5c14\u66fc\u8bef\u5dee\u7684\u6700\u4f18\u89e3\u3002\u5177\u4f53\u7ec6\u8282\u5c06\u5728\u7b2c8.2.5\u8282\u4e2d\u9610\u8ff0\u3002</p> </li> <li> <p>\u8868\u683c\u5316\u65b9\u6cd5\u662f\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\u3002\u4e00\u4e2a\u6709\u8da3\u7684\u7ed3\u679c\u662f\uff0c\u5f53\u6743\u91cd\u5411\u91cf\\(\\mathbf{w}\\)\u7684\u7ef4\u5ea6\u7b49\u4e8e\u72b6\u6001\u7a7a\u95f4\u5927\u5c0f\\(n = |\\mathcal{S}|\\)\u4e14\u7279\u5f81\u51fd\u6570\\(\\phi(s) = [0, \\ldots,1, \\ldots,0]^T\\)(\u5176\u4e2d\u5bf9\u5e94\u72b6\u6001\\(s\\)\u7684\u5143\u7d20\u4e3a\\(1\\))\u65f6\uff0c\u6211\u4eec\u5f97\u5230</p> </li> </ul> \\[w^*=A^{-1}b=v_\\pi.\\tag{8.23}\\] <p>\u8be5\u65b9\u7a0b\u8868\u660e\u5f85\u5b66\u4e60\u7684\u53c2\u6570\u5411\u91cf\u5b9e\u9645\u4e0a\u662f\u771f\u5b9e\u72b6\u6001\u503c\u3002\u8fd9\u4e00\u7ed3\u8bba\u4e0e\u8868\u683c\u578bTD\u7b97\u6cd5\u662fTD-Linear\u7b97\u6cd5\u7279\u4f8b\u7684\u4e8b\u5b9e\u76f8\u7b26(\u5982Box 8.2\u6240\u8ff0)\u3002\u5f0f\\((8.23)\\)\u7684\u8bc1\u660e\u5982\u4e0b\uff1a\u6b64\u65f6\u53ef\u9a8c\u8bc1\\(\\Phi = I\\)\uff0c\u56e0\u6b64\\(A = \\Phi^\\text{T}D(I - \\gamma P^\\pi)\\Phi = D(I - \\gamma P^\\pi)\\)\u4e14\\(b = \\Phi^\\text{T}Dr^\\pi = Dr^\\pi\\)\u3002\u6545\u800c\u6709\\(w^* = A^{-1}b = (I - \\gamma P^\\pi)^{-1}D^{-1}Dr^\\pi = (I - \\gamma P^\\pi)^{-1}r^\\pi = v^\\pi\\)\u3002</p> <p>\u5176\u6b21\uff0c\u6211\u4eec\u8bc1\u660e\u5f53\\(t \\to \\infty\\)\u65f6\uff0c\\((8.22)\\)\u5f0f\u4e2d\u7684\\(w_t\\)\u6536\u655b\u4e8e\\(w^* = A^{-1}b\\)\u3002\u7531\u4e8e\\((8.22)\\)\u5f0f\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u786e\u5b9a\u6027\u8fc7\u7a0b\uff0c\u53ef\u901a\u8fc7\u591a\u79cd\u65b9\u6cd5\u8bc1\u660e\u3002\u4e0b\u9762\u7ed9\u51fa\u4e24\u79cd\u8bc1\u660e\u65b9\u5f0f\u3002</p> <ul> <li> <p>\u8bc1\u660e\u65b9\u6cd51: \u5b9a\u4e49\u6536\u655b\u8bef\u5dee\u4e3a\\(\\delta_t = w_t - w^*\\)\u3002\u53ea\u9700\u8bc1\u660e\\(\\delta_t\\)\u6536\u655b\u4e8e\u96f6\u5373\u53ef\u3002\u4e3a\u6b64\uff0c\u5c06\\(w_t = \\delta_t + w^*\\)</p> \\[\\delta_{t+1}=\\delta_t-\\alpha_tA\\delta_t=(I-\\alpha_tA)\\delta_t.\\] <p>\u7531\u6b64\u53ef\u5f97</p> \\[\\delta_{t+1}=(I-\\alpha_tA)\\cdots(I-\\alpha_0A)\\delta_0.\\] <p>\u8003\u8651\u6240\u6709\u65f6\u523b \\(t\\)\u4e0b \\(\\alpha_t = \\alpha\\)\u7684\u7b80\u5355\u60c5\u5f62\uff0c\u6b64\u65f6\u53ef\u5f97</p> \\[\\|\\delta_{t+1}\\|_2\\leq\\|I-\\alpha A\\|_2^{t+1}\\|\\delta_0\\|_2.\\] <p>\u5f53\\(\\alpha &gt;0\\)\u5145\u5206\u5c0f\u65f6\uff0c\u6709\\(\\|I - \\alpha A\\|_2 &lt;1\\)\uff0c\u56e0\u6b64\u5f53\\(t \\to \\infty\\)\u65f6\\(\\delta_t \\to0\\)\u3002\u8be5\u4e0d\u7b49\u5f0f\u6210\u7acb\u7684\u539f\u56e0\u662f\\(A\\)\u6b63\u5b9a\uff0c\u6545\u5bf9\u4efb\u610f\\(x\\)\u5747\u6709\\(x^T(I - \\alpha A)x &lt;1\\)\u3002</p> </li> <li> <p>\u8bc1\u660e\u65b9\u6cd52: \u8003\u8651\u51fd\u6570\\(g(w) = b - Aw\\)\u3002\u7531\u4e8e\\(w^*\\)\u662f\u65b9\u7a0b\\(g(w) =0\\)\u7684\u6839\uff0c\u8be5\u95ee\u9898\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u6c42\u6839\u95ee\u9898\u3002\u5f0f\\((8.22)\\)\u4e2d\u7684\u7b97\u6cd5\u5b9e\u9645\u4e0a\u662f\u4e00\u79cdRM\u7b97\u6cd5\u3002\u867d\u7136\u539f\u59cb RM\u7b97\u6cd5\u662f\u4e3a\u968f\u673a\u8fc7\u7a0b\u8bbe\u8ba1\u7684\uff0c\u4f46\u5b83\u540c\u6837\u9002\u7528\u4e8e\u786e\u5b9a\u6027\u60c5\u5f62\u3002RM\u7b97\u6cd5\u7684\u6536\u655b\u6027\u53ef\u4ee5\u89e3\u91ca\u8fed\u4ee3\u5f0f\\(w_{t+1} = w_t + \\alpha_t(b - Aw_t)\\)\u7684\u6536\u655b\u884c\u4e3a\uff1a\u5f53\u6ee1\u8db3\\(\\sum_t \\alpha_t = \\infty\\)\u4e14\\(\\sum_t \\alpha_t^2 &lt; \\infty\\)\u65f6\uff0c\\(w_t\\)\u5c06\u6536\u655b\u81f3\\(w^*\\)\u3002</p> </li> </ul>"},{"location":"Chapter-8/8-2/#td","title":"TD\u5b66\u4e60\u6700\u5c0f\u5316\u6295\u5f71\u8d1d\u5c14\u66fc\u8bef\u5dee","text":"<p>\u867d\u7136\u6211\u4eec\u5df2\u7ecf\u8bc1\u660eTD-Linear\u7b97\u6cd5\u6536\u655b\u4e8e\\(w^* = A^{-1}b\\)\uff0c\u4f46\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u8bc1\u660e\\(w^*\\)\u662f\u6700\u5c0f\u5316\u6295\u5f71\u8d1d\u5c14\u66fc\u8bef\u5dee\u7684\u6700\u4f18\u89e3\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u9996\u5148\u56de\u987e\u4e09\u4e2a\u76ee\u6807\u51fd\u6570\u3002</p> <ul> <li> <p>\u7b2c\u4e00\u4e2a\u76ee\u6807\u51fd\u6570\u662f</p> \\[J_E(w)=\\mathbb{E}[(v_\\pi(S)-\\hat{v}(S,w))^2],\\] <p>\u8be5\u5b9a\u4e49\u5df2\u5728(8.3)\u8282\u4e2d\u7ed9\u51fa\u3002\u6839\u636e\u671f\u671b\u7684\u5b9a\u4e49\uff0c\\(J_E(\\mathbf{w})\\)\u53ef\u91cd\u65b0\u8868\u793a\u4e3a\u77e9\u9635-\u5411\u91cf\u5f62\u5f0f\uff1a</p> \\[J_E(w)=\\|\\hat{v}(w)-v_\\pi\\|_D^2,\\] <p>\u5176\u4e2d \\(v_\\pi\\)\u4e3a\u771f\u5b9e\u72b6\u6001\u503c\u5411\u91cf\uff0c\\(\\hat{v}(w)\\)\u4e3a\u5176\u8fd1\u4f3c\u503c\u3002\u6b64\u5904 \\(\\|\\cdot\\|_D\\)\u4e3a\u52a0\u6743\u8303\u6570\uff1a\\(\\|x\\|_D^2 = x^\\top D x = \\|D^{1/2}x\\|_2^2\\)\uff0c\u5176\u4e2d \\(D\\)\u7531\u5f0f (8.20)\u7ed9\u51fa\u3002</p> <p>\u8fd9\u662f\u6211\u4eec\u5728\u8ba8\u8bba\u51fd\u6570\u903c\u8fd1\u65f6\u80fd\u8bbe\u60f3\u7684\u6700\u7b80\u5355\u76ee\u6807\u51fd\u6570\u3002\u7136\u800c\uff0c\u5b83\u4f9d\u8d56\u4e8e\u771f\u5b9e\u72b6\u6001(\u8be5\u72b6\u6001\u672a\u77e5)\u3002\u4e3a\u83b7\u5f97\u53ef\u5b9e\u73b0\u7684\u7b97\u6cd5\uff0c\u6211\u4eec\u5fc5\u987b\u8003\u8651\u5176\u4ed6\u76ee\u6807\u51fd\u6570\uff0c\u4f8b\u5982\u8d1d\u5c14\u66fc\u8bef\u5dee\u548c\u6295\u5f71\u8d1d\u5c14\u66fc\u8bef\u5dee[50\u201354]\u3002</p> </li> <li> <p>\u7b2c\u4e8c\u4e2a\u76ee\u6807\u51fd\u6570\u662f\u8d1d\u5c14\u66fc\u8bef\u5dee(Bellman error)\u3002\u7279\u522b\u5730\uff0c\u7531\u4e8e\\(v_\\pi\\)\u6ee1\u8db3\u8d1d\u5c14\u66fc\u65b9\u7a0b\\(v_\\pi = r_\\pi + \\gamma P_\\pi v_\\pi\\)\uff0c\u53ef\u4ee5\u9884\u671f\u4f30\u8ba1\u503c\\(\\hat{v}(w)\\)\u4e5f\u5e94\u5c3d\u53ef\u80fd\u6ee1\u8db3\u8be5\u65b9\u7a0b\u3002\u56e0\u6b64\uff0c\u8d1d\u5c14\u66fc\u8bef\u5dee\u4e3a</p> \\[J_{BE}(w)=\\|\\hat{v}(w)-(r_\\pi+\\gamma P_\\pi\\hat{v}(w))\\|_D^2\\doteq\\|\\hat{v}(w)-T_\\pi(\\hat{v}(w))\\|_D^2.\\tag{8.30}\\] <p>\u6b64\u5904\uff0c\\(T_\\pi(\\cdot)\\)\u4e3a\u8d1d\u5c14\u66fc\u7b97\u5b50\u3002\u7279\u522b\u5730\uff0c\u5bf9\u4e8e\u4efb\u610f\u5411\u91cf \\(\\mathbf{x} \\in \\mathbb{R}^n\\)\uff0c\u8d1d\u5c14\u66fc\u7b97\u5b50\u5b9a\u4e49\u4e3a</p> \\[T_\\pi(x)\\doteq r_\\pi+\\gamma P_\\pi x.\\] <p>\u6700\u5c0f\u5316\u8d1d\u5c14\u66fc\u8bef\u5dee\u662f\u4e00\u4e2a\u6807\u51c6\u7684\u6700\u5c0f\u4e8c\u4e58\u95ee\u9898\u3002\u6b64\u5904\u7701\u7565\u6c42\u89e3\u8fc7\u7a0b\u7684\u7ec6\u8282\u3002</p> </li> </ul> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD - \u7b2c\u4e09\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\\((8.30)\\)\u4e2d\u7684 \\(J_{BE}(w)\\)\u53ef\u80fd\u65e0\u6cd5\u88ab\u6700\u5c0f\u5316\u81f3\u96f6\uff0c\u8fd9\u662f\u7531\u4e8e\u8fd1\u4f3c\u5668\u7684\u6709\u9650\u8fd1\u4f3c\u80fd\u529b\u6240\u81f4\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u80fd\u591f\u88ab\u6700\u5c0f\u5316\u81f3\u96f6\u7684\u76ee\u6807\u51fd\u6570\u662f\u6295\u5f71\u8d1d\u5c14\u66fc\u8bef\u5dee(projected bellman error)\uff1a ======= - \u7b2c\u4e09\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\\((8.30)\\)\u4e2d\u7684 \\(J_{BE}(w)\\)\u53ef\u80fd\u65e0\u6cd5\u88ab\u6700\u5c0f\u5316\u81f3\u96f6\uff0c\u8fd9\u662f\u7531\u4e8e\u8fd1\u4f3c\u5668\u7684\u6709\u9650\u8fd1\u4f3c\u80fd\u529b\u6240\u81f4\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u80fd\u591f\u88ab\u6700\u5c0f\u5316\u81f3\u96f6\u7684\u76ee\u6807\u51fd\u6570\u662f\u6295\u5f71\u8d1d\u5c14\u66fc\u8bef\u5dee\uff1a</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <pre><code>$$J_{PBE}(w)=\\|\\hat{v}(w)-MT_\\pi(\\hat{v}(w))\\|_D^2,$$\n\n\u5176\u4e2d$M \\in \\mathbb{R}^{n \\times n}$\u4e3a\u6b63\u4ea4\u6295\u5f71\u77e9\u9635\uff0c\u5176\u51e0\u4f55\u610f\u4e49\u662f\u5c06\u4efb\u610f\u5411\u91cf\u6295\u5f71\u81f3\u6240\u6709\u8fd1\u4f3c\u89e3\u6784\u6210\u7684\u7a7a\u95f4\u3002\n</code></pre> <p>\u4e8b\u5b9e\u4e0a\uff0c\\((8.13)\\)\u4e2d\u7684TD\u5b66\u4e60\u7b97\u6cd5\u65e8\u5728\u6700\u5c0f\u5316\u6295\u5f71\u8d1d\u5c14\u66fc\u8bef\u5dee\\(J_{PBE}\\)\u800c\u975e\\(J_E\\)\u6216\\(J_{BE}\\)\u3002\u539f\u56e0\u5982\u4e0b\uff1a\u4e3a\u7b80\u5316\u5206\u6790\uff0c\u8003\u8651\u7ebf\u6027\u60c5\u51b5\\(\\hat{v}(w) = \\Phi w\\)\uff0c\u5176\u4e2d\\(\\Phi\\)\u7531\\((8.20)\\)\u5f0f\u5b9a\u4e49\u3002\\(\\Phi\\)\u7684\u503c\u57df\u7a7a\u95f4\u662f\u6240\u6709\u53ef\u80fd\u7684\u7ebf\u6027\u8fd1\u4f3c\u6784\u6210\u7684\u96c6\u5408\u3002\u6b64\u65f6\uff0c</p> \\[M=\\Phi(\\Phi^TD\\Phi)^{-1}\\Phi^TD\\in\\mathbb{R}^{n\\times n}\\] <p>\u662f\u6295\u5f71\u77e9\u9635\uff0c\u53ef\u5c06\u4efb\u610f\u5411\u91cf\u51e0\u4f55\u6295\u5f71\u5230\u503c\u57df\u7a7a\u95f4\\(\\Phi\\)\u4e0a\u3002\u7531\u4e8e\\(\\hat{v}(w)\\)\u4f4d\u4e8e \\(\\Phi\\)\u7684\u503c\u57df\u7a7a\u95f4\u5185\uff0c\u603b\u80fd\u627e\u5230\u4f7f\\(J_{PBE}(w)\\)\u6700\u5c0f\u5316\u81f3\u96f6\u7684\\(w\\)\u503c\u3002\u53ef\u4ee5\u8bc1\u660e\uff0c\u4f7f\\(J_{PBE}(w)\\)\u6700\u5c0f\u5316\u7684\u89e3\u4e3a\\(w^* = A^{-1}b\\)\u3002\u5373</p> \\[w^*=A^{-1}b=\\arg\\min_wJ_{PBE}(w),\\] <p>\u8bc1\u660e\u5728Box 8.5\u4e2d\u7ed9\u51fa</p> <p>\u7531\u4e8eTD\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u6700\u5c0f\u5316\\(J_{PBE}\\)\u800c\u975e\\(J_E\\)\uff0c\u81ea\u7136\u4f1a\u4ea7\u751f\u4e00\u4e2a\u95ee\u9898\uff1a\u4f30\u8ba1\u503c\\(\\hat{v}(w)\\)\u4e0e\u771f\u5b9e\u72b6\u6001\u503c\\(v_\\pi\\)\u7684\u63a5\u8fd1\u7a0b\u5ea6\u5982\u4f55\uff1f\u5728\u7ebf\u6027\u60c5\u51b5\u4e0b\uff0c\u6700\u5c0f\u5316\u6295\u5f71\u8d1d\u5c14\u66fc\u8bef\u5dee\u7684\u4f30\u8ba1\u503c\u4e3a\\(\\hat{v}(w^*) = \\Phi w^*\\)\u3002\u8be5\u4f30\u8ba1\u503c\u4e0e\u771f\u5b9e\u72b6\u6001\u503c\\(v_\\pi\\)\u7684\u504f\u5dee\u6ee1\u8db3</p> \\[\\|\\hat{v}(w^*)-v_\\pi\\|_D=\\|\\Phi w^*-v_\\pi\\|_D\\leq\\frac{1}{1-\\gamma}\\min_w\\|\\hat{v}(w)-v_\\pi\\|_D=\\frac{1}{1-\\gamma}\\min_w\\sqrt{J_E(w)}.\\tag{8.32}\\] <p>\u8be5\u4e0d\u7b49\u5f0f\u7684\u8bc1\u660e\u89c1Box 8.6\u3002\u4e0d\u7b49\u5f0f\\((8.32)\\)\u8868\u660e\uff0c\\(\\Phi w^*\\)\u4e0e\\(v_\\pi\\)\u4e4b\u95f4\u7684\u5dee\u5f02\u4e0a\u754c\u7531\\(J_E(w)\\)\u7684\u6700\u5c0f\u503c\u51b3\u5b9a\u3002\u7136\u800c\u8be5\u754c\u9650\u8f83\u4e3a\u5bbd\u677e\uff0c\u5c24\u5176\u5f53\\(\\gamma\\)\u63a5\u8fd1\\(1\\)\u65f6\u3002\u56e0\u6b64\u8be5\u7ed3\u8bba\u4e3b\u8981\u5177\u6709\u7406\u8bba\u4ef7\u503c\u3002</p>"},{"location":"Chapter-8/8-2/#td_1","title":"\u6700\u5c0f\u4e8c\u4e58TD","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u4ecb\u7ecd\u4e00\u79cd\u79f0\u4e3a\u6700\u5c0f\u4e8c\u4e58\u65f6\u5e8f\u5dee\u5206(LSTD)\u7684\u7b97\u6cd5[57]\u3002\u4e0e\u7ebf\u6027\u65f6\u5e8f\u5dee\u5206(TD-Linear)\u7b97\u6cd5\u7c7b\u4f3c\uff0cLSTD\u7684\u76ee\u6807\u662f\u6700\u5c0f\u5316\u6295\u5f71\u8d1d\u5c14\u66fc\u8bef\u5dee\u3002\u4f46\u8be5\u7b97\u6cd5\u76f8\u8f83\u4e8eTD-Linear\u5177\u6709\u82e5\u5e72\u4f18\u52bf\u3002</p> <p>\u56de\u987e\u6700\u5c0f\u5316\u6295\u5f71\u8d1d\u5c14\u66fc\u8bef\u5dee\u7684\u6700\u4f18\u53c2\u6570\u4e3a\\(w^* = A^{-1}b\\)\uff0c\u5176\u4e2d\\(A = \\Phi^TD(I - \\gamma P^\\pi)\\Phi\\)\u4e14\\(b = \\Phi^TDr^\\pi\\)\u3002\u5b9e\u9645\u4e0a\uff0c\u7531\u5f0f\\((8.27)\\)\u53ef\u77e5\uff0c\\(A\\)\u548c\\(b\\)\u4ea6\u53ef\u8868\u793a\u4e3a</p> \\[\\begin{aligned}&amp;A=\\mathbb{E}\\left[\\phi(s_t)\\left(\\phi(s_t)-\\gamma\\phi(s_{t+1})\\right)^T\\right],\\\\&amp;b=\\mathbb{E}\\left[r_{t+1}\\phi(s_{t})\\right].\\end{aligned}\\] <p>\u4e0a\u8ff0\u4e24\u4e2a\u65b9\u7a0b\u8868\u660e\uff0c\\(A\\)\u548c \\(b\\)\u5206\u522b\u662f \\(s_t\\)\u3001\\(s_{t+1}\\)\u3001\\(r_{t+1}\\)\u7684\u671f\u671b\u503c\u3002LSTD\u7b97\u6cd5\u7684\u6838\u5fc3\u601d\u60f3\u5f88\u7b80\u5355\uff1a\u82e5\u80fd\u901a\u8fc7\u968f\u673a\u91c7\u6837\u76f4\u63a5\u83b7\u5f97\\(A\\)\u548c\\(b\\)\u7684\u4f30\u8ba1\u91cf\\(\\hat{A}\\)\u4e0e\\(\\hat{b}\\)\uff0c\u5219\u6700\u4f18\u53c2\u6570\u53ef\u76f4\u63a5\u4f30\u8ba1\u4e3a\\(w^* \\approx \\hat{A}^{-1}\\hat{b}\\)\u3002</p> <p>\u7279\u522b\u5730\uff0c\u5047\u8bbe\\((s_0, r_1, s_1, \\ldots, s_t, r_{t+1}, s_{t+1}, \\ldots)\\)\u662f\u901a\u8fc7\u9075\u5faa\u7ed9\u5b9a\u7b56\u7565\\(\\pi\\)\u6240\u83b7\u5f97\u7684\u8f68\u8ff9\u3002\u8bbe\\(\\hat{A}_t\\)\u548c \\(\\hat{b}_t\\)\u5206\u522b\u4e3a\u65f6\u523b\\(t\\)\u65f6\\(A\\)\u548c\\(b\\)\u7684\u4f30\u8ba1\u503c\uff0c\u5176\u8ba1\u7b97\u65b9\u5f0f\u4e3a\u6837\u672c\u5747\u503c\uff1a</p> \\[\\begin{aligned}&amp;\\mathrm{A}=\\sum_{k=0}^{t-1}\\phi(s_k)\\left(\\phi(s_k)-\\gamma\\phi(s_{k+1})\\right)^T,\\\\&amp;\\hat{b}_{t}=\\sum_{k=0}^{t-1}r_{k+1}\\phi(s_{k}).\\end{aligned}\\tag{8.34}\\] <p>\u5219\u4f30\u8ba1\u53c2\u6570\u4e3a</p> \\[w_t=\\hat{A}_t^{-1}\\hat{b}_t.\\] <p>\u8bfb\u8005\u53ef\u80fd\u4f1a\u7591\u60d1\\((8.34)\\)\u5f0f\u53f3\u4fa7\u662f\u5426\u9057\u6f0f\u4e86\\(1/t\\)\u7684\u7cfb\u6570\u3002\u5b9e\u9645\u4e0a\uff0c\u8be5\u7cfb\u6570\u88ab\u6709\u610f\u7701\u7565\u4ee5\u7b80\u5316\u8868\u8fbe\u5f0f\uff0c\u56e0\u4e3a\u7701\u7565\u540e\\(w_t\\)\u7684\u503c\u4fdd\u6301\u4e0d\u53d8\u3002\u7531\u4e8e\\(\\hat{A}_t\\)\u5728\u5c0f\u6837\u672c\u60c5\u51b5\u4e0b\u53ef\u80fd\u4e0d\u53ef\u9006\uff0c\u901a\u5e38\u9700\u8981\u5bf9\u5176\u65bd\u52a0\u5fae\u5c0f\u504f\u7f6e\\(\\sigma I\\)(\u5176\u4e2d\\(I\\)\u4e3a\u5355\u4f4d\u77e9\u9635\uff0c\\(\\sigma\\)\u4e3a\u5fae\u5c0f\u6b63\u6570)\u3002</p> <p>LSTD\u7b97\u6cd5\u7684\u4f18\u52bf\u5728\u4e8e\uff0c\u76f8\u8f83\u4e8eTD\u65b9\u6cd5\uff0c\u5b83\u80fd\u66f4\u9ad8\u6548\u5730\u5229\u7528\u7ecf\u9a8c\u6837\u672c\u4e14\u6536\u655b\u901f\u5ea6\u66f4\u5feb\u3002\u8fd9\u662f\u56e0\u4e3a\u8be5\u7b97\u6cd5\u662f\u4e13\u95e8\u57fa\u4e8e\u6700\u4f18\u89e3\u8868\u8fbe\u5f0f\u77e5\u8bc6\u8bbe\u8ba1\u7684\u2014\u2014\u5bf9\u95ee\u9898\u7684\u7406\u89e3\u8d8a\u6df1\u5165\uff0c\u7b97\u6cd5\u8bbe\u8ba1\u5c31\u8d8a\u7cbe\u826f\u3002</p> <p>LSTD\u7b97\u6cd5\u7684\u7f3a\u70b9\u5982\u4e0b\u3002\u9996\u5148\uff0c\u5b83\u4ec5\u80fd\u4f30\u8ba1\u72b6\u6001\u503c\uff1b\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u5982\u540e\u6587\u6240\u793a\uff0cTD\u7b97\u6cd5\u53ef\u6269\u5c55\u81f3\u884c\u52a8\u503c\u4f30\u8ba1\u3002\u6b64\u5916\uff0cTD\u7b97\u6cd5\u5141\u8bb8\u4f7f\u7528\u975e\u7ebf\u6027\u8fd1\u4f3c\u5668\uff0c\u800cLSTD\u5219\u4e0d\u5177\u5907\u8be5\u7279\u6027\u2014\u2014\u8fd9\u662f\u56e0\u4e3a\u8be5\u7b97\u6cd5\u662f\u4e13\u95e8\u57fa\u4e8e\\(w^*\\)\u7684\u8868\u8fbe\u5f0f\u8bbe\u8ba1\u7684\u3002\u5176\u6b21\uff0cLSTD\u7684\u8ba1\u7b97\u6210\u672c\u9ad8\u4e8eTD\u7b97\u6cd5\uff1aLSTD\u5728\u6bcf\u6b21\u66f4\u65b0\u6b65\u9aa4\u4e2d\u9700\u5904\u7406\\(m \\times m\\)\u77e9\u9635\uff0c\u800cTD\u4ec5\u66f4\u65b0\\(m\\)\u7ef4\u5411\u91cf\u3002\u66f4\u91cd\u8981\u7684\u662f\uff0cLSTD\u6bcf\u4e00\u6b65\u90fd\u9700\u8981\u8ba1\u7b97\\(\\hat{A}_t\\)\u7684\u9006\u77e9\u9635\uff0c\u5176\u8ba1\u7b97\u590d\u6742\u5ea6\u4e3a\\(O(m^3)\\)\u3002\u89e3\u51b3\u8be5\u95ee\u9898\u7684\u901a\u7528\u65b9\u6cd5\u662f\u76f4\u63a5\u66f4\u65b0\\(\\hat{A}_t\\)\u7684\u9006\u77e9\u9635\u800c\u975e\\(\\hat{A}_t\\)\u672c\u8eab\uff0c\u5177\u4f53\u800c\u8a00\uff0c\\(\\hat{A}_{t+1}\\)\u53ef\u901a\u8fc7\u5982\u4e0b\u9012\u5f52\u65b9\u5f0f\u8ba1\u7b97\uff1a</p> \\[\\begin{aligned}\\hat{A}_{t+1}&amp;=\\sum_{k=0}^t\\phi(s_k)\\left(\\phi(s_k)-\\gamma\\phi(s_{k+1})\\right)^T\\\\&amp;=\\sum_{k=0}^{t-1}\\phi(s_{k})\\left(\\phi(s_{k})-\\gamma\\phi(s_{k+1})\\right)^{T}+\\phi(s_{t})\\left(\\phi(s_{t})-\\gamma\\phi(s_{t+1})\\right)^{T}\\\\&amp;=\\hat{A}_t+\\phi(s_t)\\left(\\phi(s_t)-\\gamma\\phi(s_{t+1})\\right)^T.\\end{aligned}\\] <p>\u4e0a\u8ff0\u8868\u8fbe\u5f0f\u5c06 \\(\\hat{A}_{t+1}\\)\u5206\u89e3\u4e3a\u4e24\u4e2a\u77e9\u9635\u4e4b\u548c\uff0c\u5176\u9006\u77e9\u9635\u53ef\u6309\u6587\u732e[58]\u65b9\u6cd5\u8ba1\u7b97\u4e3a</p> \\[\\begin{aligned}\\hat{A}_{t+1}^{-1}&amp;=\\left(\\hat{A}_{t}+\\phi(s_{t})\\left(\\phi(s_{t})-\\gamma\\phi(s_{t+1})\\right)^{T}\\right)^{-1}\\\\&amp;=\\hat{A}_{t}^{-1}+\\frac{\\hat{A}_{t}^{-1}\\phi(s_{t})\\left(\\phi(s_{t})-\\gamma\\phi(s_{t+1})\\right)^{T}\\hat{A}_{t}^{-1}}{1+\\left(\\phi(s_{t})-\\gamma\\phi(s_{t+1})\\right)^{T}\\hat{A}_{t}^{-1}\\phi(s_{t})}.\\end{aligned}\\] <p>\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5b58\u50a8\u5e76\u66f4\u65b0\\(\\hat{A}^{-1}_t\\)\u4ee5\u907f\u514d\u8ba1\u7b97\u77e9\u9635\u9006\u3002\u8be5\u9012\u5f52\u7b97\u6cd5\u65e0\u9700\u8bbe\u7f6e\u6b65\u957f\uff0c\u4f46\u9700\u8981\u7ed9\u5b9a\\(\\hat{A}^{-1}_0\\)\u7684\u521d\u59cb\u503c\u3002\u6b64\u7c7b\u9012\u5f52\u7b97\u6cd5\u7684\u521d\u59cb\u503c\u901a\u5e38\u9009\u4e3a\\(\\hat{A}^{-1}_0 = \\sigma I\\)\uff0c\u5176\u4e2d\\(\\sigma\\)\u4e3a\u6b63\u6570\u3002\u5173\u4e8e\u9012\u5f52\u6700\u5c0f\u4e8c\u4e58\u6cd5\u7684\u8be6\u7ec6\u6559\u7a0b\u53ef\u53c2\u9605\u6587\u732e[59]\u3002</p>"},{"location":"Chapter-8/8-3/","title":"8.3-\u57fa\u4e8e\u503c\u51fd\u6570\u7684\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5:\u884c\u52a8\u503c\u4f30\u8ba1","text":""},{"location":"Chapter-8/8-3/#83","title":"8.3 \u57fa\u4e8e\u503c\u51fd\u6570\u7684\u65f6\u5e8f\u5dee\u5206\u7b97\u6cd5:\u884c\u52a8\u503c\u4f30\u8ba1","text":"<p>8.2\u8282\u4ecb\u7ecd\u4e86\u72b6\u6001\u503c\u4f30\u8ba1\u95ee\u9898\uff0c\u672c\u8282\u5c06\u9610\u8ff0\u5982\u4f55\u4f30\u8ba1\u884c\u52a8\u503c\u3002\u8868\u683c\u578bSarsa\u7b97\u6cd5\u548c\u8868\u683c\u578bQ-learning\u7b97\u6cd5\u5c06\u88ab\u63a8\u5e7f\u81f3\u503c\u51fd\u6570\u8fd1\u4f3c\u7684\u60c5\u5f62\u3002\u8bfb\u8005\u5c06\u4f1a\u53d1\u73b0\uff0c\u8fd9\u79cd\u63a8\u5e7f\u662f\u76f4\u63a5\u4e86\u5f53\u7684\u3002</p>"},{"location":"Chapter-8/8-3/#831sarsa","title":"8.3.1\u57fa\u4e8e\u51fd\u6570\u8fd1\u4f3c\u7684Sarsa\u7b97\u6cd5","text":"<p>\u901a\u8fc7\u5c06\u72b6\u6001\u503c\u66ff\u6362\u4e3a\u884c\u52a8\u503c\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u4ece\u5f0f\\((8.13)\\)\u63a8\u5bfc\u51fa\u51fd\u6570\u903c\u8fd1\u7684Sarsa\u7b97\u6cd5\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5047\u8bbe \\(q_\\pi(s, a)\\)\u7531 \\(\\hat{q}(s, a, \\mathbf{w})\\)\u8fd1\u4f3c\u8868\u793a\uff0c\u5c06\u5f0f\uff088.13\uff09\u4e2d\u7684 \\(\\hat{v}(s, \\mathbf{w})\\)\u66ff\u6362\u4e3a \\(\\hat{q}(s, a, \\mathbf{w})\\)\u5373\u53ef\u5f97\u5230</p> \\[w_{t+1}=w_{t}+\\alpha_{t}\\left[r_{t+1}+\\gamma\\hat{q}(s_{t+1},a_{t+1},w_{t})-\\hat{q}(s_{t},a_{t},w_{t})\\right]\\nabla_{w}\\hat{q}(s_{t},a_{t},w_{t}).\\tag{8.35}\\] <p>\\((8.35)\\)\u5f0f\u7684\u5206\u6790\u4e0e\\((8.13)\\)\u5f0f\u7c7b\u4f3c\uff0c\u6b64\u5904\u4ece\u7565\u3002\u5f53\u91c7\u7528\u7ebf\u6027\u51fd\u6570\u65f6\uff0c\u53ef\u5f97</p> \\[\\hat{q}(s,a,w)=\\phi^T(s,a)w,\\] <p>\u5176\u4e2d\\(\\phi(s, a)\\)\u4e3a\u7279\u5f81\u5411\u91cf\u3002\u6b64\u65f6\\(\\nabla_w \\hat{q}(s, a, w) = \\phi(s, a)\\)\u3002</p> <p>\u5f0f\\((8.35)\\)\u4e2d\u7684\u4ef7\u503c\u4f30\u8ba1\u6b65\u9aa4\u53ef\u4e0e\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u76f8\u7ed3\u5408\u4ee5\u5b66\u4e60\u6700\u4f18\u7b56\u7565\uff0c\u8be5\u8fc7\u7a0b\u603b\u7ed3\u4e8e\u7b97\u6cd5\\(8.2\\)\u4e2d\u3002\u9700\u6ce8\u610f\u7684\u662f\uff0c\u8981\u51c6\u786e\u4f30\u8ba1\u7ed9\u5b9a\u7b56\u7565\u7684\u52a8\u4f5c\u4ef7\u503c\u9700\u8981\u5145\u5206\u591a\u6b21\u8fd0\u884c\u5f0f\\((8.35)\\)\u3002\u7136\u800c\u5728\u5b9e\u9645\u64cd\u4f5c\u4e2d\uff0c\u4ec5\u5728\u5207\u6362\u81f3\u7b56\u7565\u6539\u8fdb\u6b65\u9aa4\u524d\u6267\u884c\u4e00\u6b21\u5f0f\\((8.35)\\)\uff0c\u8fd9\u4e0e\u8868\u683c\u578bSarsa\u7b97\u6cd5\u7c7b\u4f3c\u3002\u6b64\u5916\uff0c\u7b97\u6cd5\\(8.2\\)\u7684\u5b9e\u73b0\u65e8\u5728\u89e3\u51b3\u4ece\u9884\u8bbe\u8d77\u59cb\u72b6\u6001\u5230\u76ee\u6807\u72b6\u6001\u7684\u8def\u5f84\u5bfb\u4f18\u95ee\u9898\uff0c\u56e0\u6b64\u65e0\u6cd5\u4e3a\u6240\u6709\u72b6\u6001\u627e\u5230\u6700\u4f18\u7b56\u7565\u3002\u4f46\u82e5\u5177\u5907\u5145\u8db3\u7684\u5b9e\u9a8c\u6570\u636e\uff0c\u8be5\u5b9e\u73b0\u8fc7\u7a0b\u53ef\u8f7b\u677e\u8c03\u6574\u4e3a\u6c42\u89e3\u6bcf\u4e2a\u72b6\u6001\u7684\u6700\u4f18\u7b56\u7565\u3002</p> <p>\u56fe\\(8.9\\)\u5c55\u793a\u4e86\u4e00\u4e2a\u793a\u4f8b\u6027\u6848\u4f8b\u3002\u8be5\u4efb\u52a1\u8981\u6c42\u667a\u80fd\u4f53\u4ece\u5de6\u4e0a\u89d2\u72b6\u6001\u51fa\u53d1\uff0c\u627e\u5230\u4e00\u6761\u80fd\u62b5\u8fbe\u76ee\u6807\u4f4d\u7f6e\u7684\u6700\u4f18\u7b56\u7565\u3002\u968f\u7740\u8bad\u7ec3\u8fdb\u884c\uff0c\u6bcf\u8f6e\u6b21\u7684\u603b\u5956\u52b1\u503c\u4e0e\u8def\u5f84\u957f\u5ea6\u5747\u9010\u6e10\u6536\u655b\u81f3\u7a33\u5b9a\u503c\u3002\u672c\u6848\u4f8b\u4e2d\uff0c\u7ebf\u6027\u7279\u5f81\u5411\u91cf\u9009\u75285\u9636\u5085\u91cc\u53f6\u51fd\u6570\uff0c\u5176\u6570\u5b66\u8868\u8fbe\u5f0f\u5982\u5f0f\\((8.18)\\)\u6240\u793a\u3002</p> <p></p> <p>\u56fe\\(8.9\\)\uff1a\u91c7\u7528\u7ebf\u6027\u51fd\u6570\u903c\u8fd1\u7684Sarsa\u7b97\u6cd5\u3002\u53c2\u6570\u8bbe\u7f6e\u4e3a\uff1a\\(\\gamma=0.9\\)\uff0c\\(\\varepsilon=0.1\\)\uff0c\u8fb9\u754c\u5956\u52b1 \\( r_{\\text{boundary}} \\) =\u7981\u533a\u5956\u52b1 \\( r_{\\text{forbidden}} \\) = \u221210\uff0c\u76ee\u6807\u5956\u52b1 \\( r_{\\text{target}} \\) =1\uff0c\u5b66\u4e60\u7387\\(\\alpha=0.001\\)\u3002</p> <p></p> <p>\u7b97\u6cd58.2: \u57fa\u4e8e\u51fd\u6570\u8fd1\u4f3c\u7684Sarsa</p>"},{"location":"Chapter-8/8-3/#832-q-learning","title":"8.3.2 \u57fa\u4e8e\u51fd\u6570\u8fd1\u4f3c\u7684Q-learning","text":"<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u8868\u683c\u578bQ\u5b66\u4e60\u4e5f\u53ef\u4ee5\u63a8\u5e7f\u5230\u51fd\u6570\u8fd1\u4f3c\u7684\u60c5\u51b5\u3002\u5176\u66f4\u65b0\u89c4\u5219\u4e3a ======= \u8868\u683c\u578bQ\u5b66\u4e60\u4e5f\u53ef\u4ee5\u63a8\u5e7f\u5230\u51fd\u6570\u903c\u8fd1\u7684\u60c5\u51b5\u3002\u5176\u66f4\u65b0\u89c4\u5219\u4e3a</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> \\[w_{t+1}=w_{t}+\\alpha_{t}\\left[r_{t+1}+\\gamma\\max_{a\\in\\mathcal{A}(s_{t+1})}\\hat{q}(s_{t+1},a,w_{t})-\\hat{q}(s_{t},a_{t},w_{t})\\right]\\nabla_{w}\\hat{q}(s_{t},a_{t},w_{t}).\\tag{8.36}\\] <p>\u4e0a\u8ff0\u66f4\u65b0\u89c4\u5219\u4e0e\u5f0f\\((8.35)\\)\u7c7b\u4f3c\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u5c06\u5f0f\\((8.35)\\)\u4e2d\u7684\\(\\hat{q}(s_{t+1}, a_{t+1}, w_t)\\)\u66ff\u6362\u4e3a\\(\\max_{a \\in \\mathcal{A}(s_{t+1})} \\hat{q}(s_{t+1}, a, w_t)\\)\u3002</p> <p>\u4e0e\u8868\u683c\u5f62\u5f0f\u7c7b\u4f3c\uff0c\\((8.36)\\)\u65e2\u53ef\u91c7\u7528\u540c\u7b56\u7565(on-policy)\u65b9\u5f0f\u5b9e\u73b0\uff0c\u4e5f\u53ef\u91c7\u7528\u5f02\u7b56\u7565(off-policy)\u65b9\u5f0f\u5b9e\u73b0\u3002\u7b97\u6cd5\\(8.3\\)\u7ed9\u51fa\u4e86\u540c\u7b56\u7565\u7248\u672c\u7684\u5b9e\u73b0\u3002\u56fe\\(8.10\\)\u5c55\u793a\u4e86\u6f14\u793a\u540c\u7b56\u7565\u7248\u672c\u7684\u5b9e\u4f8b\uff0c\u8be5\u4efb\u52a1\u8981\u6c42\u5bfb\u627e\u80fd\u4f7f\u667a\u80fd\u4f53\u4ece\u5de6\u4e0a\u89d2\u72b6\u6001\u62b5\u8fbe\u76ee\u6807\u72b6\u6001\u7684\u6700\u4f18\u7b56\u7565\u3002</p> <p></p> <p>\u7b97\u6cd5\\(8.3\\)\uff1a\u57fa\u4e8e\u51fd\u6570\u8fd1\u4f3c\u7684Q-learning(\u540c\u7b56\u7565\u7248\u672c)</p> <p></p> <p>\u56fe\\(8.10\\)\uff1a\u91c7\u7528\u7ebf\u6027\u51fd\u6570\u903c\u8fd1\u7684Q\u5b66\u4e60\u7b97\u6cd5\u3002\u53c2\u6570\u8bbe\u7f6e\u4e3a\uff1a\\(\\gamma =0.9\\)\uff0c\\(\\epsilon =0.1\\)\uff0c\\(r_{\\text{boundary}} = r_{\\text{forbidden}} = -10\\)\uff0c\\(r_{\\text{target}} =1\\)\uff0c\u4e14\u5b66\u4e60\u7387\\(\\alpha =0.001\\)\u3002</p> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u8bfb\u8005\u53ef\u80fd\u6ce8\u610f\u5230\uff0c\u5728\u7b97\u6cd5\\(8.2\\)\u548c\u7b97\u6cd5\\(8.3\\)\u4e2d\uff0c\u867d\u7136\u4ef7\u503c\u51fd\u6570\u4ee5\u51fd\u6570\u5f62\u5f0f\u8868\u793a\uff0c\u4f46\u7b56\u75656\\(\\pi(a|s)\\)\u4ecd\u4ee5\u8868\u683c\u5f62\u5f0f\u5448\u73b0\u3002\u8fd9\u610f\u5473\u7740\u8be5\u65b9\u6cd5\u4ecd\u5047\u8bbe\u72b6\u6001\u548c\u52a8\u4f5c\u7a7a\u95f4\u662f\u6709\u9650\u7684\u3002\u5728\u7b2c\\(9\\)\u7ae0\u4e2d\u6211\u4eec\u5c06\u770b\u5230\uff0c\u7b56\u7565\u540c\u6837\u53ef\u4ee5\u8868\u793a\u4e3a\u51fd\u6570\u5f62\u5f0f\uff0c\u4ece\u800c\u80fd\u591f\u5904\u7406\u8fde\u7eed\u7684\u72b6\u6001\u548c\u52a8\u4f5c\u7a7a\u95f4\u3002 ======= \u8bfb\u8005\u53ef\u80fd\u6ce8\u610f\u5230\uff0c\u5728\u7b97\u6cd5\\(8.2\\)\u548c\u7b97\u6cd5\\(8.3\\)\u4e2d\uff0c\u867d\u7136\u4ef7\u503c\u51fd\u6570\u4ee5\u51fd\u6570\u5f62\u5f0f\u8868\u793a\uff0c\u4f46\u7b56\u7565\\(\\pi(a|s)\\)\u4ecd\u4ee5\u8868\u683c\u5f62\u5f0f\u5448\u73b0\u3002\u8fd9\u610f\u5473\u7740\u8be5\u65b9\u6cd5\u4ecd\u5047\u8bbe\u72b6\u6001\u548c\u52a8\u4f5c\u7a7a\u95f4\u662f\u6709\u9650\u7684\u3002\u5728\u7b2c\\(9\\)\u7ae0\u4e2d\u6211\u4eec\u5c06\u770b\u5230\uff0c\u7b56\u7565\u540c\u6837\u53ef\u4ee5\u8868\u793a\u4e3a\u51fd\u6570\u5f62\u5f0f\uff0c\u4ece\u800c\u80fd\u591f\u5904\u7406\u8fde\u7eed\u7684\u72b6\u6001\u548c\u52a8\u4f5c\u7a7a\u95f4\u3002</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p>"},{"location":"Chapter-8/8-4/","title":"8.4-\u6df1\u5ea6Q-learning","text":""},{"location":"Chapter-8/8-4/#84-q-learning","title":"8.4 \u6df1\u5ea6Q-learning","text":"<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD \u6211\u4eec\u53ef\u4ee5\u5c06\u6df1\u5ea6\u795e\u7ecf\u7f51\u7edc\u6574\u5408\u5230Q-learning\u4e2d\uff0c\u4ece\u800c\u5f97\u5230\u4e00\u79cd\u79f0\u4e3a\u6df1\u5ea6Q-learning\u6216\u6df1\u5ea6Q\u7f51\u7edc(DQN)\u7684\u65b9\u6cd5[22,60,61]\u3002\u6df1\u5ea6Q-learning\u662f\u6700\u65e9\u4e14\u6700\u6210\u529f\u7684\u6df1\u5ea6\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u4e4b\u4e00\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u795e\u7ecf\u7f51\u7edc\u5e76\u4e0d\u5fc5\u987b\u5177\u6709\u6df1\u5ea6\u7ed3\u6784\u3002\u5bf9\u4e8e\u7b80\u5355\u4efb\u52a1(\u4f8b\u5982\u6211\u4eec\u7684\u7f51\u683c\u4e16\u754c\u793a\u4f8b)\uff0c\u4ec5\u542b\u4e00\u4e24\u4e2a\u9690\u85cf\u5c42\u7684\u6d45\u5c42\u7f51\u7edc\u53ef\u80fd\u5df2\u8db3\u591f\u3002</p> <p>\u6df1\u5ea6Q-learning\u53ef\u89c6\u4e3a\u5f0f\\((8.36)\\)\u7b97\u6cd5\u7684\u6269\u5c55\uff0c\u4f46\u5176\u6570\u5b66\u8868\u8ff0\u4e0e\u5b9e\u73b0\u6280\u672f\u5b58\u5728\u663e\u8457\u5dee\u5f02\uff0c\u9700\u8981\u7279\u522b\u5173\u6ce8\u3002</p>"},{"location":"Chapter-8/8-4/#841","title":"8.4.1 \u7b97\u6cd5\u63cf\u8ff0","text":""},{"location":"Chapter-8/8-4/#q-learning","title":"\u4ece\u6570\u5b66\u89d2\u5ea6\u800c\u8a00\uff0c\u6df1\u5ea6Q-learning\u65e8\u5728\u6700\u5c0f\u5316\u4ee5\u4e0b\u76ee\u6807\u51fd\u6570\uff1a","text":"<p>\u6211\u4eec\u53ef\u4ee5\u5c06\u6df1\u5ea6\u795e\u7ecf\u7f51\u7edc\u6574\u5408\u5230Q\u5b66\u4e60\u4e2d\uff0c\u4ece\u800c\u5f97\u5230\u4e00\u79cd\u79f0\u4e3a\u6df1\u5ea6Q\u5b66\u4e60\u6216\u6df1\u5ea6Q\u7f51\u7edc\uff08DQN\uff09\u7684\u65b9\u6cd5[22,60,61]\u3002\u6df1\u5ea6Q\u5b66\u4e60\u662f\u6700\u65e9\u4e14\u6700\u6210\u529f\u7684\u6df1\u5ea6\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u4e4b\u4e00\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u795e\u7ecf\u7f51\u7edc\u5e76\u4e0d\u5fc5\u987b\u5177\u6709\u6df1\u5ea6\u7ed3\u6784\u3002\u5bf9\u4e8e\u7b80\u5355\u4efb\u52a1(\u4f8b\u5982\u6211\u4eec\u7684\u7f51\u683c\u4e16\u754c\u793a\u4f8b)\uff0c\u4ec5\u542b\u4e00\u4e24\u4e2a\u9690\u85cf\u5c42\u7684\u6d45\u5c42\u7f51\u7edc\u53ef\u80fd\u5df2\u8db3\u591f\u3002</p> <p>\u6df1\u5ea6Q\u5b66\u4e60\u53ef\u89c6\u4e3a\u5f0f(8.36)\u7b97\u6cd5\u7684\u6269\u5c55\uff0c\u4f46\u5176\u6570\u5b66\u8868\u8ff0\u4e0e\u5b9e\u73b0\u6280\u672f\u5b58\u5728\u663e\u8457\u5dee\u5f02\uff0c\u9700\u8981\u7279\u522b\u5173\u6ce8\u3002</p>"},{"location":"Chapter-8/8-4/#841_1","title":"8.4.1 \u7b97\u6cd5\u63cf\u8ff0","text":"<p>\u4ece\u6570\u5b66\u89d2\u5ea6\u800c\u8a00\uff0c\u6df1\u5ea6Q\u5b66\u4e60\u65e8\u5728\u6700\u5c0f\u5316\u4ee5\u4e0b\u76ee\u6807\u51fd\u6570\uff1a</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> \\[J=\\mathbb{E}\\left[\\left(R+\\gamma\\max_{a\\in\\mathcal{A}(S^{\\prime})}\\hat{q}(S^{\\prime},a,w)-\\hat{q}(S,A,w)\\right)^2\\right],\\tag{8.37}\\] <p>\u5176\u4e2d \\((S, A, R, S')\\)\u4e3a\u968f\u673a\u53d8\u91cf\uff0c\u5206\u522b\u8868\u793a\u72b6\u6001\u3001\u52a8\u4f5c\u3001\u5373\u65f6\u5956\u52b1\u548c\u4e0b\u4e00\u72b6\u6001\u3002\u8be5\u76ee\u6807\u51fd\u6570\u53ef\u89c6\u4e3a\u8d1d\u5c14\u66fc\u6700\u4f18\u6027\u8bef\u5dee\u7684\u5e73\u65b9\u9879\uff0c\u8fd9\u662f\u56e0\u4e3a</p> \\[q(s,a)=\\mathbb{E}\\left[R_{t+1}+\\gamma\\max_{a\\in\\mathcal{A}(S_{t+1})}q(S_{t+1},a)|S_t=s,A_t=a\\right],\\quad\\mathrm{for\\;all}\\;s,a\\] <p>\u8fd9\u6b63\u662f\u8d1d\u5c14\u66fc\u6700\u4f18\u65b9\u7a0b(\u8bc1\u660e\u8fc7\u7a0b\u89c1Box 7.5\u3002\u56e0\u6b64\uff0c\u5f53 \\(\\hat{q}(S, A,w)\\)\u80fd\u51c6\u786e\u8fd1\u4f3c\u6700\u4f18\u884c\u52a8\u503c\u65f6\uff0c\u671f\u671b\u610f\u4e49\u4e0a\u5e94\u6709 \\(R + \\gamma \\max_{a\\in \\mathcal{A}(S')} \\hat{q}(S', a, w) - \\hat{q}(S, A,w)\\)\u7b49\u4e8e\u96f6\u3002</p> <p>\u4e3a\u6700\u5c0f\u5316\u5f0f\\((8.37)\\)\u4e2d\u7684\u76ee\u6807\u51fd\u6570\uff0c\u53ef\u91c7\u7528\u68af\u5ea6\u4e0b\u964d\u7b97\u6cd5\u3002\u4e3a\u6b64\uff0c\u9700\u8ba1\u7b97\\(J\\)\u5173\u4e8e\\(w\\)\u7684\u68af\u5ea6\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u53c2\u6570\\(w\\)\u4e0d\u4ec5\u51fa\u73b0\u5728\\(\\hat{q}(S, A, w)\\)\u4e2d\uff0c\u8fd8\u9690\u542b\u4e8e\\(y \\doteq R + \\gamma \\max_{a \\in \\mathcal{A}(S')} \\hat{q}(S', a, w)\\)\u7684\u8868\u8fbe\u5f0f\u5185\uff0c\u8fd9\u4f7f\u5f97\u68af\u5ea6\u8ba1\u7b97\u5177\u6709\u975e\u5e73\u51e1\u6027\u3002\u4e3a\u7b80\u5316\u5206\u6790\uff0c\u5047\u8bbe\\(y\\)\u4e2d\u7684\\(w\\)\u503c\u5728\u77ed\u65f6\u95f4\u5185\u4fdd\u6301\u56fa\u5b9a\uff0c\u4ece\u800c\u663e\u8457\u964d\u4f4e\u68af\u5ea6\u8ba1\u7b97\u590d\u6742\u5ea6\u3002\u5177\u4f53\u5b9e\u73b0\u65f6\uff0c\u6211\u4eec\u5f15\u5165\u4e24\u4e2a\u7f51\u7edc\uff1a\u4e00\u4e2a\u4e3b\u7f51\u7edc\u8868\u793a\\(\\hat{q}(s, a, w)\\)\uff0c\u53e6\u4e00\u4e2a\u76ee\u6807\u7f51\u7edc\u8868\u793a\\(\\hat{q}(s, a, w_T)\\)\u3002\u6b64\u65f6\u76ee\u6807\u51fd\u6570\u8f6c\u5316\u4e3a</p> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p> <p>Note</p> <p>\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u5047\u8bbe\\(y\\)\u4e2d\u7684\\(w\\)\u503c\u5728\u77ed\u65f6\u95f4\u5185\u4fdd\u6301\u56fa\u5b9a</p> <p>=======</p> <p>50b98123eef511e961e9c05b37b46f2a667dafb0 \\(\\(J=\\mathbb{E}\\left[\\left(R+\\gamma\\max_{a\\in\\mathcal{A}(S^{\\prime})}\\hat{q}(S^{\\prime},a,w_T)-\\hat{q}(S,A,w)\\right)^2\\right],\\)\\)</p> <p>\u5176\u4e2d\\(w_T\\)\u4e3a\u76ee\u6807\u7f51\u7edc\u7684\u53c2\u6570\u3002\u5f53\\(w_T\\)\u56fa\u5b9a\u65f6\uff0c\u76ee\u6807\u51fd\u6570\\(J\\)\u7684\u68af\u5ea6\u4e3a</p> \\[\\nabla_wJ=-\\mathbb{E}\\left[\\left(R+\\gamma\\max_{a\\in\\mathcal{A}(S^{\\prime})}\\hat{q}(S^{\\prime},a,w_T)-\\hat{q}(S,A,w)\\right)\\nabla_w\\hat{q}(S,A,w)\\right],\\tag{8.38}\\] <p>\u5728\u4e0d\u5931\u4e00\u822c\u6027\u7684\u524d\u63d0\u4e0b\uff0c\u6b64\u5904\u7701\u7565\u4e86\u67d0\u4e9b\u5e38\u7cfb\u6570\u3002</p> <p>\u4e3a\u5229\u7528\u5f0f(8.38)\u4e2d\u7684\u68af\u5ea6\u6700\u5c0f\u5316\u76ee\u6807\u51fd\u6570\uff0c\u9700\u6ce8\u610f\u4ee5\u4e0b\u6280\u672f\u8981\u70b9\u3002</p> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD - \u7b2c\u4e00\u79cd\u6280\u672f\u662f\u4f7f\u7528\u4e24\u4e2a\u7f51\u7edc\u2014\u2014\u4e3b\u7f51\u7edc(main network)\u548c\u76ee\u6807\u7f51\u7edc(target network)\uff0c\u6211\u4eec\u5728\u8ba1\u7b97\u5f0f\\((8.38)\\)\u68af\u5ea6\u65f6\u6240\u63d0\u53ca\u3002\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\u5982\u4e0b\uff1a\u4ee4\\(w\\)\u548c\\(w_T\\)\u5206\u522b\u8868\u793a\u4e3b\u7f51\u7edc\u4e0e\u76ee\u6807\u7f51\u7edc\u7684\u53c2\u6570\uff0c\u4e8c\u8005\u7684\u521d\u59cb\u503c\u8bbe\u5b9a\u4e3a\u76f8\u540c\u6570\u503c\u3002</p> <pre><code>\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\uff0c\u6211\u4eec\u4ece\u7ecf\u9a8c\u56de\u653e\u6c60(Experience replay)\u4e2d\u62bd\u53d6\u4e00\u4e2a\u5c0f\u6279\u91cf\u6837\u672c\u96c6 $\\{(s, a, r, s')\\}$\u3002\u4e3b\u7f51\u7edc\u7684\u8f93\u5165\u4e3a\u72b6\u6001$s$\u548c\u884c\u52a8$a$\uff0c\u5176\u8f93\u51fa $y = \\hat{q}(s, a, w)$\u8868\u793a\u4f30\u8ba1\u7684Q\u503c\u3002\u76ee\u6807\u8f93\u51fa\u503c\u5b9a\u4e49\u4e3a $y_T \\doteq r + \\gamma \\max_{a \\in \\mathcal{A}(s')} \\hat{q}(s', a, w_T)$\u3002\u4e3b\u7f51\u7edc\u901a\u8fc7\u5728\u5c0f\u6279\u91cf$\\{(s, a, y_T)\\}$\u6700\u5c0f\u5316TD\u8bef\u5dee$\\mathbb{E}[(y - y_T)^2]$\u8fdb\u884c\u66f4\u65b0\u3002\n</code></pre> <p>======= - \u7b2c\u4e00\u79cd\u6280\u672f\u662f\u4f7f\u7528\u4e24\u4e2a\u7f51\u7edc\u2014\u2014\u4e3b\u7f51\u7edc\u548c\u76ee\u6807\u7f51\u7edc\uff0c\u5982\u6211\u4eec\u5728\u8ba1\u7b97\u5f0f\\((8.38)\\)\u68af\u5ea6\u65f6\u6240\u63d0\u53ca\u3002\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\u5982\u4e0b\uff1a\u4ee4\\(w\\)\u548c\\(w_T\\)\u5206\u522b\u8868\u793a\u4e3b\u7f51\u7edc\u4e0e\u76ee\u6807\u7f51\u7edc\u7684\u53c2\u6570\uff0c\u4e8c\u8005\u7684\u521d\u59cb\u503c\u8bbe\u5b9a\u4e3a\u76f8\u540c\u6570\u503c\u3002</p> <pre><code>\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\uff0c\u6211\u4eec\u4ece\u7ecf\u9a8c\u56de\u653e\u6c60\uff08\u7a0d\u540e\u5c06\u89e3\u91ca\u5176\u673a\u5236\uff09\u4e2d\u62bd\u53d6\u4e00\u4e2a\u5c0f\u6279\u91cf\u6837\u672c\u96c6 $\\{(s, a, r, s')\\}$\u3002\u4e3b\u7f51\u7edc\u7684\u8f93\u5165\u4e3a\u72b6\u6001$s$\u548c\u884c\u52a8$a$\uff0c\u5176\u8f93\u51fa $y = \\hat{q}(s, a, w)$\u8868\u793a\u4f30\u8ba1\u7684Q\u503c\u3002\u76ee\u6807\u8f93\u51fa\u503c\u5b9a\u4e49\u4e3a $y_T \\doteq r + \\gamma \\max_{a \\in \\mathcal{A}(s')} \\hat{q}(s', a, w_T)$\u3002\u4e3b\u7f51\u7edc\u901a\u8fc7\u6700\u5c0f\u5316TD\u8bef\u5dee\uff08\u4ea6\u79f0\u635f\u5931\u51fd\u6570\uff09$\\mathbb{E}[(y - y_T)^2]$\u8fdb\u884c\u66f4\u65b0\uff0c\u4f18\u5316\u57fa\u4e8e\u6837\u672c\u96c6 $\\{(s, a, y_T)\\}$\u3002\n</code></pre> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <pre><code>\u4e3b\u7f51\u7edc\u4e2d\u7684\u6743\u91cd$w$\u66f4\u65b0\u5e76\u4e0d\u663e\u5f0f\u4f7f\u7528\u5f0f$(8.38)$\u4e2d\u7684\u68af\u5ea6\uff0c\u800c\u662f\u4f9d\u8d56\u73b0\u6709\u7684\u795e\u7ecf\u7f51\u7edc\u8bad\u7ec3\u8f6f\u4ef6\u5de5\u5177\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u5c0f\u6279\u91cf\u6837\u672c\u8bad\u7ec3\u7f51\u7edc\uff0c\u800c\u975e\u57fa\u4e8e\u5f0f$(8.38)$\u4f7f\u7528\u5355\u4e00\u6837\u672c\u66f4\u65b0\u4e3b\u7f51\u7edc\u3002\u8fd9\u662f\u6df1\u5ea6\u4e0e\u975e\u6df1\u5ea6\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u4e4b\u95f4\u7684\u663e\u8457\u5dee\u5f02\u4e4b\u4e00\u3002\n\n\u4e3b\u7f51\u7edc\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u66f4\u65b0\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u76ee\u6807\u7f51\u7edc\u6bcf\u9694\u56fa\u5b9a\u6b21\u6570\u7684\u8fed\u4ee3\u4f1a\u88ab\u8bbe\u7f6e\u4e3a\u4e0e\u4e3b\u7f51\u7edc\u76f8\u540c\uff0c\u4ee5\u6ee1\u8db3\u8ba1\u7b97\u5f0f$(8.38)$\u68af\u5ea6\u65f6$w_T$\u4fdd\u6301\u4e0d\u53d8\u7684\u5047\u8bbe\u3002\n</code></pre> <p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD - \u7b2c\u4e8c\u79cd\u6280\u672f\u662f\u7ecf\u9a8c\u56de\u653e(experience replay)[22,60,62]\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5f53\u6211\u4eec\u6536\u96c6\u5230\u82e5\u5e72\u7ecf\u9a8c\u6837\u672c\u540e\uff0c\u5e76\u4e0d\u6309\u5176\u91c7\u96c6\u987a\u5e8f\u76f4\u63a5\u4f7f\u7528\uff0c\u800c\u662f\u5c06\u5176\u5b58\u50a8\u5728\u79f0\u4e3a\u56de\u653e\u7f13\u51b2\u533a(replay buffer)\u7684\u6570\u636e\u96c6\\(\\mathcal{B} := \\{(s, a, r, s')\\}\\)\u4e2d\u3002\u6bcf\u6b21\u66f4\u65b0\u4e3b\u7f51\u7edc\u65f6\uff0c\u53ef\u4ece\u56de\u653e\u7f13\u51b2\u533a\u4e2d\u5747\u5300\u91c7\u6837\u4e00\u4e2a\u5c0f\u6279\u91cf\u7ecf\u9a8c\u6837\u672c\uff0c\u8be5\u91c7\u6837\u8fc7\u7a0b\u5373\u79f0\u4e3a\u7ecf\u9a8c\u56de\u653e\u3002</p> <pre><code>\u6df1\u5ea6Q-learning\u4e2d\u4e3a\u4f55\u9700\u8981\u7ecf\u9a8c\u56de\u653e\uff1f\u4e3a\u4f55\u56de\u653e\u5fc5\u987b\u9075\u5faa\u5747\u5300\u5206\u5e03\uff1f\u7b54\u6848\u5728\u4e8e\u5f0f$(8.37)$\u4e2d\u7684\u76ee\u6807\u51fd\u6570\u3002\u5177\u4f53\u800c\u8a00\uff0c\u4e3a\u4e86\u660e\u786e\u5b9a\u4e49\u8be5\u76ee\u6807\u51fd\u6570\uff0c\u6211\u4eec\u5fc5\u987b\u6307\u5b9a\u72b6\u6001$S$\u3001\u52a8\u4f5c$A$\u3001\u5956\u52b1$R$\u53ca\u6b21\u6001$S'$\u7684\u6982\u7387\u5206\u5e03\u3002\u5f53$(S,A)$\u7ed9\u5b9a\u65f6\uff0c$R$\u4e0e$S'$\u7684\u5206\u5e03\u7531\u7cfb\u7edf\u6a21\u578b\u51b3\u5b9a\u3002\u63cf\u8ff0\u72b6\u6001-\u884c\u52a8\u5bf9$(S,A)$\u5206\u5e03\u7684\u6700\u7b80\u65b9\u5f0f\uff0c\u5c31\u662f\u5047\u8bbe\u5176\u670d\u4ece\u5747\u5300\u5206\u5e03\u3002\n\n\u7136\u800c\uff0c\u7531\u4e8e\u72b6\u6001-\u884c\u52a8\u6837\u672c\u662f\u6839\u636e\u884c\u4e3a\u7b56\u7565\u751f\u6210\u7684\u6837\u672c\u5e8f\u5217\uff0c\u5b9e\u9645\u4e2d\u5b83\u4eec\u53ef\u80fd\u5e76\u975e\u5747\u5300\u5206\u5e03\u3002\u4e3a\u4e86\u6ee1\u8db3\u5747\u5300\u5206\u5e03\u5047\u8bbe\uff0c\u5fc5\u987b\u6253\u7834\u5e8f\u5217\u4e2d\u6837\u672c\u95f4\u7684\u76f8\u5173\u6027\u3002\u4e3a\u6b64\uff0c\u53ef\u91c7\u7528\u7ecf\u9a8c\u56de\u653e\u6280\u672f\uff0c\u901a\u8fc7\u4ece\u56de\u653e\u7f13\u51b2\u533a\u4e2d\u5747\u5300\u62bd\u53d6\u6837\u672c\u5b9e\u73b0\u3002\u8fd9\u6b63\u662f\u7ecf\u9a8c\u56de\u653e\u7684\u5fc5\u8981\u6027\u53ca\u5176\u5fc5\u987b\u9075\u5faa\u5747\u5300\u5206\u5e03\u7684\u6570\u5b66\u4f9d\u636e\u3002\u968f\u673a\u91c7\u6837\u7684\u4f18\u52bf\u5728\u4e8e\u6bcf\u4e2a\u7ecf\u9a8c\u6837\u672c\u53ef\u591a\u6b21\u91cd\u590d\u4f7f\u7528\uff0c\u4ece\u800c\u63d0\u9ad8\u6570\u636e\u5229\u7528\u6548\u7387\u3002\u8fd9\u4e00\u7279\u6027\u5728\u6570\u636e\u91cf\u6709\u9650\u65f6\u5c24\u4e3a\u91cd\u8981\u3002\n</code></pre> <p>Note</p> <p>\\(R\\sim p(R|S,A),S^{\\prime}\\sim p(S^{\\prime}|S,A)\\)\u3002\u5176\u4ed6\u7684\u5206\u5e03\u6bd4\u5982\u9ad8\u65af\u5206\u5e03\u884c\u4e0d\u884c\uff1f\u6211\u60f3\u7ed9\u4e00\u4e9b\\((S,A)\\)\u66f4\u5927\u7684\u6743\u91cd\uff0c\u90a3\u4e48\u5728\u91c7\u6837\u7684\u65f6\u5019\u5f53\u7136\u4e5f\u8981\u66f4\u591a\u6b21\u7684\u53bb\u8fd0\u7528\u5230\u4ed6\u4eec\uff0c\u5b83\u7684\u4e00\u4e2a\u95ee\u9898\u5c31\u662f\u4f60\u8981\u6709\u5148\u9a8c\u77e5\u8bc6\uff0c\u8981\u77e5\u9053\u8c01\u662f\u91cd\u8981\u7684\uff0c\u8c01\u662f\u4e0d\u91cd\u8981\u7684\u3002\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u5148\u9a8c\u77e5\u8bc6\uff0c\u5c31\u8981\u4e00\u89c6\u540c\u4ec1\uff0c\u6240\u6709\u7684\\((S,A)\\)\u7684\u6982\u7387\u90fd\u5e94\u8be5\u662f\u76f8\u540c\u7684\uff0c\u8fd9\u65f6\u5019\u5c31\u662f\u5747\u5300\u5206\u5e03</p> <p>======= - \u7b2c\u4e8c\u79cd\u6280\u672f\u662f\u7ecf\u9a8c\u56de\u653e(experience replay)[22,60,62]\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5f53\u6211\u4eec\u6536\u96c6\u5230\u82e5\u5e72\u7ecf\u9a8c\u6837\u672c\u540e\uff0c\u5e76\u4e0d\u6309\u5176\u91c7\u96c6\u987a\u5e8f\u76f4\u63a5\u4f7f\u7528\uff0c\u800c\u662f\u5c06\u5176\u5b58\u50a8\u5728\u79f0\u4e3a\u56de\u653e\u7f13\u51b2\u533a\u7684\u6570\u636e\u96c6 \\(\\mathcal{B} := \\{(s, a, r, s')\\}\\)\u4e2d\u3002\u6bcf\u6b21\u66f4\u65b0\u4e3b\u7f51\u7edc\u65f6\uff0c\u53ef\u4ece\u56de\u653e\u7f13\u51b2\u533a\u4e2d\u5747\u5300\u91c7\u6837\u4e00\u4e2a\u5c0f\u6279\u91cf\u7ecf\u9a8c\u6837\u672c\uff0c\u8be5\u91c7\u6837\u8fc7\u7a0b\u5373\u79f0\u4e3a\u7ecf\u9a8c\u56de\u653e\u3002</p> <pre><code>\u6df1\u5ea6Q-learning\u4e2d\u4e3a\u4f55\u9700\u8981\u7ecf\u9a8c\u56de\u653e\uff1f\u4e3a\u4f55\u56de\u653e\u5fc5\u987b\u9075\u5faa\u5747\u5300\u5206\u5e03\uff1f\u7b54\u6848\u5728\u4e8e\u5f0f(8.37)\u4e2d\u7684\u76ee\u6807\u51fd\u6570\u3002\u5177\u4f53\u800c\u8a00\uff0c\u4e3a\u4e86\u660e\u786e\u5b9a\u4e49\u8be5\u76ee\u6807\u51fd\u6570\uff0c\u6211\u4eec\u5fc5\u987b\u6307\u5b9a\u72b6\u6001$S$\u3001\u52a8\u4f5c$A$\u3001\u5956\u52b1$R$\u53ca\u6b21\u6001$S'$\u7684\u6982\u7387\u5206\u5e03\u3002\u5f53$(S,A)$\u7ed9\u5b9a\u65f6\uff0c$R$\u4e0e$S'$\u7684\u5206\u5e03\u7531\u7cfb\u7edf\u6a21\u578b\u51b3\u5b9a\u3002\u63cf\u8ff0\u72b6\u6001-\u52a8\u4f5c\u5bf9$(S,A)$\u5206\u5e03\u7684\u6700\u7b80\u65b9\u5f0f\uff0c\u5c31\u662f\u5047\u8bbe\u5176\u670d\u4ece\u5747\u5300\u5206\u5e03\u3002\n\n\u7136\u800c\uff0c\u7531\u4e8e\u72b6\u6001-\u52a8\u4f5c\u6837\u672c\u662f\u6839\u636e\u884c\u4e3a\u7b56\u7565\u751f\u6210\u7684\u6837\u672c\u5e8f\u5217\uff0c\u5b9e\u9645\u4e2d\u5b83\u4eec\u53ef\u80fd\u5e76\u975e\u5747\u5300\u5206\u5e03\u3002\u4e3a\u4e86\u6ee1\u8db3\u5747\u5300\u5206\u5e03\u5047\u8bbe\uff0c\u5fc5\u987b\u6253\u7834\u5e8f\u5217\u4e2d\u6837\u672c\u95f4\u7684\u76f8\u5173\u6027\u3002\u4e3a\u6b64\uff0c\u53ef\u91c7\u7528\u7ecf\u9a8c\u56de\u653e\u6280\u672f\uff0c\u901a\u8fc7\u4ece\u56de\u653e\u7f13\u51b2\u533a\u4e2d\u5747\u5300\u62bd\u53d6\u6837\u672c\u5b9e\u73b0\u3002\u8fd9\u6b63\u662f\u7ecf\u9a8c\u56de\u653e\u7684\u5fc5\u8981\u6027\u53ca\u5176\u5fc5\u987b\u9075\u5faa\u5747\u5300\u5206\u5e03\u7684\u6570\u5b66\u4f9d\u636e\u3002\u968f\u673a\u91c7\u6837\u7684\u4f18\u52bf\u5728\u4e8e\u6bcf\u4e2a\u7ecf\u9a8c\u6837\u672c\u53ef\u591a\u6b21\u91cd\u590d\u4f7f\u7528\uff0c\u4ece\u800c\u63d0\u9ad8\u6570\u636e\u5229\u7528\u6548\u7387\u3002\u8fd9\u4e00\u7279\u6027\u5728\u6570\u636e\u91cf\u6709\u9650\u65f6\u5c24\u4e3a\u91cd\u8981\u3002\n</code></pre> <p>50b98123eef511e961e9c05b37b46f2a667dafb0</p> <p>\u6df1\u5ea6Q\u5b66\u4e60\u7684\u5b9e\u73b0\u6d41\u7a0b\u603b\u7ed3\u4e8e\u7b97\u6cd58.3\u4e2d\u3002\u8be5\u5b9e\u73b0\u91c7\u7528\u5f02\u7b56\u7565\u65b9\u6cd5\uff0c\u5fc5\u8981\u65f6\u4e5f\u53ef\u8c03\u6574\u4e3a\u540c\u7b56\u7565\u5f62\u5f0f\u3002</p>"},{"location":"Chapter-8/8-4/#842","title":"8.4.2 \u4f8b\u5b50","text":"<p>\u56fe\\(8.11\\)\u7ed9\u51fa\u4e86\u4e00\u4e2a\u6f14\u793a\u7b97\u6cd5\\(8.3\\)\u7684\u5b9e\u4f8b\u3002\u8be5\u793a\u4f8b\u65e8\u5728\u5b66\u4e60\u6bcf\u4e2a\u72b6\u6001-\u884c\u52a8\u5bf9\u7684\u6700\u4f18\u884c\u52a8\u503c\uff0c\u4e00\u65e6\u83b7\u5f97\u6700\u4f18\u884c\u52a8\u503c\uff0c\u5373\u53ef\u7acb\u5373\u63a8\u5bfc\u51fa\u6700\u4f18\u8d2a\u5a6a\u7b56\u7565\u3002</p> <p>\u5355\u6b21\u8bad\u7ec3\u56de\u5408\u7531\u5982\u56fe\\(8.11(a)\\)\u6240\u793a\u7684\u884c\u4e3a\u7b56\u7565\u751f\u6210\u3002\u8be5\u884c\u4e3a\u7b56\u7565\u5177\u6709\u63a2\u7d22\u6027\uff0c\u8868\u73b0\u4e3a\u5728\u4efb\u4f55\u72b6\u6001\u4e0b\u91c7\u53d6\u4efb\u610f\u52a8\u4f5c\u7684\u6982\u7387\u5747\u7b49\u3002\u5982\u56fe\\(8.11(b)\\)\u6240\u793a\uff0c\u8be5\u56de\u5408\u4ec5\u5305\u542b\\(1,000\\)\u4e2a\u65f6\u95f4\u6b65\u3002\u5c3d\u7ba1\u6b65\u6570\u6709\u9650\uff0c\u4f46\u7531\u4e8e\u884c\u4e3a\u7b56\u7565\u5f3a\u5927\u7684\u63a2\u7d22\u80fd\u529b\uff0c\u8be5\u56de\u5408\u51e0\u4e4e\u8986\u76d6\u4e86\u6240\u6709\u72b6\u6001-\u52a8\u4f5c\u5bf9\u3002\u7ecf\u9a8c\u56de\u653e\u7f13\u51b2\u533a\u5b58\u50a8\u4e86\\(1,000\\)\u4e2a\u7ecf\u9a8c\u6837\u672c\uff0c\u5176\u4e2d\u5c0f\u6279\u91cf\u89c4\u6a21\u8bbe\u4e3a\\(100\\)\uff0c\u610f\u5473\u7740\u6bcf\u6b21\u91c7\u6837\u65f6\u9700\u4ece\u7f13\u51b2\u533a\u5747\u5300\u62bd\u53d6\\(100\\)\u4e2a\u6837\u672c\u3002</p> <p>\u4e3b\u7f51\u7edc\u4e0e\u76ee\u6807\u7f51\u7edc\u5177\u6709\u76f8\u540c\u7ed3\u6784\uff1a\u4e00\u4e2a\u5305\u542b100\u4e2a\u795e\u7ecf\u5143\u5355\u9690\u85cf\u5c42\u7684\u795e\u7ecf\u7f51\u7edc\uff08\u5c42\u6570\u548c\u795e\u7ecf\u5143\u6570\u91cf\u53ef\u8c03\uff09\u3002\u8be5\u795e\u7ecf\u7f51\u7edc\u5177\u6709\u4e09\u4e2a\u8f93\u5165\u548c\u4e00\u4e2a\u8f93\u51fa\uff0c\u524d\u4e24\u4e2a\u8f93\u5165\u4e3a\u72b6\u6001\u7684\u884c\u3001\u5217\u5f52\u4e00\u5316\u7d22\u5f15\uff0c\u7b2c\u4e09\u4e2a\u8f93\u5165\u4e3a\u52a8\u4f5c\u7d22\u5f15\u7684\u5f52\u4e00\u5316\u503c\u3002\u6b64\u5904\u7684\u201c\u5f52\u4e00\u5316\u201d\u6307\u5c06\u6570\u503c\u8f6c\u6362\u81f3\u533a\u95f4\\([0,1]\\)\u3002\u7f51\u7edc\u8f93\u51fa\u4e3a\u4f30\u8ba1\u503c\u3002</p> <p>\u6211\u4eec\u5c06\u8f93\u5165\u8bbe\u8ba1\u4e3a\u72b6\u6001\u7684\u884c\u5217\u5750\u6807\u800c\u975e\u72b6\u6001\u7d22\u5f15\uff0c\u662f\u56e0\u4e3a\u5df2\u77e5\u72b6\u6001\u5bf9\u5e94\u7f51\u683c\u4e2d\u7684\u4e8c\u7ef4\u4f4d\u7f6e\u3002\u5728\u7f51\u7edc\u8bbe\u8ba1\u4e2d\u4f7f\u7528\u7684\u72b6\u6001\u4fe1\u606f\u8d8a\u4e30\u5bcc\uff0c\u7f51\u7edc\u6027\u80fd\u5c31\u8d8a\u597d\u3002\u6b64\u5916\uff0c\u795e\u7ecf\u7f51\u7edc\u7ed3\u6784\u4ea6\u53ef\u91c7\u7528\u5176\u4ed6\u8bbe\u8ba1\u65b9\u5f0f\u3002\u4f8b\u5982\uff0c\u53ef\u6784\u5efa\u53cc\u8f93\u5165\u4e94\u8f93\u51fa\u67b6\u6784\uff1a\u4e24\u4e2a\u8f93\u5165\u4e3a\u72b6\u6001\u5f52\u4e00\u5316\u7684\u884c\u5750\u6807\u4e0e\u5217\u5750\u6807\uff0c\u8f93\u51fa\u5219\u5bf9\u5e94\u8f93\u5165\u72b6\u6001\u4e0b\u4e94\u4e2a\u52a8\u4f5c\u7684\u4f30\u8ba1\u4ef7\u503c[22]\u3002</p> <p>\u5982\u56fe8.11(d)\u6240\u793a\uff0c\u5b9a\u4e49\u4e3a\u6bcf\u4e2a\u5c0f\u6279\u91cf\u5e73\u5747\u65f6\u5e8f\u5dee\u5206\u8bef\u5dee\u5e73\u65b9\u7684\u635f\u5931\u51fd\u6570\u6536\u655b\u81f3\u96f6\uff0c\u8868\u660e\u7f51\u7edc\u80fd\u591f\u826f\u597d\u62df\u5408\u8bad\u7ec3\u6837\u672c\u3002\u56fe8.11(e)\u663e\u793a\uff0c\u72b6\u6001\u503c\u4f30\u8ba1\u8bef\u5dee\u540c\u6837\u6536\u655b\u81f3\u96f6\uff0c\u8fd9\u610f\u5473\u7740\u6700\u4f18\u52a8\u4f5c\u503c\u4f30\u8ba1\u5df2\u8fbe\u5230\u8db3\u591f\u7cbe\u5ea6\u3002\u6b64\u65f6\uff0c\u5bf9\u5e94\u7684\u8d2a\u5a6a\u7b56\u7565\u5373\u4e3a\u6700\u4f18\u7b56\u7565\u3002</p> <p>\u672c\u793a\u4f8b\u8bc1\u660e\u4e86\u6df1\u5ea6Q\u5b66\u4e60\u7684\u9ad8\u6548\u6027\u3002\u5177\u4f53\u800c\u8a00\uff0c\u4ec5\u97001,000\u6b65\u7684\u77ed\u8bad\u7ec3\u5468\u671f\u5373\u53ef\u5728\u6b64\u83b7\u5f97\u6700\u4f18\u7b56\u7565\uff1b\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u5982\u56fe7.4\u6240\u793a\uff0c\u8868\u683c\u578bQ\u5b66\u4e60\u9700\u8981100,000\u6b65\u7684\u8bad\u7ec3\u5468\u671f\u3002\u9ad8\u6548\u6027\u539f\u56e0\u4e4b\u4e00\u5728\u4e8e\u51fd\u6570\u903c\u8fd1\u65b9\u6cd5\u5177\u6709\u5f3a\u5927\u7684\u6cdb\u5316\u80fd\u529b\uff0c\u53e6\u4e00\u539f\u56e0\u5728\u4e8e\u7ecf\u9a8c\u6837\u672c\u53ef\u88ab\u91cd\u590d\u5229\u7528\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u901a\u8fc7\u8bbe\u8ba1\u4e00\u4e2a\u7ecf\u9a8c\u6837\u672c\u8f83\u5c11\u7684\u573a\u666f\uff0c\u523b\u610f\u5bf9\u6df1\u5ea6Q\u5b66\u4e60\u7b97\u6cd5\u8fdb\u884c\u6311\u6218\u3002\u56fe8.12\u5c55\u793a\u4e86\u4e00\u4e2a\u4ec5\u5305\u542b100\u6b65\u7684\u56de\u5408\u793a\u4f8b\u3002\u5728\u6b64\u4f8b\u4e2d\uff0c\u867d\u7136\u4ece\u67d0\u79cd\u610f\u4e49\u4e0a\u5f53\u635f\u5931\u51fd\u6570\u6536\u655b\u81f3\u96f6\uff0c\u72b6\u6001\u4f30\u8ba1\u8bef\u5dee\u4ecd\u65e0\u6cd5\u6536\u655b\u5230\u96f6\u65f6\uff0c\u7f51\u7edc\u4ecd\u80fd\u5f97\u5230\u826f\u597d\u8bad\u7ec3\u3002\u8fd9\u8868\u660e\u7f51\u7edc\u80fd\u591f\u6b63\u786e\u62df\u5408\u7ed9\u5b9a\u7684\u7ecf\u9a8c\u6837\u672c\uff0c\u4f46\u7ecf\u9a8c\u6837\u672c\u6570\u91cf\u4e0d\u8db3\uff0c\u96be\u4ee5\u51c6\u786e\u4f30\u8ba1\u6700\u4f18\u884c\u52a8\u503c\u3002</p> <p></p> <p>\u56fe\\(8.11\\)\uff1a\u57fa\u4e8e\u6df1\u5ea6Q-learning\u7684\u6700\u4f18\u7b56\u7565\u5b66\u4e60\u3002\u5176\u4e2d \\(\\gamma =0.9\\)\uff0c\\(r_{\\text{boundary}} = r_{\\text{forbidden}} = -10\\)\uff0c\u4e14 \\(r_{\\text{target}} =1\\)\u3002\u6279\u5904\u7406\u89c4\u6a21\u4e3a100\u3002</p> <p></p> <p>\u56fe\\(8.12\\)\uff1a\u901a\u8fc7\u6df1\u5ea6Q-learning\u5b9e\u73b0\u7684\u6700\u4f18\u7b56\u7565\u5b66\u4e60\u3002\u5176\u4e2d\uff0c\\(\\gamma =0.9\\)\uff0c\\(r_{\\text{boundary}} = r_{\\text{forbidden}} = -10\\)\uff0c\u4e14 \\(r_{\\text{target}} =1\\)\u3002\u6279\u5904\u7406\u5927\u5c0f\u4e3a50\u3002</p>"},{"location":"Chapter-8/8-5/","title":"8.5-\u603b\u7ed3","text":""},{"location":"Chapter-8/8-5/#85","title":"8.5 \u603b\u7ed3","text":"<p>\u672c\u7ae0\u7ee7\u7eed\u4ecb\u7ecd\u65f6\u5e8f\u5dee\u5206(TD)\u5b66\u4e60\u7b97\u6cd5\uff0c\u4f46\u91cd\u70b9\u4ece\u8868\u683c\u578b\u65b9\u6cd5\u8f6c\u5411\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u3002\u7406\u89e3\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u7684\u5173\u952e\u5728\u4e8e\u8ba4\u8bc6\u5230\u8fd9\u662f\u4e00\u4e2a\u4f18\u5316\u95ee\u9898\uff1a\u6700\u7b80\u5355\u7684\u76ee\u6807\u51fd\u6570\u662f\u771f\u5b9e\u72b6\u6001\u503c\u4e0e\u4f30\u8ba1\u503c\u4e4b\u95f4\u7684\u5e73\u65b9\u8bef\u5dee\uff0c\u6b64\u5916\u8fd8\u5b58\u5728\u8d1d\u5c14\u66fc\u8bef\u5dee\u3001\u6295\u5f71\u8d1d\u5c14\u66fc\u8bef\u5dee\u7b49\u5176\u4ed6\u76ee\u6807\u51fd\u6570\u3002\u6211\u4eec\u8bc1\u660e\u4e86TD-Linear\u7b97\u6cd5\u5b9e\u9645\u6700\u5c0f\u5316\u7684\u662f\u6295\u5f71\u8d1d\u5c14\u66fc\u8bef\u5dee\uff0c\u5e76\u4ecb\u7ecd\u4e86Sarsa\u3001Q-learning\u7b49\u7ed3\u5408\u503c\u51fd\u6570\u8fd1\u4f3c\u7684\u4f18\u5316\u7b97\u6cd5\u3002</p> <p>\u4ef7\u503c\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u7684\u91cd\u8981\u6027\u4e4b\u4e00\u5728\u4e8e\u5176\u5b9e\u73b0\u4e86\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u4e0e\u5f3a\u5316\u5b66\u4e60\u7684\u7ed3\u5408\u3002\u4f8b\u5982\uff0c\u6df1\u5ea6Q-learning(deep Q-learning)\u76ee\u524d\u6700\u6210\u529f\u7684\u6df1\u5ea6\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u4e4b\u4e00\u3002</p> <p>\u5c3d\u7ba1\u795e\u7ecf\u7f51\u7edc\u5df2\u4f5c\u4e3a\u975e\u7ebf\u6027\u51fd\u6570\u903c\u8fd1\u5668\u5f97\u5230\u5e7f\u6cdb\u5e94\u7528\uff0c\u672c\u7ae0\u4ecd\u5c06\u5168\u9762\u4ecb\u7ecd\u7ebf\u6027\u51fd\u6570\u60c5\u5f62\u3002\u5145\u5206\u7406\u89e3\u7ebf\u6027\u60c5\u5f62\u5bf9\u4e8e\u6df1\u5165\u8ba4\u8bc6\u975e\u7ebf\u6027\u60c5\u5f62\u5177\u6709\u91cd\u8981\u610f\u4e49\u3002\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u53c2\u9605\u6587\u732e[63]\u4e86\u89e3\u51fd\u6570\u8fd1\u4f3cTD\u5b66\u4e60\u7b97\u6cd5\u7684\u5b8c\u6574\u5206\u6790\uff0c\u6587\u732e[61]\u5219\u63d0\u4f9b\u4e86\u6df1\u5ea6Q\u5b66\u4e60\u66f4\u7406\u8bba\u5316\u7684\u8ba8\u8bba\u3002</p> <p>\u672c\u7ae0\u5f15\u5165\u4e86\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5\u2014\u2014\u5e73\u7a33\u5206\u5e03(stationary distribution)\u3002\u5e73\u7a33\u5206\u5e03\u5728\u4ef7\u503c\u51fd\u6570\u8fd1\u4f3c\u6cd5\u4e2d\u5bf9\u4e8e\u5b9a\u4e49\u5408\u9002\u7684\u76ee\u6807\u51fd\u6570\u5177\u6709\u91cd\u8981\u4f5c\u7528\uff0c\u540c\u65f6\u5728\u7b2c9\u7ae0\u4f7f\u7528\u51fd\u6570\u8fd1\u4f3c\u7b56\u7565\u65f6\u4e5f\u626e\u6f14\u7740\u5173\u952e\u89d2\u8272\u3002\u5173\u4e8e\u8be5\u4e3b\u9898\u7684\u7cbe\u5f69\u8bba\u8ff0\u53ef\u53c2\u9605\u6587\u732e[49,\u7b2c\u56db\u7ae0]\u3002\u672c\u7ae0\u5185\u5bb9\u9ad8\u5ea6\u4f9d\u8d56\u4e8e\u77e9\u9635\u5206\u6790\uff0c\u90e8\u5206\u7ed3\u8bba\u5c06\u76f4\u63a5\u5f15\u7528\u800c\u4e0d\u4f5c\u89e3\u91ca\u3002\u5173\u4e8e\u77e9\u9635\u5206\u6790\u4e0e\u7ebf\u6027\u4ee3\u6570\u7684\u6743\u5a01\u53c2\u8003\u6587\u732e\u53ef\u67e5\u9605[4,48]\u3002</p>"},{"location":"Chapter-8/intro/","title":"\u4ecb\u7ecd","text":"<p>\u5728\u672c\u7ae0\u4e2d\uff0c\u6211\u4eec\u5c06\u7ee7\u7eed\u7814\u7a76\u65f6\u5e8f\u5dee\u5206\u5b66\u4e60\u7b97\u6cd5\uff0c\u4f46\u91c7\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u8868\u793a\u72b6\u6001/\u884c\u52a8\u503c\u3002\u672c\u4e66\u6b64\u524d\u7684\u5185\u5bb9\u5747\u91c7\u7528\u8868\u683c\u5f62\u5f0f\u8868\u793a\u72b6\u6001/\u884c\u52a8\u503c\uff0c\u8fd9\u79cd\u8868\u683c\u8868\u793a\u6cd5\u867d\u7136\u76f4\u89c2\u6613\u61c2\uff0c\u4f46\u5728\u5904\u7406\u5927\u89c4\u6a21\u72b6\u6001\u6216\u52a8\u4f5c\u7a7a\u95f4\u65f6\u6548\u7387\u4f4e\u4e0b\u3002\u4e3a\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\uff0c\u672c\u7ae0\u5c06\u5f15\u5165\u503c\u51fd\u6570\u8fd1\u4f3c\u65b9\u6cd5\u2014\u2014\u8be5\u65b9\u6cd5\u5df2\u6210\u4e3a\u8868\u793a\u503c\u51fd\u6570\u7684\u6807\u51c6\u65b9\u5f0f\uff0c\u540c\u65f6\u4e5f\u662f\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u4f5c\u4e3a\u51fd\u6570\u903c\u8fd1\u5668\u878d\u5165\u5f3a\u5316\u5b66\u4e60\u7684\u8d77\u70b9\u3002\u5982\u7b2c9\u7ae0\u6240\u8ff0\uff0c\u503c\u51fd\u6570\u8fd1\u4f3c\u7684\u601d\u60f3\u4e5f\u53ef\u6269\u5c55\u81f3\u7b56\u7565\u51fd\u6570\u8868\u793a\u3002</p>"},{"location":"Chapter-9/9-1/","title":"9.1-\u7b56\u7565\u8868\u793a:\u4ece\u8868\u683c\u5230\u51fd\u6570","text":""},{"location":"Chapter-9/9-1/#91","title":"9.1 \u7b56\u7565\u8868\u793a\uff1a\u4ece\u8868\u683c\u5230\u51fd\u6570","text":"<p>\u5f53\u7b56\u7565\u7684\u8868\u793a\u65b9\u5f0f\u4ece\u8868\u683c\u5207\u6362\u4e3a\u51fd\u6570\u65f6\uff0c\u5fc5\u987b\u660e\u786e\u4e24\u79cd\u8868\u793a\u65b9\u6cd5\u7684\u5dee\u5f02\u3002</p> <ul> <li>\u9996\u5148\uff0c\u5982\u4f55\u5b9a\u4e49\u6700\u4f18\u7b56\u7565\uff1f\u5f53\u4ee5\u8868\u683c\u5f62\u5f0f\u8868\u793a\u65f6\uff0c\u82e5\u67d0\u7b56\u7565\u80fd\u4f7f\u6bcf\u4e2a\u72b6\u6001\u503c\u6700\u5927\u5316\uff0c\u5219\u88ab\u5b9a\u4e49\u4e3a\u6700\u4f18\u7b56\u7565\uff1b\u5f53\u4ee5\u51fd\u6570\u5f62\u5f0f\u8868\u793a\u65f6\uff0c\u82e5\u67d0\u7b56\u7565\u80fd\u4f7f\u7279\u5b9a\u6807\u91cf\u6307\u6807\u6700\u5927\u5316\uff0c\u5219\u88ab\u5b9a\u4e49\u4e3a\u6700\u4f18\u7b56\u7565\u3002</li> </ul> <p>Note</p> <p>\u5728\u4e4b\u524d\uff0c\u4e00\u4e2a\u7b56\u7565\\(\\pi^*\\)\u662f\u6700\u4f18\u7684\uff0c\u5982\u679c\u5bf9\u6240\u6709\\(s\\in \\mathcal{S}\\)\u548c\u4efb\u4f55\u5176\u4ed6\u7b56\u7565\\(\\pi\\)\uff0c\\(v_{\\pi^*}(s)\\geq v_\\pi(s)\\)\u3002\\(\\pi^*\\)\u7684\u72b6\u6001\u503c\u662f\u6700\u4f18\u72b6\u6001\u503c\u3002</p> <ul> <li> <p>\u5176\u6b21\uff0c\u5982\u4f55\u66f4\u65b0\u7b56\u7565\uff1f\u5f53\u7b56\u7565\u4ee5\u8868\u683c\u5f62\u5f0f\u8868\u793a\u65f6\uff0c\u53ef\u76f4\u63a5\u4fee\u6539\u8868\u4e2d\u6761\u76ee\u6765\u5b9e\u73b0\u66f4\u65b0\uff1b\u800c\u5f53\u7b56\u7565\u4ee5\u53c2\u6570\u5316\u51fd\u6570\u8868\u793a\u65f6\uff0c\u5219\u65e0\u6cd5\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u53ea\u80fd\u901a\u8fc7\u6539\u53d8\u53c2\u6570\\(\\theta\\)\u6765\u5b8c\u6210\u66f4\u65b0\u3002</p> </li> <li> <p>\u7b2c\u4e09\uff0c\u5982\u4f55\u83b7\u53d6\u884c\u52a8\u7684\u6982\u7387\uff1f\u5728\u8868\u683c\u5f62\u5f0f\u4e2d\uff0c\u884c\u52a8\u6982\u7387\u53ef\u76f4\u63a5\u901a\u8fc7\u67e5\u8868\u83b7\u5f97\u5bf9\u5e94\u6761\u76ee\u3002\u5bf9\u4e8e\u51fd\u6570\u8868\u793a\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u9700\u8981\u5c06\u72b6\u6001-\u884c\u52a8\u5bf9\\((s, a)\\)\u8f93\u5165\u51fd\u6570\u6765\u8ba1\u7b97\u5176\u6982\u7387(\u89c1\u56fe\\(9.2(a)\\))\u3002\u6839\u636e\u51fd\u6570\u7ed3\u6784\u7684\u4e0d\u540c\uff0c\u4e5f\u53ef\u4ee5\u4ec5\u8f93\u5165\u72b6\u6001\\(s\\)\u540e\u76f4\u63a5\u8f93\u51fa\u6240\u6709\u52a8\u4f5c\u7684\u6982\u7387\u5206\u5e03(\u89c1\u56fe\\(9.2(b)\\))\u3002</p> </li> </ul> <p></p> <p>\u56fe\\(9.2\\)\uff1a\u7b56\u7565\u7684\u51fd\u6570\u8868\u793a\u3002\u8fd9\u4e9b\u51fd\u6570\u53ef\u80fd\u5177\u6709\u4e0d\u540c\u7684\u7ed3\u6784\u3002</p> <p>\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\u7684\u57fa\u672c\u601d\u60f3\u53ef\u6982\u62ec\u5982\u4e0b\u3002\u5047\u8bbe \\(J(\\theta)\\)\u4e3a\u6807\u91cf\u6307\u6807\uff0c\u901a\u8fc7\u57fa\u4e8e\u68af\u5ea6\u7684\u7b97\u6cd5\u4f18\u5316\u8be5\u6307\u6807\u5373\u53ef\u83b7\u5f97\u6700\u4f18\u7b56\u7565\uff1a</p> \\[\\theta_{t+1}=\\theta_t+\\alpha\\nabla_\\theta J(\\theta_t),\\] <p>\u5176\u4e2d\\(\\nabla_\\theta J\\)\u8868\u793a\\(J\\)\u5173\u4e8e\\(\\theta\\)\u7684\u68af\u5ea6\uff0c\\(t\\)\u4e3a\u65f6\u95f4\u6b65\u957f\uff0c\\(\\alpha\\)\u4e3a\u4f18\u5316\u901f\u7387\u3002</p> <p>\u57fa\u4e8e\u8fd9\u4e00\u57fa\u672c\u601d\u8def\uff0c\u6211\u4eec\u5c06\u5728\u672c\u7ae0\u540e\u7eed\u90e8\u5206\u56de\u7b54\u4ee5\u4e0b\u4e09\u4e2a\u95ee\u9898\u3002</p> <ul> <li>\u5e94\u91c7\u7528\u54ea\u4e9b\u8bc4\u4ef7\u6307\u6807\u4f5c\u4e3a\u76ee\u6807\u51fd\u6570\uff1f(\u7b2c\\(9.2\\)\u8282)</li> <li>\u5982\u4f55\u8ba1\u7b97\u8bc4\u4ef7\u6307\u6807\u7684\u68af\u5ea6\uff1f(\u7b2c\\(9.3\\)\u8282)</li> <li>\u5982\u4f55\u5229\u7528\u7ecf\u9a8c\u6837\u672c\u8ba1\u7b97\u68af\u5ea6\uff1f(\u7b2c\\(9.4\\)\u8282)</li> </ul>"},{"location":"Chapter-9/9-2/","title":"9.2-\u76ee\u6807\u51fd\u6570:\u5b9a\u4e49\u6700\u4f18\u7b56\u7565","text":""},{"location":"Chapter-9/9-2/#92","title":"9.2 \u76ee\u6807\u51fd\u6570: \u5b9a\u4e49\u6700\u4f18\u7b56\u7565","text":"<p>\u82e5\u7b56\u7565\u7531\u51fd\u6570\u8868\u793a\uff0c\u5219\u5b9a\u4e49\u6700\u4f18\u7b56\u7565\u7684\u6307\u6807\u53ef\u5206\u4e3a\u4e24\u7c7b\uff1a\u4e00\u7c7b\u57fa\u4e8e\u72b6\u6001\u503c\uff0c\u53e6\u4e00\u7c7b\u57fa\u4e8e\u5373\u65f6\u5956\u52b1\u3002</p>"},{"location":"Chapter-9/9-2/#1average-state-value","title":"\u6307\u68071\uff1a\u5e73\u5747\u72b6\u6001\u503c(Average state value)","text":"<p>\u7b2c\u4e00\u4e2a\u6307\u6807\u662f\u5e73\u5747\u72b6\u6001\u503c\uff0c\u7b80\u79f0\u4e3a\u5e73\u5747\u503c\u3002\u5176\u5b9a\u4e49\u4e3a</p> \\[\\bar{v}_\\pi=\\sum_{s\\in\\mathcal{S}}d(s)v_\\pi(s),\\] <p>\u5176\u4e2d\\(d(s)\\)\u8868\u793a\u72b6\u6001\\(s\\)\u7684\u6743\u91cd\u3002\u5bf9\u4e8e\u4efb\u610f\\(s \\in S\\)\uff0c\u6ee1\u8db3\\(d(s) \\geq0\\)\u4e14\\(\\sum_{s\\in S} d(s) =1\\)\u3002\u56e0\u6b64\uff0c\u53ef\u5c06\\(d(s)\\)\u89e3\u91ca\u4e3a\\(s\\)\u7684\u6982\u7387\u5206\u5e03\u3002\u6b64\u65f6\u8be5\u6307\u6807\u53ef\u8868\u793a\u4e3a</p> \\[\\bar{v}_\\pi=\\mathbb{E}_{S\\sim d}[v_\\pi(S)].\\] <p>\u5982\u4f55\u9009\u62e9\\(d\\)\u7684\u6982\u7387\u5206\u5e03\uff1f\u8fd9\u662f\u4e00\u4e2a\u5173\u952e\u95ee\u9898\u3002\u5b58\u5728\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\u3002</p> <ul> <li> <p>\u6700\u7b80\u5355\u7684\u60c5\u5f62\u662f\\(d\\)\u4e0e\u7b56\u7565\\(\\pi\\)\u65e0\u5173\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u7279\u5730\u5c06\\(d\\)\u8bb0\u4e3a\\(d_0\\)\uff0c\u5e76\u5c06\\(\\bar{v}_\\pi\\)\u8bb0\u4e3a\\(\\bar{v}^0_\\pi\\)\u4ee5\u8868\u660e\u8be5\u5206\u5e03\u4e0e\u7b56\u7565\u65e0\u5173\u3002\u4e00\u79cd\u5904\u7406\u65b9\u5f0f\u662f\u8d4b\u4e88\u6240\u6709\u72b6\u6001\u540c\u7b49\u91cd\u8981\u6027\uff0c\u5373\u8bbe\u5b9a\\(d_0(s) =1/|\\mathcal{S}|\\)\uff1b\u53e6\u4e00\u79cd\u60c5\u5f62\u662f\u5f53\u6211\u4eec\u4ec5\u5173\u6ce8\u7279\u5b9a\u72b6\u6001\\(s_0\\)\u65f6\uff08\u4f8b\u5982\u667a\u80fd\u4f53\u603b\u662f\u4ece\\(s_0\\)\u5f00\u59cb\uff09\uff0c\u6b64\u65f6\u53ef\u8bbe\u8ba1</p> \\[d_0(s_0)=1,\\quad d_0(s\\neq s_0)=0.\\] </li> <li> <p>\u7b2c\u4e8c\u79cd\u60c5\u51b5\u662f\\(d\\)\u4f9d\u8d56\u4e8e\u7b56\u7565\\(\\pi\\)\u3002\u6b64\u65f6\u901a\u5e38\u9009\u62e9\\(d\\)\u4e3a\\(d_\\pi\\)\uff0c\u5373\\(\\pi\\)\u4e0b\u7684\u7a33\u6001\u5206\u5e03\u3002\\(d^\\pi\\)\u7684\u4e00\u4e2a\u57fa\u672c\u6027\u8d28\u662f\u6ee1\u8db3</p> \\[d_\\pi^TP_\\pi=d_\\pi^T,\\] <p>\u5176\u4e2d\\(P_\\pi\\)\u4e3a\u72b6\u6001\u8f6c\u79fb\u6982\u7387\u77e9\u9635\u3002\u5173\u4e8e\u5e73\u7a33\u5206\u5e03\u7684\u66f4\u591a\u4fe1\u606f\u53ef\u53c2\u9605Box \\(8.1\\)\u3002</p> <p>\u9009\u62e9\\(d^\\pi\\)\u7684\u89e3\u91ca\u5982\u4e0b\uff1a\u5e73\u7a33\u5206\u5e03\u53cd\u6620\u4e86\u9a6c\u5c14\u53ef\u592b\u51b3\u7b56\u8fc7\u7a0b\u5728\u7ed9\u5b9a\u7b56\u7565\u4e0b\u7684\u957f\u671f\u884c\u4e3a\u3002\u82e5\u67d0\u4e00\u72b6\u6001\u5728\u957f\u671f\u4e2d\u88ab\u9891\u7e41\u8bbf\u95ee\uff0c\u5219\u5176\u91cd\u8981\u6027\u66f4\u9ad8\uff0c\u5e94\u8d4b\u4e88\u66f4\u5927\u6743\u91cd\uff1b\u82e5\u67d0\u72b6\u6001\u6781\u5c11\u88ab\u8bbf\u95ee\uff0c\u5219\u5176\u91cd\u8981\u6027\u8f83\u4f4e\uff0c\u5e94\u8d4b\u4e88\u8f83\u5c0f\u6743\u91cd\u3002</p> </li> </ul> <p>\u987e\u540d\u601d\u4e49\uff0c\\(\\bar{v}_\\pi\\)\u662f\u72b6\u6001\u503c\u7684\u52a0\u6743\u5e73\u5747\u3002\u4e0d\u540c\u7684\\(\\theta\\)\u53d6\u503c\u4f1a\u5bfc\u81f4\\(\\bar{v}_\\pi\\)\u53d6\u503c\u7684\u5dee\u5f02\u3002\u6211\u4eec\u7684\u6700\u7ec8\u76ee\u6807\u662f\u627e\u5230\u6700\u4f18\u7b56\u7565\uff08\u5373\u6700\u4f18\u53c2\u6570\\(\\theta\\)\uff09\u4ee5\u4f7f\\(\\bar{v}_\\pi\\)\u6700\u5927\u5316\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u5f15\u5165\\(\\bar{v}_\\pi\\)\u7684\u53e6\u5916\u4e24\u79cd\u91cd\u8981\u7b49\u4ef7\u8868\u8fbe\u5f0f\u3002</p> <ul> <li> <p>\u5047\u8bbe\u667a\u80fd\u4f53\u901a\u8fc7\u9075\u5faa\u7ed9\u5b9a\u7b56\u7565 \\(\\pi(\\theta)\\)\u6536\u96c6\u5956\u52b1\u5e8f\u5217 \\(\\{R_{t+1}\\}_{t=0}^\\infty\\)\u3002\u8bfb\u8005\u5728\u6587\u732e\u4e2d\u5e38\u4f1a\u89c1\u5230\u5982\u4e0b\u5ea6\u91cf\u6307\u6807\uff1a</p> \\[J(\\theta)=\\lim_{n\\to\\infty}\\mathbb{E}\\left[\\sum_{t=0}^n\\gamma^tR_{t+1}\\right]=\\mathbb{E}\\left[\\sum_{t=0}^\\infty\\gamma^tR_{t+1}\\right].\\tag{9.1}\\] <p>\u8be5\u5ea6\u91cf\u6307\u6807\u521d\u770b\u53ef\u80fd\u4e0d\u6613\u7406\u89e3\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u7b49\u4e8e \\(\\bar{v}_\\pi\\)\u3002\u4e3a\u8bc1\u660e\u8fd9\u4e00\u70b9\uff0c\u6211\u4eec\u6709</p> \\[\\begin{aligned}\\mathbb{E}\\left[\\sum_{t=0}^{\\infty}\\gamma^{t}R_{t+1}\\right]&amp;=\\sum_{s\\in\\mathcal{S}}d(s)\\mathbb{E}\\left[\\sum_{t=0}^{\\infty}\\gamma^{t}R_{t+1}|S_{0}=s\\right]\\\\&amp;=\\sum_{s\\in\\mathcal{S}}d(s)v_{\\pi}(s)\\\\&amp;=\\bar{v}_{\\pi}.\\end{aligned}\\] <p>\u4e0a\u5f0f\u4e2d\u7684\u7b2c\u4e00\u4e2a\u7b49\u5f0f\u7531\u5168\u671f\u671b\u5b9a\u5f8b\u5f97\u51fa\uff1b\u7b2c\u4e8c\u4e2a\u7b49\u5f0f\u5219\u57fa\u4e8e\u72b6\u6001\u503c\u7684\u5b9a\u4e49\u3002</p> </li> <li> <p>\u5ea6\u91cf\\(\\bar{v}_\\pi\\)\u4e5f\u53ef\u4ee5\u8868\u793a\u4e3a\u4e24\u4e2a\u5411\u91cf\u7684\u5185\u79ef\u3002\u5177\u4f53\u800c\u8a00\uff0c\u8bbe</p> \\[v_{\\pi}=[\\ldots,v_{\\pi}(s),\\ldots]^{T}\\in\\mathbb{R}^{|\\mathcal{S}|},d=[\\ldots,d(s),\\ldots]^{T}\\in\\mathbb{R}^{|\\mathcal{S}|}.\\] <p>\u4e8e\u662f\u6211\u4eec\u5f97\u5230</p> \\[\\bar{v}_\\pi=d^Tv_\\pi.\\] <p>\u8be5\u8868\u8fbe\u5f0f\u5728\u5206\u6790\u5176\u68af\u5ea6\u65f6\u5c06\u4f1a\u975e\u5e38\u6709\u7528\u3002</p> </li> </ul>"},{"location":"Chapter-9/9-2/#2average-reward","title":"\u6307\u68072\uff1a\u5e73\u5747\u5956\u52b1(Average reward)","text":"<p>\u7b2c\u4e8c\u4e2a\u6307\u6807\u662f\u5355\u6b65\u5e73\u5747\u5956\u52b1(one-step reward\uff0c\u7b80\u79f0\u5e73\u5747\u5956\u52b1)[2,64,65]\uff0c\u5176\u5b9a\u4e49\u4e3a</p> \\[\\begin{gathered}\\bar{r}_{\\pi}\\doteq\\sum_{s\\in\\mathcal{S}}d_{\\pi}(s)r_{\\pi}(s)\\\\=\\mathbb{E}_{S\\sim d_{\\pi}}[r_{\\pi}(S)],\\end{gathered}\\tag{9.2}\\] <p>\u5176\u4e2d\\(d_\\pi\\)\u4e3a\u5e73\u7a33\u5206\u5e03\uff0c\u4e14</p> \\[r_\\pi(s)\\doteq\\sum_{a\\in\\mathcal{A}}\\pi(a|s,\\theta)r(s,a)=\\mathbb{E}_{A\\sim\\pi(s,\\theta)}[r(s,A)|s]\\tag{9.3}\\] <p>\u8fd9\u662f\u5373\u65f6\u5956\u52b1\u7684\u671f\u671b\u503c\u3002\u5176\u4e2d\uff0c\\(r(s, a) = \\mathbb{E}[R|s, a] = \\sum rp(r|s, a)\\)\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u7ed9\u51fa\\(\\bar{r}_\\pi\\)\u7684\u53e6\u5916\u4e24\u79cd\u91cd\u8981\u7b49\u4ef7\u8868\u8fbe\u5f0f\u3002</p> <ul> <li> <p>\u5047\u8bbe\u667a\u80fd\u4f53\u901a\u8fc7\u9075\u5faa\u7ed9\u5b9a\u7b56\u7565\\(\\pi(\\theta)\\)\u6536\u96c6\u5956\u52b1\u5e8f\u5217\\(\\{R_{t+1}\\}_{t=0}^\\infty\\)\u3002\u6587\u732e\u4e2d\u5e38\u89c1\u7684\u4e00\u4e2a\u8bc4\u4ef7\u6307\u6807\u53ef\u8868\u793a\u4e3a</p> \\[J(\\theta)=\\lim_{n\\to\\infty}\\frac{1}{n}\\mathbb{E}\\left[\\sum_{t=0}^{n-1}R_{t+1}\\right].\\tag{9.4}\\] <p>\u4e4d\u770b\u4e4b\u4e0b\uff0c\u8fd9\u4e2a\u5ea6\u91cf\u7684\u89e3\u91ca\u53ef\u80fd\u5e76\u4e0d\u76f4\u89c2\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u7b49\u4e8e\\(\\bar{r}_\\pi\\)\uff1a</p> \\[\\lim_{n\\to\\infty}\\frac{1}{n}\\mathbb{E}\\left[\\sum_{t=0}^{n-1}R_{t+1}\\right]=\\sum_{s\\in\\mathcal{S}}d_{\\pi}(s)r_{\\pi}(s)=\\bar{r}_{\\pi}.\\tag{9.5}\\] <p>\\((9.5)\\)\u5f0f\u7684\u8bc1\u660e\u89c1Box 9.1\u3002</p> </li> <li> <p>\u5f0f\\((9.2)\\)\u4e2d\u7684\u5e73\u5747\u5956\u52b1\\(\\bar{r}_\\pi\\)\u4e5f\u53ef\u8868\u793a\u4e3a\u4e24\u4e2a\u5411\u91cf\u7684\u5185\u79ef\u3002\u5177\u4f53\u800c\u8a00\uff0c\u8bbe</p> \\[r_{\\pi}=[\\ldots,r_{\\pi}(s),\\ldots]^{T}\\in\\mathbb{R}^{|S|},d_{\\pi}=[\\ldots,d_{\\pi}(s),\\ldots]^{T}\\in\\mathbb{R}^{|S|},\\] <p>\u5176\u4e2d\\(r_\\pi(s)\\)\u7531\u5f0f\\((9.3)\\)\u5b9a\u4e49\u3002\u663e\u7136\uff0c</p> \\[\\bar{r}_\\pi=\\sum_{s\\in\\mathcal{S}}d_\\pi(s)r_\\pi(s)=d_\\pi^Tr_\\pi.\\] <p>\u8be5\u8868\u8fbe\u5f0f\u5728\u63a8\u5bfc\u5176\u68af\u5ea6\u65f6\u5c06\u975e\u5e38\u6709\u7528\u3002</p> </li> </ul>"},{"location":"Chapter-9/9-2/#_1","title":"\u82e5\u5e72\u8bf4\u660e","text":"<p>\u8868\\(9.2\\)\uff1a\\(\\bar{v}_\\pi\\)\u4e0e\\(\\bar{r}_\\pi\\)\u4e0d\u540c\u4f46\u7b49\u4ef7\u8868\u8fbe\u5f0f\u7684\u6c47\u603b\u3002</p> <p>\u622a\u81f3\u76ee\u524d\uff0c\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u4e24\u79cd\u6027\u80fd\u6307\u6807\\(\\bar{v}_\\pi\\)\u548c\\(\\bar{r}_\\pi\\)\u3002\u6bcf\u79cd\u6307\u6807\u5747\u6709\u82e5\u5e72\u5f62\u5f0f\u4e0d\u540c\u4f46\u7b49\u4ef7\u7684\u8868\u8fbe\u5f0f\uff0c\u5176\u603b\u7ed3\u89c1\u8868\\(9.2\\)\u3002\u6211\u4eec\u6709\u65f6\u7528\\(\\bar{v}_\\pi\\)\u7279\u6307\u72b6\u6001\u5206\u5e03\u4e3a\u5e73\u7a33\u5206\u5e03\\(d_\\pi\\)\u7684\u60c5\u5f62\uff0c\u5e76\u7528\\(\\bar{v}^0_\\pi\\)\u8868\u793a\\(d_0\\)\u72ec\u7acb\u4e8e\\(\\pi\\)\u7684\u60c5\u5f62\u3002\u5173\u4e8e\u8fd9\u4e9b\u6307\u6807\u7684\u8865\u5145\u8bf4\u660e\u5982\u4e0b\uff1a</p> <ul> <li> <p>\u6240\u6709\u8fd9\u4e9b\u6307\u6807\u90fd\u662f\\(\\pi\\)\u7684\u51fd\u6570\u3002\u7531\u4e8e\\(\\pi\\)\u7531 \\(\\theta\\)\u53c2\u6570\u5316\uff0c\u8fd9\u4e9b\u6307\u6807\u4e5f\u662f\\(\\theta\\)\u7684\u51fd\u6570\u3002\u6362\u8a00\u4e4b\uff0c\u4e0d\u540c\u7684\\(\\theta\\)\u503c\u4f1a\u751f\u6210\u4e0d\u540c\u7684\u5ea6\u91cf\u6307\u6807\u503c\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u641c\u7d22\u53c2\u6570\\(\\theta\\)\u7684\u6700\u4f18\u503c\u6765\u6700\u5927\u5316\u8fd9\u4e9b\u8bc4\u4ef7\u6307\u6807\u3002\u8fd9\u6b63\u662f\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\u7684\u57fa\u672c\u601d\u60f3\u3002</p> </li> <li> <p>\u5728\u6298\u6263\u56e0\u5b50\\(\\gamma&lt;1\\)\u7684\u60c5\u51b5\u4e0b\uff0c\u4e24\u4e2a\u6307\u6807\\(\\bar{v}_\\pi\\)\u4e0e\\(\\bar{r}_\\pi\\)\u662f\u7b49\u4ef7(\u800c\u975e\u76f8\u7b49)\u7684\u3002\u5177\u4f53\u800c\u8a00\uff0c\u53ef\u4ee5\u8bc1\u660e\uff1a</p> \\[\\bar{r}_{\\pi}=(1-\\gamma)\\bar{v}_{\\pi}.\\] <p>\u4e0a\u8ff0\u65b9\u7a0b\u8868\u660e\u8fd9\u4e24\u4e2a\u6307\u6807\u53ef\u4ee5\u540c\u65f6\u6700\u5927\u5316\u3002\u8be5\u65b9\u7a0b\u7684\u8bc1\u660e\u5c06\u5728\u540e\u7eed\u5f15\u74069.1\u4e2d\u7ed9\u51fa\u3002</p> </li> </ul> <p>Note</p> <p>\\(\\bar{r}_\\pi\\)\u4f3c\u4e4e\u770b\u8d77\u6765\u66f4\u52a0\u77ed\u89c6\uff0c\u56e0\u4e3a\u4ed6\u53ea\u8003\u8651\u5373\u65f6\u5956\u52b1\uff0c\u4f46\u662f\\(\\bar{v}_\\pi\\)\u8003\u8651\u6574\u4e2a\u6b65\u9aa4\u7684\u603b\u56de\u62a5\u3002</p>"},{"location":"Chapter-9/9-3/","title":"9.3-\u76ee\u6807\u51fd\u6570\u7684\u68af\u5ea6","text":""},{"location":"Chapter-9/9-3/#93","title":"9.3 \u76ee\u6807\u51fd\u6570\u7684\u68af\u5ea6","text":"<p>\u6839\u636e\u4e0a\u4e00\u8282\u4ecb\u7ecd\u7684\u6307\u6807\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u57fa\u4e8e\u68af\u5ea6\u7684\u65b9\u6cd5\u6765\u6700\u5927\u5316\u5b83\u4eec\u3002\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u6211\u4eec\u9700\u8981\u9996\u5148\u8ba1\u7b97\u8fd9\u4e9b\u6307\u6807\u7684\u68af\u5ea6\u3002\u672c\u7ae0\u6700\u91cd\u8981\u7684\u7406\u8bba\u7ed3\u679c\u662f\u4e0b\u9762\u7684\u5b9a\u7406\u3002</p> <p>Info</p> <p>\u5b9a\u74069.1(\u7b56\u7565\u68af\u5ea6\u5b9a\u7406). \u76ee\u6807\u51fd\u6570 \\(J(\\theta)\\)\u7684\u68af\u5ea6\u4e3a</p> \\[\\nabla_\\theta J(\\theta) = \\sum_{s\\in\\mathcal{S}} \\eta(s) \\sum_{a\\in\\mathcal{A}} \\nabla_\\theta \\pi(a|s, \\theta) q_\\pi(s, a),\\tag{9.8}\\] <p>\u5176\u4e2d\\(\\eta\\)\u4e3a\u7a33\u6001\u5206\u5e03\uff0c\\(\\nabla_\\theta \\pi\\)\u8868\u793a\u7b56\u7565\\(\\pi\\)\u5bf9\u53c2\u6570\\(\\theta\\)\u7684\u68af\u5ea6\u3002\u6b64\u5916\uff0c\\((9.8)\\)\u5f0f\u53ef\u7b80\u5316\u4e3a\u671f\u671b\u5f62\u5f0f\uff1a</p> \\[\\nabla_\\theta J(\\theta) = \\mathbb{E}_{S\\sim\\eta,A\\sim\\pi(S,\\theta)} \\left[ \\nabla_\\theta \\ln \\pi(A|S, \\theta) q_\\pi(S, A) \\right],\\tag{9.8}\\] <p>\u5f0f\u4e2d\\(\\ln\\)\u4e3a\u81ea\u7136\u5bf9\u6570\u3002</p> <p>\u5173\u4e8e\u5b9a\u74069.1\u7684\u91cd\u8981\u8bf4\u660e\u5982\u4e0b\u3002</p> <ul> <li> <p>\u9700\u6ce8\u610f\u7684\u662f\uff0c\u5b9a\u7406\\(9.1\\)\u662f\u5bf9\u5b9a\u7406\\(9.2\\),\u5b9a\u7406\\(9.3\\)\u53ca\u5b9a\u7406\\(9.5\\)\u7ed3\u679c\u7684\u603b\u7ed3\u3002\u8fd9\u4e09\u4e2a\u5b9a\u7406\u5206\u522b\u5904\u7406\u6d89\u53ca\u4e0d\u540c\u5ea6\u91cf\u6307\u6807\u4e0e\u8d34\u73b0/\u975e\u8d34\u73b0\u60c5\u5f62\u7684\u4e0d\u540c\u573a\u666f\u3002\u8fd9\u4e9b\u573a\u666f\u4e0b\u7684\u68af\u5ea6\u8868\u8fbe\u5f0f\u5747\u5177\u6709\u76f8\u4f3c\u5f62\u5f0f\uff0c\u56e0\u6b64\u7edf\u4e00\u5f52\u7eb3\u4e8e\u5b9a\u7406\\(9.1\\)\u4e2d\u3002\u5b9a\u7406\\(9.1\\)\u672a\u7ed9\u51fa\\(J(\\theta)\\)\u4e0e\\(\\eta\\)\u7684\u5177\u4f53\u8868\u8fbe\u5f0f\uff0c\u5176\u8be6\u7ec6\u5b9a\u4e49\u53ef\u53c2\u89c1\u5b9a\u7406\\(9.2\\),\u5b9a\u7406\\(9.3\\)\u548c\u5b9a\u7406\\(9.5\\)\u3002\u7279\u522b\u5730\uff0c\\(J(\\theta)\\)\u53ef\u80fd\u662f\\(\\bar{v}_0^\\pi\\),\\(\\bar{v}^\\pi\\)\u6216\\(\\bar{r}^\\pi\\)\u3002\u5f0f\\((9.8)\\)\u4e2d\u7684\u7b49\u5f0f\u53ef\u80fd\u8f6c\u5316\u4e3a\u4e25\u683c\u7b49\u5f0f\u6216\u8fd1\u4f3c\u5173\u7cfb\u3002\u5206\u5e03\\(\\eta\\)\u5728\u4e0d\u540c\u573a\u666f\u4e0b\u4e5f\u5b58\u5728\u5dee\u5f02\u3002</p> <p>\u68af\u5ea6\u63a8\u5bfc\u662f\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\u4e2d\u6700\u590d\u6742\u7684\u73af\u8282\u3002\u5bf9\u4e8e\u591a\u6570\u8bfb\u8005\u800c\u8a00\uff0c\u638c\u63e1\u5b9a\u7406\\(9.1\\)\u7684\u7ed3\u8bba\u5373\u53ef\uff0c\u65e0\u9700\u4e86\u89e3\u8bc1\u660e\u8fc7\u7a0b\u3002\u672c\u8282\u540e\u7eed\u63a8\u5bfc\u6d89\u53ca\u5bc6\u96c6\u7684\u6570\u5b66\u8fd0\u7b97\uff0c\u5efa\u8bae\u8bfb\u8005\u6839\u636e\u5174\u8da3\u9009\u62e9\u6027\u7814\u8bfb\u3002</p> </li> <li> <p>\u5f0f\\((9.9)\\)\u6bd4\u5f0f\\((9.8)\\)\u66f4\u5177\u4f18\u52bf\uff0c\u56e0\u5176\u8868\u8ff0\u4e3a\u671f\u671b\u5f62\u5f0f\u3002\u6211\u4eec\u5c06\u5728\u7b2c\\(9.4\\)\u8282\u8bc1\u660e\uff1a\u8be5\u771f\u5b9e\u68af\u5ea6\u53ef\u901a\u8fc7\u968f\u673a\u68af\u5ea6\u8fdb\u884c\u8fd1\u4f3c\u3002</p> <p>\u4e3a\u4ec0\u4e48\\((9.8)\\)\u5f0f\u53ef\u4ee5\u8868\u793a\u4e3a\\((9.9)\\)\u5f0f\uff1f\u8bc1\u660e\u5982\u4e0b\u3002\u6839\u636e\u671f\u671b\u7684\u5b9a\u4e49\uff0c\\((9.8)\\)\u5f0f\u53ef\u6539\u5199\u4e3a</p> \\[\\begin{aligned}\\nabla_{\\theta}J(\\theta)&amp;=\\sum_{s\\in\\mathcal{S}}\\eta(s)\\sum_{a\\in\\mathcal{A}}\\nabla_{\\theta}\\pi(a|s,\\theta)q_{\\pi}(s,a)\\\\&amp;=\\mathbb{E}_{S\\sim\\eta}\\left[\\sum_{a\\in\\mathcal{A}}\\nabla_{\\theta}\\pi(a|S,\\theta)q_{\\pi}(S,a)\\right].\\end{aligned}\\tag{9.10}\\] <p>\u6b64\u5916\uff0c\\(\\ln \\pi(a|s, \\theta)\\)\u7684\u68af\u5ea6\u4e3a</p> \\[\\nabla_\\theta\\ln\\pi(a|s,\\theta)=\\frac{\\nabla_\\theta\\pi(a|s,\\theta)}{\\pi(a|s,\\theta)}.\\] <p>\u7531\u6b64\u53ef\u5f97</p> \\[\\nabla_\\theta\\pi(a|s,\\theta)=\\pi(a|s,\\theta)\\nabla_\\theta\\ln\\pi(a|s,\\theta)\\tag{9.11}\\] <p>\u5c06\u5f0f\\((9.11)\\)\u4ee3\u5165\u5f0f\\((9.10)\\)\u53ef\u5f97</p> \\[\\begin{aligned}\\nabla_{\\theta}J(\\theta)&amp;=\\mathbb{E}\\left[\\sum_{a\\in\\mathcal{A}}\\pi(a|S,\\theta)\\nabla_{\\theta}\\ln\\pi(a|S,\\theta)q_{\\pi}(S,a)\\right]\\\\&amp;=\\mathbb{E}_{S\\sim\\eta,A\\sim\\pi(S,\\theta)}\\left[\\nabla_{\\theta}\\ln\\pi(A|S,\\theta)q_{\\pi}(S,A)\\right].\\end{aligned}\\] </li> <li> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u4e3a\u786e\u4fdd\\(\\ln \\pi(a|s, \\theta)\\)\u6709\u6548\uff0c\u7b56\u7565\u51fd\u6570\\(\\pi(a|s, \\theta)\\)\u5bf9\u6240\u6709\u72b6\u6001-\u884c\u52a8\u5bf9\\((s, a)\\)\u5fc5\u987b\u4fdd\u6301\u6b63\u503c\u3002\u8fd9\u4e00\u7279\u6027\u53ef\u901a\u8fc7softmax\u51fd\u6570\u5b9e\u73b0\uff1a</p> \\[\\pi(a|s,\\theta)=\\frac{e^{h(s,a,\\theta)}}{\\sum_{a^{\\prime}\\in\\mathcal{A}}e^{h(s,a^{\\prime},\\theta)}},\\quad a\\in\\mathcal{A},\\tag{9.12}\\] <p>\u5176\u4e2d\\(h(s, a, \\theta)\\)\u662f\u8868\u5f81\u5728\u72b6\u6001\\(s\\)\u4e0b\u9009\u62e9\u884c\u52a8\\(a\\)\u504f\u597d\u7684\u51fd\u6570\u3002\u5f0f\\((9.12)\\)\u4e2d\u7684\u7b56\u7565\u6ee1\u8db3\\(\\pi(a|s, \\theta) \\in (0,1)\\)\u4e14\u5bf9\u4efb\u610f\\(s \\in \\mathcal{S}\\)\u6709\\(\\sum_{a \\in \\mathcal{A}} \\pi(a|s, \\theta) =1\\)\u3002\u8be5\u7b56\u7565\u53ef\u901a\u8fc7\u795e\u7ecf\u7f51\u7edc\u5b9e\u73b0\uff1a\u7f51\u7edc\u8f93\u5165\u4e3a\u72b6\u6001\\(s\\)\uff0c\u8f93\u51fa\u5c42\u91c7\u7528 softmax\u5c42\uff0c\u4f7f\u5f97\u7f51\u7edc\u5bf9\u6240\u6709\\(a\\)\u8f93\u51fa\\(\\pi(a|s, \\theta)\\)\u4e14\u8f93\u51fa\u603b\u548c\u4e3a\\(1\\)\u3002\u5177\u4f53\u7ed3\u6784\u793a\u610f\u56fe\u89c1\u56fe\\(9.2(b)\\)\u3002</p> <p>\u7531\u4e8e\u5bf9\u6240\u6709\u884c\u52a8\\(a\\)\u5747\u6709\\(\\pi(a|s, \\theta) &gt;0\\)\uff0c\u8be5\u7b56\u7565\u662f\u968f\u673a\u4e14\u5177\u6709\u63a2\u7d22\u6027\u7684\u3002\u7b56\u7565\u672c\u8eab\u5e76\u4e0d\u76f4\u63a5\u6307\u5b9a\u5e94\u91c7\u53d6\u7684\u52a8\u4f5c\uff0c\u800c\u662f\u9700\u8981\u6839\u636e\u7b56\u7565\u7684\u6982\u7387\u5206\u5e03\u751f\u6210\u52a8\u4f5c\u3002</p> </li> </ul>"},{"location":"Chapter-9/9-3/#931","title":"9.3.1 \u63a8\u5bfc\u7b56\u7565\u68af\u5ea6: \u6709\u6298\u73b0\u7684\u60c5\u51b5","text":"<p>\u63a5\u4e0b\u6765\u63a8\u5bfc\u6298\u73b0\u56e0\u5b50\\(\\gamma\\in(0,1)\\)\u60c5\u5f62\u4e0b\u7684\u6307\u6807\u68af\u5ea6\u3002\u6298\u73b0\u60c5\u51b5\u4e0b\u7684\u72b6\u6001\u503c\u4e0e\u52a8\u4f5c\u503c\u5b9a\u4e49\u4e3a:</p> \\[\\begin{aligned}v_{\\pi}(s)&amp;=\\mathbb{E}[R_{t+1}+\\gamma R_{t+2}+\\gamma^{2}R_{t+3}+\\ldots|S_{t}=s],\\\\q_{\\pi}(s,a)&amp;=\\mathbb{E}[R_{t+1}+\\gamma R_{t+2}+\\gamma^{2}R_{t+3}+\\ldots|S_{t}=s,A_{t}=a].\\end{aligned}\\] <p>\u72b6\u6001\u503c\u6ee1\u8db3\\(v_\\pi(s) = \\sum_{a\\in A} \\pi(a|s, \\theta)q_\\pi(s, a)\\)\uff0c\u4e14\u8be5\u72b6\u6001\u503c\u670d\u4ece\u8d1d\u5c14\u66fc\u65b9\u7a0b\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u8bc1\u660e\\(\\bar{v}_\\pi(\\theta)\\)\u4e0e\\(\\bar{r}_\\pi(\\theta)\\)\u662f\u7b49\u4ef7\u5ea6\u91cf\u3002</p> <p>Info</p> <p>\u5f15\u74069.1.(\\(\\bar{v}_\\pi(\\theta)\\)\u4e0e \\(\\bar{r}_\\pi(\\theta)\\)\u7684\u7b49\u4ef7\u6027)\u3002\u5728\u6298\u6263\u56e0\u5b50 \\(\\gamma \\in (0,1)\\)\u7684\u60c5\u5f62\u4e0b\uff0c\u6210\u7acb\u5173\u7cfb\u5f0f</p> \\[\\bar{r}_\\pi = (1 - \\gamma)\\bar{v}_\\pi. \\quad (9.13)\\] <p>\u8bc1\u660e\uff1a\u6ce8\u610f\u5230 \\(\\bar{v}_\\pi(\\theta) = d_\\pi^T v_\\pi\\)\u4e14 \\(\\bar{r}_\\pi(\\theta) = d_\\pi^T r_\\pi\\)\uff0c\u5176\u4e2d \\(v_\\pi\\)\u548c \\(r_\\pi\\)\u6ee1\u8db3Bellman\u65b9\u7a0b\\(v_\\pi = r_\\pi + \\gamma P_\\pi v_\\pi\\)\u3002\u5c06Bellman\u65b9\u7a0b\u4e24\u8fb9\u540c\u4e58\\(d_\\pi^T\\)\u53ef\u5f97</p> <p>\\(\\(\\bar{v}_\\pi = \\bar{r}_\\pi + \\gamma d_\\pi^T P_\\pi v_\\pi = \\bar{r}_\\pi + \\gamma d_\\pi^T v_\\pi = \\bar{r}_\\pi + \\gamma \\bar{v}_\\pi,\\)\\)\u7531\u6b64\u5373\u5f97\\((9.13)\\)\u3002</p> <p>\u5176\u6b21\uff0c\u4ee5\u4e0b\u5f15\u7406\u7ed9\u51fa\u4efb\u610f\u72b6\u6001\\(s\\)\u4e0b\\(v_\\pi(s)\\)\u7684\u68af\u5ea6\u3002</p> <p>Info</p> <p>\u5f15\u74069.2.(\\(v_\\pi(s)\\)\u7684\u68af\u5ea6)\u3002\u5728\u6298\u73b0\u60c5\u5f62\u4e0b\uff0c\u5bf9\u4e8e\u4efb\u610f\u72b6\u6001\\(s \\in \\mathcal{S}\\)\uff0c\u6709\uff1a</p> \\[\\nabla_\\theta v_\\pi(s) = \\sum_{s' \\in \\mathcal{S}} \\Pr\\nolimits_\\pi(s'|s) \\sum_{a \\in \\mathcal{A}} \\nabla_\\theta \\pi(a|s', \\theta) q_\\pi(s', a),\\tag{9.14}\\] <p>\u5176\u4e2d</p> \\[\\Pr\\nolimits_\\pi(s'|s) \\doteq \\sum_{k=0}^\\infty \\gamma^k [P_\\pi^k]_{ss'} = \\left[ (I_n - \\gamma P_\\pi)^{-1} \\right]_{ss'}\\] <p>\u8868\u793a\u7b56\u7565\\(\\pi\\)\u4e0b\u4ece\\(s\\)\u8f6c\u79fb\u5230\\(s'\\)\u7684\u6298\u73b0\u603b\u6982\u7387\u3002\u6b64\u5904\\([\\cdot]_{ss'}\\)\u8868\u793a\u77e9\u9635\u7b2c\\(s\\)\u884c\u7b2c\\(s'\\)\u5217\u5143\u7d20\uff0c\\([P_\\pi^k]_{ss'}\\)\u4e3a\u7b56\u7565\\(\\pi\\)\u4e0b\u7ecf\\(k\\)\u6b65\u4ece\\(s\\)\u8f6c\u79fb\u5230\\(s'\\)\u7684\u6982\u7387\u3002</p> <p>\u6839\u636e\u5f15\u7406\\(9.2\\)\u7684\u7ed3\u679c\uff0c\u6211\u4eec\u53ef\u4ee5\u63a8\u5bfc\u51fa\\(\\bar{v}_0^\\pi\\)\u7684\u68af\u5ea6\u3002</p> <p>Info</p> <p>\u5b9a\u74069.2.(\u6298\u6263\u60c5\u5f62\u4e0b\u7684\\(\\bar{v}_0^\\pi\\)\u68af\u5ea6)\u3002\u5728\u6298\u73b0\u56e0\u5b50\\(\\gamma \\in (0,1)\\)\u7684\u60c5\u5f62\u4e0b\uff0c\\(\\bar{v}_0^\\pi = \\mathbf{d}_0^\\mathrm{T} \\mathbf{v}^\\pi\\)\u7684\u68af\u5ea6\u4e3a</p> \\[\\nabla_\\theta \\bar{v}_0^\\pi = \\mathbb{E} \\left[ \\nabla_\\theta \\ln \\pi(A|S, \\theta) q_\\pi(S, A) \\right],\\] <p>\u5176\u4e2d\u72b6\u6001\\(S \\sim \\rho^\\pi\\)\u4e14\u884c\u52a8\\(A \\sim \\pi(S, \\theta)\\)\u3002\u6b64\u5904\u72b6\u6001\u5206\u5e03\\(\\rho^\\pi\\)\u5b9a\u4e49\u4e3a</p> \\[\\rho^\\pi(s) = \\sum_{s' \\in \\mathcal{S}} d_0(s') \\mathrm{Pr}^\\pi(s|s'), \\quad s \\in \\mathcal{S},\\tag{9.19}\\] <p>\u5176\u4e2d\\(\\mathrm{Pr}^\\pi(s|s') = \\sum_{k=0}^\\infty \\gamma^k [P_\\pi^k]_{s's} = [(I - \\gamma P_\\pi)^{-1}]_{s's}\\)\u5728\u7b56\u7565\\(\\pi\\)\u4e0b\u4ece\u72b6\u6001\\(s'\\)\u8f6c\u79fb\u5230\u72b6\u6001\\(s\\)\u7684\u6298\u73b0\u603b\u6982\u7387\u3002</p> <p>\u6839\u636e\u5f15\u7406\\(9.1\\)\u548c\u5f15\u7406\\(9.2\\)\uff0c\u6211\u4eec\u53ef\u4ee5\u63a8\u5bfc\u51fa\\(\\bar{r}_\\pi\\)\u548c\\(\\bar{v}_\\pi\\)\u7684\u68af\u5ea6\u3002</p> <p>Info</p> <p>\u5b9a\u74069.3.(\u6298\u6263\u60c5\u5f62\u4e0b\u7684\\(\\bar{r}_\\pi\\)\u4e0e\\(\\bar{v}_\\pi\\)\u68af\u5ea6)\u3002\u5728\u6298x\u73b0\u56e0\u5b50\\(\\gamma \\in (0,1)\\)\u7684\u60c5\u5f62\u4e0b\uff0c\\(\\bar{r}_\\pi\\)\u548c\\(\\bar{v}_\\pi\\)\u7684\u68af\u5ea6\u6ee1\u8db3\uff1a</p> \\[\\nabla_\\theta \\bar{r}_\\pi = (1 - \\gamma) \\nabla_\\theta \\bar{v}_\\pi \\approx \\sum_{s \\in \\mathcal{S}} d_\\pi(s) \\sum_{a \\in \\mathcal{A}} \\nabla_\\theta \\pi(a|s, \\theta) q_\\pi(s, a) = \\mathbb{E} \\left[ \\nabla_\\theta \\ln \\pi(A|S, \\theta) q_\\pi(S, A) \\right],\\] <p>\u5176\u4e2d\\(S \\sim d_\\pi\\)\u4e14\\(A \\sim \\pi(S, \\theta)\\)\u3002\u5f53\\(\\gamma\\)\u8d8a\u63a5\u8fd11\u65f6\uff0c\u8be5\u8fd1\u4f3c\u7ed3\u679c\u8d8a\u7cbe\u786e\u3002</p>"},{"location":"Chapter-9/9-3/#932","title":"9.3.2 \u63a8\u5bfc\u7b56\u7565\u68af\u5ea6: \u65e0\u6298\u73b0\u7684\u60c5\u51b5","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u5c55\u793a\u5982\u4f55\u8ba1\u7b97\u65e0\u6298\u6263\u60c5\u5f62(\u5373\\(\\gamma =1\\))\u4e0b\u5404\u6307\u6807\u7684\u68af\u5ea6\u3002\u8bfb\u8005\u53ef\u80fd\u4f1a\u7591\u60d1\uff0c\u4e3a\u4f55\u672c\u4e66\u6b64\u524d\u4ec5\u8ba8\u8bba\u6298\u73b0\u60c5\u5f62\uff0c\u5374\u7a81\u7136\u5f00\u59cb\u5206\u6790\u65e0\u6298\u73b0\u60c5\u5f62\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5e73\u5747\u5956\u52b1\\(\\bar{r}_\\pi\\)\u7684\u5b9a\u4e49\u540c\u65f6\u9002\u7528\u4e8e\u6298\u73b0\u4e0e\u65e0\u6298\u73b0\u60c5\u5f62\u3002\u867d\u7136\u6298\u73b0\u60c5\u5f62\u4e0b \\(\\bar{r}_\\pi\\)\u7684\u68af\u5ea6\u662f\u8fd1\u4f3c\u89e3\uff0c\u4f46\u6211\u4eec\u5c06\u770b\u5230\u5176\u5728\u65e0\u6298\u73b0\u60c5\u5f62\u4e0b\u7684\u68af\u5ea6\u8868\u8fbe\u5f0f\u66f4\u4e3a\u7b80\u6d01\u4f18\u7f8e\u3002</p>"},{"location":"Chapter-9/9-3/#_1","title":"\u72b6\u6001\u503c\u4e0e\u6cca\u677e\u65b9\u7a0b","text":"<p>\u5728\u65e0\u6298\u6263\u60c5\u51b5\u4e0b\uff0c\u9700\u91cd\u65b0\u5b9a\u4e49\u72b6\u6001\u503c\u4e0e\u52a8\u4f5c\u503c\u3002\u7531\u4e8e\u5956\u52b1\u7684\u65e0\u6298\u6263\u603b\u548c\\(\\mathbb{E}[R_{t+1} + R_{t+2} + R_{t+3} + \\dots |S_t = s]\\)\u53ef\u80fd\u53d1\u6563\uff0c\u72b6\u6001\u503c\u4e0e\u52a8\u4f5c\u503c\u9700\u91c7\u7528\u7279\u6b8a\u65b9\u5f0f\u5b9a\u4e49[64]\uff1a</p> \\[\\begin{aligned}v_{\\pi}(s)&amp;\\doteq\\mathbb{E}[(R_{t+1}-\\bar{r}_\\pi)+(R_{t+2}-\\bar{r}_\\pi)+(R_{t+3}-\\bar{r}_\\pi)+\\ldots|S_t=s],\\\\q_{\\pi}(s,a)&amp;\\doteq\\mathbb{E}[(R_{t+1}-\\bar{r}_\\pi)+(R_{t+2}-\\bar{r}_\\pi)+(R_{t+3}-\\bar{r}_\\pi)+\\ldots|S_t=s,A_t=a],\\end{aligned}\\] <p>\u5176\u4e2d\\(\\bar{r}_\\pi\\)\u8868\u793a\u5e73\u5747\u5956\u52b1\uff0c\u5176\u503c\u5728\u7ed9\u5b9a\u7b56\u7565\\(\\pi\\)\u65f6\u786e\u5b9a\u3002\u6587\u732e\u4e2d\u5bf9\\(v_\\pi(s)\\)\u6709\u4e0d\u540c\u79f0\u8c13\uff0c\u5982\"\u5dee\u5206\u5956\u52b1\"[65]\u6216\"\u504f\u5dee\"[2,\u7b2c8.2.1\u8282]\u3002\u53ef\u4ee5\u9a8c\u8bc1\uff0c\u4e0a\u8ff0\u5b9a\u4e49\u7684\u72b6\u6001\u503c\u51fd\u6570\u6ee1\u8db3\u5982\u4e0b\u7c7b\u8d1d\u5c14\u66fc\u65b9\u7a0b\uff1a</p> \\[v_\\pi(s)=\\sum_a\\pi(a|s,\\theta)\\left[\\sum_rp(r|s,a)(r-\\bar{r}_\\pi)+\\sum_{s^{\\prime}}p(s^{\\prime}|s,a)v_\\pi(s^{\\prime})\\right].\\tag{9.22}\\] <p>\u7531\u4e8e\\(v_\\pi(s) = \\sum_{a \\in \\mathcal{A}} \\pi(a|s, \\theta) q_\\pi(s, a)\\)\uff0c\u53ef\u5f97\\(q_\\pi(s, a) = \\sum_{r} p(r|s, a)(r - \\bar{r}_\\pi) + \\sum_{s'} p(s'|s, a)v_\\pi(s')\\)\u3002\u5f0f (9.22)\u7684\u77e9\u9635-\u5411\u91cf\u5f62\u5f0f\u4e3a</p> \\[v_\\pi = r_\\pi - \\bar{r}_\\pi \\mathbf{1}_n + P_\\pi v_\\pi,\\tag{9.23}\\] <p>\u5176\u4e2d\\(\\mathbf{1}_n = [1, \\ldots,1]^T \\in \\mathbb{R}^n\\)\u3002\u65b9\u7a0b\\((9.23)\\)\u4e0e\u8d1d\u5c14\u66fc\u65b9\u7a0b\u7c7b\u4f3c\uff0c\u5176\u7279\u5b9a\u540d\u79f0\u4e3a\u6cca\u677e\u65b9\u7a0b[65,67]\u3002</p> <p>\u5982\u4f55\u4ece\u6cca\u677e\u65b9\u7a0b\u6c42\u89e3\\(v_\\pi\\)\uff1f\u7b54\u6848\u7531\u4ee5\u4e0b\u5b9a\u7406\u7ed9\u51fa\u3002</p> <p>Info</p> <p>\u5b9a\u74069.4(\u6cca\u677e\u65b9\u7a0b\u7684\u89e3)\u3002\u4ee4\\(\\(v^*_\\pi = (I_n - P_\\pi +1_n d^T_\\pi)^{-1} r_\\pi.\\tag{9.24}\\)\\)</p> <p>\u5219\\(v^*_\\pi\\)\u662f\u65b9\u7a0b\\((9.23)\\)\u4e2d\u6cca\u677e\u65b9\u7a0b\u7684\u4e00\u4e2a\u89e3\u3002\u6b64\u5916\uff0c\u6cca\u677e\u65b9\u7a0b\u7684\u4efb\u610f\u89e3\u5747\u53ef\u8868\u793a\u4e3a\u4ee5\u4e0b\u5f62\u5f0f\uff1a \\(\\(v_\\pi = v^*_\\pi + c1_n,\\)\\)</p> <p>\u5176\u4e2d\\(c \\in \\mathbb{R}\\)\u3002</p> <p>\u8be5\u5b9a\u7406\u8868\u660e\u6cca\u677e\u65b9\u7a0b\u7684\u89e3\u53ef\u80fd\u4e0d\u552f\u4e00\u3002</p>"},{"location":"Chapter-9/9-3/#_2","title":"\u68af\u5ea6\u63a8\u5bfc","text":"<p>\u867d\u7136\u5728\u65e0\u6298\u73b0\u60c5\u5f62\u4e0b \\(v_\\pi\\)\u7684\u503c\u4e0d\u552f\u4e00(\u5982\u5b9a\u7406\\(9.4\\)\u6240\u793a)\uff0c\u4f46 \\(\\bar{r}_\\pi\\)\u7684\u503c\u5177\u6709\u552f\u4e00\u6027\u3002\u7279\u522b\u5730\uff0c\u6839\u636e\u6cca\u677e\u65b9\u7a0b\u53ef\u5f97\uff1a</p> \\[\\bar{r}_\\pi \\mathbf{1}_n = r_\\pi + (P_\\pi - I_n) v_\\pi = r_\\pi + (P_\\pi - I_n)(v^*_\\pi + c\\mathbf{1}_n) = r_\\pi + (P_\\pi - I_n) v^*_\\pi\\] <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u672a\u5b9a\u503c\\(c\\)\u88ab\u6d88\u53bb\uff0c\u56e0\u6b64\\(\\bar{r}_\\pi\\)\u5177\u6709\u552f\u4e00\u6027\u3002\u8fd9\u4f7f\u5f97\u6211\u4eec\u80fd\u591f\u8ba1\u7b97\u65e0\u6298\u73b0\u60c5\u5f62\u4e0b\\(\\bar{r}_\\pi\\)\u7684\u68af\u5ea6\u3002\u6b64\u5916\uff0c\u7531\u4e8e\\(v_\\pi\\)\u4e0d\u552f\u4e00\uff0c\\(\\bar{v}_\\pi\\)\u4e5f\u4e0d\u552f\u4e00\u3002\u672c\u6587\u4e0d\u7814\u7a76\u65e0\u6298\u73b0\u60c5\u5f62\u4e0b\\(\\bar{v}_\\pi\\)\u7684\u68af\u5ea6\u3002\u5bf9\u4e8e\u611f\u5174\u8da3\u7684\u8bfb\u8005\uff0c\u9700\u8981\u8bf4\u660e\u7684\u662f\uff1a\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u589e\u52a0\u7ea6\u675f\u6761\u4ef6\u4ece\u6cca\u677e\u65b9\u7a0b\u4e2d\u552f\u4e00\u6c42\u89e3\\(v_\\pi\\)\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u5b58\u5728\u5e38\u8fd4\u72b6\u6001\u65f6\uff0c\u8be5\u5e38\u8fd4\u72b6\u6001\u7684\u72b6\u6001\u503c\u53ef\u88ab\u786e\u5b9a[65\u7b2cII\u8282]\uff0c\u4ece\u800c\u786e\u5b9a\\(c\\)\u503c\u3002\u8fd8\u5b58\u5728\u5176\u4ed6\u552f\u4e00\u786e\u5b9a\\(v_\\pi\\)\u7684\u65b9\u6cd5\uff0c\u5177\u4f53\u53ef\u53c2\u89c1\u6587\u732e[2]\u4e2d\u7684\u65b9\u7a0b(8.6.5)-(8.6.7)\u3002</p> <p>\u65e0\u6298\u73b0\u60c5\u5f62\u4e0b\\(\\bar{r}_\\pi\\)\u7684\u68af\u5ea6\u63a8\u5bfc\u5982\u4e0b\u3002</p> <p>Info</p> <p>\u5b9a\u74069.5(\u65e0\u6298\u73b0\u60c5\u5f62\u4e0b\\(\\bar{r}_\\pi\\)\u7684\u68af\u5ea6)\u3002</p> <p>\u5e73\u5747\u5956\u52b1\\(\\bar{r}_\\pi\\)\u7684\u68af\u5ea6\u4e3a</p> \\[\\nabla_\\theta \\bar{r}_\\pi = \\sum_{s \\in \\mathcal{S}} d_\\pi(s) \\sum_{a \\in \\mathcal{A}} \\nabla_\\theta \\pi(a|s, \\theta) q_\\pi(s, a) = \\mathbb{E} \\left[ \\nabla_\\theta \\ln \\pi(A|S, \\theta) q_\\pi(S, A) \\right],\\tag{9.28}\\] <p>\u5176\u4e2d\u72b6\u6001\\(S \\sim d_\\pi\\)\u4e14\u884c\u52a8\\(A \\sim \\pi(S, \\theta)\\)\u3002</p> <p>\u4e0e\u5b9a\u7406\\(9.3\\)\u63cf\u8ff0\u7684\u6298\u6263\u60c5\u5f62\u76f8\u6bd4\uff0c\u975e\u6298\u6263\u60c5\u5f62\u4e0b\u7684\\(\\bar{r}_\\pi\\)\u68af\u5ea6\u5177\u6709\u66f4\u7b80\u6d01\u7684\u6570\u5b66\u8868\u8fbe\u2014\u2014\u5176\u4e25\u683c\u6ee1\u8db3\u5f0f\\((9.28)\\)\uff0c\u4e14\u72b6\u6001\u8f6c\u79fb\u77e9\u9635\\(S\\)\u670d\u4ece\u7a33\u6001\u5206\u5e03\u3002</p>"},{"location":"Chapter-9/9-4/","title":"9.4-\u8499\u7279\u5361\u6d1b\u7b56\u7565\u68af\u5ea6","text":""},{"location":"Chapter-9/9-4/#94","title":"9.4 \u8499\u7279\u5361\u6d1b\u7b56\u7565\u68af\u5ea6","text":"<p>\u6839\u636e\u5b9a\u7406\\(9.1\\)\u7ed9\u51fa\u7684\u68af\u5ea6\uff0c\u6211\u4eec\u63a5\u4e0b\u6765\u5c55\u793a\u5982\u4f55\u5229\u7528\u57fa\u4e8e\u68af\u5ea6\u7684\u65b9\u6cd5\u4f18\u5316\u6307\u6807\uff0c\u4ece\u800c\u83b7\u5f97\u6700\u4f18\u7b56\u7565\u3002</p> <p>\u7528\u4e8e\u6700\u5927\u5316\\(J(\\theta)\\)\u7684\u68af\u5ea6\u4e0a\u5347\u7b97\u6cd5\u4e3a</p> \\[\\begin{align}\\theta_{t+1} &amp;= \\theta_t + \\alpha \\nabla_\\theta J(\\theta_t) \\\\&amp;= \\theta_t + \\alpha \\mathbb{E}\\!\\left[ \\nabla_\\theta \\ln \\pi(A|S, \\theta_t) q_\\pi(S, A) \\right]\\end{align},\\tag{9.31}\\] <p>\u5176\u4e2d\\(\\alpha &gt;0\\)\u4e3a\u6052\u5b9a\u5b66\u4e60\u7387\u3002\u7531\u4e8e\u5f0f\\((9.31)\\)\u4e2d\u7684\u771f\u5b9e\u68af\u5ea6\u672a\u77e5\uff0c\u53ef\u7528\u968f\u673a\u68af\u5ea6\u66ff\u4ee3\u771f\u5b9e\u68af\u5ea6\uff0c\u5f97\u5230\u5982\u4e0b\u7b97\u6cd5\uff1a</p> \\[\\theta_{t+1} = \\theta_t + \\alpha \\nabla_\\theta \\ln \\pi(a_t \\mid s_t, \\theta_t) q_\\pi(s_t, a_t),\\tag{9.32}\\] <p>\u5176\u4e2d\\(q_t(s_t, a_t)\\)\u662f\\(q_\\pi(s_t, a_t)\\)\u7684\u8fd1\u4f3c\u4f30\u8ba1\u3002\u82e5\\(q_t(s_t, a_t)\\)\u901a\u8fc7\u8499\u7279\u5361\u6d1b\u4f30\u8ba1\u83b7\u5f97\uff0c\u5219\u8be5\u7b97\u6cd5\u79f0\u4e3aREINFORCE[68]\u6216\u8499\u7279\u5361\u6d1b\u7b56\u7565\u68af\u5ea6\u7b97\u6cd5\uff0c\u8fd9\u662f\u6700\u65e9\u4e14\u6700\u7b80\u5355\u7684\u7b56\u7565\u68af\u5ea6\u7b97\u6cd5\u4e4b\u4e00\u3002</p> <p>\u5f0f\\((9.32)\\)\u4e2d\u7684\u7b97\u6cd5\u5177\u6709\u91cd\u8981\u610f\u4e49\uff0c\u56e0\u4e3a\u901a\u8fc7\u6269\u5c55\u5b83\u53ef\u4ee5\u884d\u751f\u51fa\u8bb8\u591a\u5176\u4ed6\u7b56\u7565\u68af\u5ea6\u7b97\u6cd5\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u66f4\u6df1\u5165\u5730\u5206\u6790\u5f0f\\((9.32)\\)\u7684\u6570\u5b66\u5185\u6db5\u3002\u7531\u4e8e\\(\\nabla_\\theta \\ln \\pi(a_t|s_t, \\theta_t) = \\frac{\\nabla_\\theta \\pi(a_t|s_t,\\theta_t)}{\\pi(a_t|s_t,\\theta_t)}\\)\uff0c\u53ef\u5c06\u5f0f\\((9.32)\\)\u6539\u5199\u4e3a</p> \\[\\theta_{t+1} = \\theta_t + \\alpha (\\underbrace{\\frac{q_\\pi(s_t, a_t)}{\\pi(a_t \\mid s_t, \\theta_t)}}_{\\beta_t}) \\nabla_\\theta \\pi(a_t \\mid s_t, \\theta_t),\\] <p>\u53ef\u8fdb\u4e00\u6b65\u7b80\u6d01\u8868\u793a\u4e3a</p> \\[\\theta_{t+1} = \\theta_t + \\alpha \\beta_t \\nabla_\\theta \\pi(a_t \\mid s_t, \\theta_t),\\tag{9.33}\\] <p>\u4ece\u8be5\u65b9\u7a0b\u53ef\u4ee5\u5f97\u51fa\u4e24\u4e2a\u91cd\u8981\u89e3\u91ca\u3002</p> <ul> <li> <p>\u9996\u5148\uff0c\u7531\u4e8e\u5f0f (9.33)\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u68af\u5ea6\u4e0a\u5347\u7b97\u6cd5\uff0c\u56e0\u6b64\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u7ed3\u8bba\u3002</p> <ul> <li> <p>\u82e5\\(\\beta_t \\geq0\\)\uff0c\u9009\u62e9\\((s_t, a_t)\\)\u7684\u6982\u7387\u5c06\u589e\u5f3a\uff0c\u5373 </p> \\[\\pi(a_t|s_t, \\theta_{t+1}) \\geq \\pi(a_t|s_t, \\theta_t)\\] <p>\\(\\beta_t\\)\u8d8a\u5927\uff0c\u589e\u5f3a\u6548\u679c\u8d8a\u663e\u8457\u3002</p> </li> <li> <p>\u82e5\\(\\beta_t &lt;0\\)\uff0c\u9009\u62e9\\((s_t, a_t)\\)\u7684\u6982\u7387\u5c06\u964d\u4f4e\uff0c\u5373 </p> \\[\\pi(a_t|s_t, \\theta_{t+1}) &lt; \\pi(a_t|s_t, \\theta_t)\\] </li> </ul> <p>\u4e0a\u8ff0\u7ed3\u8bba\u53ef\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u8bc1\u660e\uff1a\u5f53\\(\\theta_{t+1} - \\theta_t\\)\u8db3\u591f\u5c0f\u65f6\uff0c\u6839\u636e\u6cf0\u52d2\u5c55\u5f00\u53ef\u5f97</p> \\[\\begin{align}\\pi(a_t \\mid s_t, \\theta_{t+1}) &amp;\\approx \\pi(a_t \\mid s_t, \\theta_t) + \\left( \\nabla_\\theta \\pi(a_t \\mid s_t, \\theta_t) \\right)^T (\\theta_{t+1} - \\theta_t) \\\\&amp;= \\pi(a_t \\mid s_t, \\theta_t) + \\alpha \\beta_t \\big( \\nabla_\\theta \\pi(a_t \\mid s_t, \\theta_t) \\big)^T \\big( \\nabla_\\theta \\pi(a_t \\mid s_t, \\theta_t) \\big) \\quad \\text{(substituting (9.33))} \\\\&amp;= \\pi(a_t \\mid s_t, \\theta_t) + \\alpha \\beta_t \\, \\| \\nabla_\\theta \\pi(a_t \\mid s_t, \\theta_t) \\|_2^2.\\end{align}\\] <p>\u663e\u7136\uff0c\u5f53\\(\\beta_t \\geq0\\)\u65f6\uff0c\\(\\pi(a_t|s_t, \\theta_{t+1}) \\geq \\pi(a_t|s_t, \\theta_t)\\)\uff1b\u800c\u5f53\\(\\beta_t &lt;0\\)\u65f6\uff0c\\(\\pi(a_t|s_t, \\theta_{t+1}) &lt; \\pi(a_t|s_t, \\theta_t)\\)\u3002</p> </li> <li> <p>\u5176\u6b21\uff0c\u7531\u4e8e\\(\\beta_t\\)\u7684\u5b58\u5728\uff0c\u8be5\u7b97\u6cd5\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u80fd\u591f\u5728\u63a2\u7d22\u4e0e\u5229\u7528\u4e4b\u95f4\u53d6\u5f97\u5e73\u8861\u3002</p> \\[\\beta_t = \\frac{q_t(s_t, a_t)}{\\pi(a_t \\mid s_t, \\theta_t)}\\] <p>\u4e00\u65b9\u9762\uff0c\\(\\beta_t\\)\u4e0e\\(q_t(s_t, a_t)\\)\u6210\u6b63\u6bd4\u3002\u56e0\u6b64\uff0c\u82e5\u72b6\u6001-\u884c\u52a8\u5bf9\\((s_t, a_t)\\)\u7684\u884c\u52a8\u503c\u8f83\u5927\uff0c\u5219\u7b56\u7565\\(\\pi(a_t|s_t, \\theta_t)\\)\u4f1a\u589e\u5f3a\uff0c\u4ece\u800c\u63d0\u9ad8\u9009\u62e9\u884c\u52a8\\(a_t\\)\u7684\u6982\u7387\u3002\u6b64\u65f6\u7b97\u6cd5\u503e\u5411\u4e8e\u5229\u7528\u9ad8\u4ef7\u503c\u52a8\u4f5c\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u5f53\\(q_t(s_t, a_t) &gt;0\\)\u65f6\uff0c\\(\\beta_t\\)\u4e0e\\(\\pi(a_t|s_t, \\theta_t)\\)\u6210\u53cd\u6bd4\u3002\u56e0\u6b64\uff0c\u82e5\u9009\u62e9\u884c\u52a8\\(a_t\\)\u7684\u521d\u59cb\u6982\u7387\u8f83\u5c0f\uff0c\u7b56\u7565\\(\\pi(a_t|s_t, \\theta_t)\\)\u4f1a\u88ab\u589e\u5f3a\u4ee5\u63d0\u5347\u5176\u9009\u62e9\u6982\u7387\u3002\u6b64\u65f6\u7b97\u6cd5\u503e\u5411\u4e8e\u63a2\u7d22\u4f4e\u6982\u7387\u52a8\u4f5c\u3002</p> </li> </ul> <p>Note</p> <p>\u5982\u679c\u521a\u5f00\u59cb\\(a_t\\)\u9009\u62e9\u6982\u7387\u6bd4\u8f83\u5c0f\uff0c\u90a3\u4e48\u6211\u4f1a\u5728\u4e0b\u4e2a\u65f6\u523b\u7ed9\u4ed6\u66f4\u5927\u7684\u6982\u7387\u53bb\u9009\u62e9\u5b83.</p> <p>\u6b64\u5916\uff0c\u7531\u4e8e\\((9.32)\\)\u91c7\u7528\u6837\u672c\u6765\u8fd1\u4f3c\\((9.31)\\)\u4e2d\u7684\u771f\u5b9e\u68af\u5ea6\uff0c\u56e0\u6b64\u7406\u89e3\u5982\u4f55\u83b7\u53d6\u8fd9\u4e9b\u6837\u672c\u81f3\u5173\u91cd\u8981\u3002</p> <ul> <li> <p>\u5982\u4f55\u91c7\u6837\\(S\\)?\u771f\u5b9e\u68af\u5ea6\\(\\mathbb{E}[\\nabla_\\theta \\ln \\pi(A|S, \\theta_t)q_\\pi(S, A)]\\)\u4e2d\u7684\\(S\\)\u5e94\u670d\u4ece\u5206\u5e03\\(\\eta\\)\uff0c\u8be5\u5206\u5e03\u53ef\u4ee5\u662f\u7a33\u6001\u5206\u5e03\\(d_\\pi\\)\u6216\\((9.19)\\)\u5f0f\u4e2d\u7684\u6298\u6263\u603b\u6982\u7387\u5206\u5e03\\(\\rho_\\pi\\)\u3002\\(d_\\pi\\)\u548c\\(\\rho_\\pi\\)\u5747\u8868\u793a\u7b56\u7565\\(\\pi\\)\u4e0b\u7684\u957f\u671f\u884c\u4e3a\u7279\u5f81\u3002</p> </li> <li> <p>\u5982\u4f55\u5bf9\u884c\u52a8\\(A\\)\u8fdb\u884c\u91c7\u6837\uff1f\u5728\u671f\u671b\u8868\u8fbe\u5f0f\\(\\mathbb{E}[\\nabla_\\theta \\ln \\pi(A|S, \\theta_t) q_\\pi(S, A)]\\)\u4e2d\uff0c\\(A\\)\u5e94\u670d\u4ece\u7b56\u7565\u5206\u5e03\\(\\pi(A|S, \\theta)\\)\u3002\u7406\u60f3\u91c7\u6837\u65b9\u5f0f\u662f\u6839\u636e\u5f53\u524d\u7b56\u7565\\(\\pi(a|s_t, \\theta_t)\\)\u9009\u62e9\u884c\u52a8\uff0c\u56e0\u6b64\u7b56\u7565\u68af\u5ea6\u7b97\u6cd5\u5c5e\u4e8e\u540c\u7b56\u7565\u65b9\u6cd5\u3002</p> </li> </ul> <p>\u9057\u61be\u7684\u662f\uff0c\u7531\u4e8e\u91c7\u6837\u6548\u7387\u8f83\u4f4e\uff0c\u5b9e\u8df5\u4e2d\u5e76\u672a\u4e25\u683c\u9075\u5faa\u5bf9\u72b6\u6001\u7a7a\u95f4\\(S\\)\u548c\u52a8\u4f5c\u7a7a\u95f4\\(A\\)\u7684\u7406\u60f3\u91c7\u6837\u65b9\u5f0f\u3002\u7b97\u6cd5\\(9.1\\)\u7ed9\u51fa\u4e86\u516c\u5f0f\\((9.32)\\)\u7684\u4e00\u79cd\u66f4\u9ad8\u6837\u672c\u6548\u7387\u7684\u5b9e\u73b0\u65b9\u6848\uff1a\u8be5\u65b9\u6848\u9996\u5148\u901a\u8fc7\u7b56\u7565\\(\\pi(\\theta)\\)\u751f\u6210\u5b8c\u6574\u56de\u5408\u8f68\u8ff9\uff0c\u968f\u540e\u5229\u7528\u8be5\u56de\u5408\u4e2d\u7684\u6bcf\u4e2a\u7ecf\u9a8c\u6837\u672c\u5bf9\u53c2\u6570\\(\\theta\\)\u8fdb\u884c\u591a\u6b21\u66f4\u65b0\u3002</p> <p></p> <p>\u7b97\u6cd5\\(9.1\\)\uff1a\u57fa\u4e8e\u8499\u7279\u5361\u6d1b\u7684\u7b56\u7565\u68af\u5ea6(REINFORCE)</p>"},{"location":"Chapter-9/9-5/","title":"9.5-\u603b\u7ed3","text":""},{"location":"Chapter-9/9-5/#95","title":"9.5 \u603b\u7ed3","text":"<p>\u672c\u7ae0\u4ecb\u7ecd\u4e86\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u6784\u6210\u4e86\u8bb8\u591a\u73b0\u4ee3\u5f3a\u5316\u5b66\u4e60\u7b97\u6cd5\u7684\u57fa\u7840\u3002\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\u5c5e\u4e8e\u57fa\u4e8e\u7b56\u7565\u7684\u7b97\u6cd5\uff0c\u8fd9\u662f\u672c\u4e66\u7684\u91cd\u8981\u8fdb\u5c55\uff0c\u56e0\u4e3a\u524d\u51e0\u7ae0\u7684\u6240\u6709\u65b9\u6cd5\u5747\u57fa\u4e8e\u4ef7\u503c\u51fd\u6570(value-based)\u3002\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\u7684\u57fa\u672c\u601d\u60f3\u7b80\u660e\u76f4\u63a5\uff1a\u9009\u53d6\u9002\u5f53\u7684\u6807\u91cf\u6307\u6807\uff0c\u5e76\u901a\u8fc7\u68af\u5ea6\u4e0a\u5347\u7b97\u6cd5\u5bf9\u5176\u8fdb\u884c\u4f18\u5316\u3002</p> <p>\u7b56\u7565\u68af\u5ea6\u6cd5\u6700\u590d\u6742\u7684\u90e8\u5206\u5728\u4e8e\u6307\u6807\u68af\u5ea6\u7684\u63a8\u5bfc\u3002\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u9700\u8981\u533a\u5206\u4e0d\u540c\u6307\u6807\u4ee5\u53ca\u662f\u5426\u8003\u8651\u6298\u73b0\u56e0\u5b50\u7684\u591a\u79cd\u60c5\u5f62\u3002\u6240\u5e78\u4e0d\u540c\u60c5\u5f62\u4e0b\u7684\u68af\u5ea6\u8868\u8fbe\u5f0f\u5177\u6709\u76f8\u4f3c\u6027\uff0c\u56e0\u6b64\u6211\u4eec\u5728\u5b9a\u7406\\(9.1\\)\u4e2d\u603b\u7ed3\u4e86\u8fd9\u4e9b\u8868\u8fbe\u5f0f\u2014\u2014\u8fd9\u662f\u672c\u7ae0\u6700\u91cd\u8981\u7684\u7406\u8bba\u6210\u679c\u3002\u5bf9\u591a\u6570\u8bfb\u8005\u800c\u8a00\uff0c\u638c\u63e1\u8be5\u5b9a\u7406\u5df2\u8db3\u591f\u3002\u5176\u8bc1\u660e\u8fc7\u7a0b\u8f83\u4e3a\u590d\u6742\uff0c\u5e76\u975e\u6240\u6709\u8bfb\u8005\u90fd\u9700\u8981\u7814\u8bfb\u3002</p> <p>\\((9.32)\\)\u4e2d\u7684\u7b56\u7565\u68af\u5ea6\u7b97\u6cd5\u5fc5\u987b\u88ab\u6b63\u786e\u7406\u89e3\uff0c\u56e0\u4e3a\u5b83\u662f\u8bb8\u591a\u9ad8\u7ea7\u7b56\u7565\u68af\u5ea6\u7b97\u6cd5\u7684\u57fa\u7840\u3002\u5728\u4e0b\u4e00\u7ae0\u4e2d\uff0c\u8be5\u7b97\u6cd5\u5c06\u88ab\u6269\u5c55\u4e3a\u53e6\u4e00\u79cd\u91cd\u8981\u7684\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\uff0c\u79f0\u4e3a\u6f14\u5458-\u8bc4\u8bba\u5bb6\u65b9\u6cd5(actor-critic)\u3002</p>"},{"location":"Chapter-9/intro/","title":"\u4ecb\u7ecd","text":"<p>\u51fd\u6570\u8fd1\u4f3c\u7684\u601d\u60f3\u4e0d\u4ec5\u53ef\u4ee5\u7528\u4e8e\u8868\u793a\u72b6\u6001/\u884c\u52a8\u503c(\u7b2c8\u7ae0\u6240\u8ff0)\uff0c\u8fd8\u53ef\u7528\u4e8e\u8868\u793a\u7b56\u7565(\u5982\u672c\u7ae0\u6240\u8ff0)\u3002\u672c\u4e66\u6b64\u524d\u4ecb\u7ecd\u7684\u7b56\u7565\u5747\u91c7\u7528\u8868\u683c\u5f62\u5f0f\u8868\u793a\uff1a\u6240\u6709\u72b6\u6001\u7684\u884c\u52a8\u6982\u7387\u5b58\u50a8\u4e8e\u8868\u683c\u4e2d(\u4f8b\u5982\u8868\\(9.1\\))\u3002\u672c\u7ae0\u5c06\u8bc1\u660e\u7b56\u7565\u53ef\u901a\u8fc7\u53c2\u6570\u5316\u51fd\u6570\u8868\u793a\u4e3a\\(\\pi(a|s, \\theta)\\)\uff0c\u5176\u4e2d\\(\\theta \\in \\mathbb{R}^m\\)\u4e3a\u53c2\u6570\u5411\u91cf\u3002\u8be5\u51fd\u6570\u4ea6\u53ef\u8868\u793a\u4e3a\u5176\u4ed6\u5f62\u5f0f\uff0c\u5982\\(\\pi_\\theta(a|s)\\)\u3001\\(\\pi_\\theta(a, s)\\)\u6216\\(\\pi(a,s,\\theta)\\)\u3002</p> <p>\u5f53\u7b56\u7565\u88ab\u8868\u793a\u4e3a\u51fd\u6570\u65f6\uff0c\u6700\u4f18\u7b56\u7565\u53ef\u901a\u8fc7\u4f18\u5316\u7279\u5b9a\u6807\u91cf\u6307\u6807\u83b7\u5f97\u3002\u6b64\u7c7b\u65b9\u6cd5\u79f0\u4e3a\u7b56\u7565\u68af\u5ea6\u6cd5(policy gradient)\u3002\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\u5728\u672c\u4e66\u4e2d\u662f\u4e00\u5927\u8fdb\u6b65\uff0c\u56e0\u4e3a\u5b83\u662f\u57fa\u4e8e\u7b56\u7565\u7684(policy-based)\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u672c\u4e66\u524d\u51e0\u7ae0\u8ba8\u8bba\u7684\u90fd\u662f\u57fa\u4e8e\u4ef7\u503c\u7684\u65b9\u6cd5(value-based)\u3002\u7b56\u7565\u68af\u5ea6\u65b9\u6cd5\u7684\u4f18\u52bf\u4f17\u591a\uff0c\u4f8b\u5982\uff1a\u5b83\u80fd\u66f4\u9ad8\u6548\u5730\u5904\u7406\u5927\u89c4\u6a21\u72b6\u6001/\u884c\u52a8\u7a7a\u95f4\uff1b\u5176\u6cdb\u5316\u80fd\u529b\u66f4\u5f3a\uff0c\u56e0\u6b64\u5728\u6837\u672c\u5229\u7528\u6548\u7387\u4e0a\u66f4\u5177\u4f18\u52bf\u3002</p> <p></p> <p>\u8868\\(9.1\\)\uff1a\u7b56\u7565\u7684\u8868\u683c\u5316\u8868\u793a\u3002\u8be5\u8868\u5305\u542b\\(9\\)\u4e2a\u72b6\u6001\uff0c\u6bcf\u4e2a\u72b6\u6001\u5bf9\u5e94\\(5\\)\u4e2a\u884c\u52a8\u3002</p>"}]}