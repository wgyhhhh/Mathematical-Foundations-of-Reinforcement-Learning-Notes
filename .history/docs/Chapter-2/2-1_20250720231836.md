## 2.1 为什么回报很重要?

上一章介绍了回报的概念。事实上，回报在强化学习中起着根本性的作用，因为它可以评估一个策略是好还是坏，下面的例子就证明了这一点。


 ![](../img/02/1.png)

 > 图2.2: 举例说明回报的重要性。这三个例子对$s_1$采用了不同的政策。

请看图2.2所示的三种策略。可以看出，三种策略在$s_1$时是不同的。哪种策略最好，哪种策略最差？直观地说，最左边的
策略是最好的，因为从$s_1$开始的代理可以避开禁区。中间的策略直观上较差，因为从$s_1$开始的代理移动到了禁区。最右边的策略介于其他策略之间，因为它进入禁区的概率为$0.5$。

虽然上述分析是基于直觉，但随之而来的一个问题是，我们能否用数学来描述这种直觉。答案是肯定的，并且我们可以依赖于回报概念来描述。具体来说，假设代理从$s_1$开始。


1.   按照第一种策略，轨迹为$s_1\rightarrow s_3\rightarrow s_4\rightarrow s_4\cdots$，相应的贴现回报为:

    $$\begin{aligned}\mathrm{return}_{1}&=0+\gamma1+\gamma^{2}1+\ldots\\&=\gamma(1+\gamma+\gamma^2+\ldots)\\&=\frac{\gamma}{1-\gamma},\end{aligned}$$    

    其中$\gamma \in (0,1)$是折现率。
    
2.   按照第二种策略，轨迹为$s_1\rightarrow s_2\rightarrow s_4\rightarrow s_4\cdots$，相应的贴现回报：
   
    $$\begin{aligned}\mathrm{return}_{2}&=-1+\gamma1+\gamma^{2}1+\ldots\\&=-1+\gamma(1+\gamma+\gamma^2+\ldots)\\&=-1+\frac{\gamma}{1-\gamma}.\end{aligned}$$

3.   按照第三种策略，有两种可能的策略。第一个是$s_1\rightarrow s_3\rightarrow s_4\rightarrow s_4\cdots$，另一个是$s_1\rightarrow s_2\rightarrow s_4\rightarrow s_4\cdots$。这两条轨迹的可能性均为$0.5$。那么平均回报为:

   $$\begin{aligned}\mathrm{return}_{3}&=0.5\left(-1+\frac{\gamma}{1-\gamma}\right)+0.5\left(\frac{\gamma}{1-\gamma}\right)\\&=-0.5+\frac{\gamma}{1-\gamma}.\end{aligned}$$

通过
