## 2.7根据贝尔曼方程求解状态值

计算给定策略的状态值是强化学习中的一个基本问题。这个问题通常被称为 "策略评估"。在本节中，我们将介绍从贝尔曼方程计算状态值的两种方法。

### 2.7.1 封闭式解决方案

由于$v_{\pi}=r_{\pi}+\gamma P_{\pi}v_{\pi}$是一个简单的线性方程，因此很容易求出其封闭方程的解，即

$$v_{\pi}=(I-\gamma P_{\pi})^{-1}r_{\pi}.$$

下面给出了$(I-\gamma P_{\pi})^{-1}$的一些特性。

- $I-\gamma P_{\pi}$是可逆的。证明如下，根据格什高林圆定理[4]，$I-\gamma P_{\pi}$的每个特征值都位于至少一个格什高林圆内。第$i$个格什高林圆的圆心位于$[I-\gamma P_{\pi}]_{ii}=1-\gamma p_{\pi}(s_{i}|s_{i})$，半径等于$\sum_{j\neq i}[I-\gamma P_{\pi}]_{ij}=-\sum_{j\neq i}\gamma p_{\pi}(s_{j}|s_{i}).$。由于$\gamma<1$，我们知道半径小于中心大小: $\sum_{j\neq i}\gamma p_{\pi}(s_{j}|s_{i})<1-\gamma p_{\pi}(s_{i}|s_{i}).$。因此，所有格什高林圆都不环绕原点，因此$I-\gamma P_{\pi}$的任何特征值都不为零。